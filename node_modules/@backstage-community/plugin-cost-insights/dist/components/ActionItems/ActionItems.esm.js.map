{"version":3,"file":"ActionItems.esm.js","sources":["../../../src/components/ActionItems/ActionItems.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { Fragment, MouseEventHandler } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { IconButtonProps } from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport { default as SnoozeIcon } from '@material-ui/icons/AccessTime';\nimport { default as AcceptIcon } from '@material-ui/icons/Check';\nimport { default as DismissIcon } from '@material-ui/icons/Delete';\nimport { ActionItemCard } from './ActionItemCard';\nimport { Alert, AlertStatus } from '../../types';\nimport { useScroll, ScrollType } from '../../hooks';\nimport { useActionItemCardStyles as useStyles } from '../../utils/styles';\n\ntype AlertStatusButtonProps = {\n  title: string;\n  amount: number;\n  icon: JSX.Element;\n  onClick: MouseEventHandler;\n} & IconButtonProps;\n\nconst AlertStatusButton = ({\n  title,\n  amount,\n  icon,\n  onClick,\n  ...buttonProps\n}: AlertStatusButtonProps) => (\n  <Tooltip title={title}>\n    <IconButton\n      onClick={onClick}\n      role=\"button\"\n      aria-hidden={false}\n      {...buttonProps}\n    >\n      <Badge badgeContent={amount}>{icon}</Badge>\n    </IconButton>\n  </Tooltip>\n);\n\ntype ActionItemsProps = {\n  active: Alert[];\n  snoozed: Alert[];\n  accepted: Alert[];\n  dismissed: Alert[];\n};\n\nexport const ActionItems = ({\n  active,\n  snoozed,\n  accepted,\n  dismissed,\n}: ActionItemsProps) => {\n  const classes = useStyles();\n  const [, setScroll] = useScroll();\n\n  const isSnoozedButtonDisplayed = !!snoozed.length;\n  const isAcceptedButtonDisplayed = !!accepted.length;\n  const isDismissedButtonDisplayed = !!dismissed.length;\n  const isStatusButtonGroupDisplayed = !!active.length;\n\n  const onStatusButtonClick: MouseEventHandler = () =>\n    setScroll(ScrollType.AlertSummary);\n\n  return (\n    <>\n      <Paper>\n        {active.map((alert, index) => (\n          <Fragment key={`alert-${index}`}>\n            <ActionItemCard\n              alert={alert}\n              number={index + 1}\n              avatar={<Avatar className={classes.avatar}>{index + 1}</Avatar>}\n            />\n            {index < active.length - 1 && <Divider />}\n          </Fragment>\n        ))}\n      </Paper>\n      {isStatusButtonGroupDisplayed && (\n        <Box display=\"flex\" justifyContent=\"flex-end\" mt={2}>\n          {isAcceptedButtonDisplayed && (\n            <AlertStatusButton\n              title=\"Accepted\"\n              aria-label={AlertStatus.Accepted}\n              icon={<AcceptIcon />}\n              amount={accepted.length}\n              onClick={onStatusButtonClick}\n            />\n          )}\n          {isSnoozedButtonDisplayed && (\n            <AlertStatusButton\n              title=\"Snoozed\"\n              aria-label={AlertStatus.Snoozed}\n              amount={snoozed.length}\n              icon={<SnoozeIcon />}\n              onClick={onStatusButtonClick}\n            />\n          )}\n          {isDismissedButtonDisplayed && (\n            <AlertStatusButton\n              title=\"Dismissed\"\n              aria-label={AlertStatus.Dismissed}\n              icon={<DismissIcon />}\n              amount={dismissed.length}\n              onClick={onStatusButtonClick}\n            />\n          )}\n        </Box>\n      )}\n    </>\n  );\n};\n"],"names":["useStyles"],"mappings":"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"}