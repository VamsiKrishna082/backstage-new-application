import React from 'react';
import MenuItem from '@material-ui/core/MenuItem';
import Select from '@material-ui/core/Select';
import { useSelectStyles } from '../../utils/styles.esm.js';

const ProjectSelect = ({
  project,
  projects,
  onSelect
}) => {
  const classes = useSelectStyles();
  const projectOptions = projects.filter((p) => p.id).sort(
    (a, b) => (a.name ?? a.id).localeCompare(b.name ?? b.id)
  );
  const handleOnChange = (e) => {
    onSelect(e.target.value);
  };
  const renderValue = (value) => {
    const proj = value;
    const projectObj = projects.find((p) => p.id === proj);
    return /* @__PURE__ */ React.createElement("b", { "data-testid": `selected-${proj}` }, proj === "all" ? "All Projects" : projectObj?.name ?? proj);
  };
  return /* @__PURE__ */ React.createElement(
    Select,
    {
      className: classes.select,
      variant: "outlined",
      value: project ?? "all",
      renderValue,
      onChange: handleOnChange,
      "data-testid": "project-filter-select"
    },
    [{ id: "all" }, ...projectOptions].map((proj) => /* @__PURE__ */ React.createElement(
      MenuItem,
      {
        className: `${classes.menuItem} compact`,
        key: proj.id,
        value: proj.id,
        "data-testid": `option-${proj.id}`
      },
      proj.id === "all" ? "All Projects" : proj.name ?? proj.id
    ))
  );
};

export { ProjectSelect };
//# sourceMappingURL=ProjectSelect.esm.js.map
