{"version":3,"file":"providers.esm.js","sources":["../../src/testUtils/providers.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PropsWithChildren } from 'react';\nimport {\n  LoadingContext,\n  LoadingContextProps,\n  GroupsContext,\n  GroupsContextProps,\n  FilterContext,\n  FilterContextProps,\n  ConfigContext,\n  ConfigContextProps,\n  CurrencyContext,\n  CurrencyContextProps,\n  BillingDateContext,\n  BillingDateContextProps,\n  ScrollContext,\n  ScrollContextProps,\n} from '../hooks';\nimport { Duration, EngineerThreshold } from '../types';\nimport { createCurrencyFormat } from '../utils/currency';\n\nexport type MockFilterProviderProps = PropsWithChildren<\n  Partial<FilterContextProps>\n>;\n\nexport const MockFilterProvider = ({\n  children,\n  ...context\n}: MockFilterProviderProps) => {\n  const defaultContext: FilterContextProps = {\n    pageFilters: {\n      group: 'tech',\n      project: null,\n      duration: Duration.P90D,\n      metric: null,\n    },\n    productFilters: [],\n    setPageFilters: jest.fn(),\n    setProductFilters: jest.fn(),\n  };\n  return (\n    <FilterContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </FilterContext.Provider>\n  );\n};\n\nexport type MockLoadingProviderProps = PropsWithChildren<\n  Partial<LoadingContextProps>\n>;\n\nexport const MockLoadingProvider = ({\n  children,\n  ...context\n}: MockLoadingProviderProps) => {\n  const defaultContext: LoadingContextProps = {\n    state: {},\n    actions: [],\n    dispatch: jest.fn(),\n  };\n  return (\n    <LoadingContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </LoadingContext.Provider>\n  );\n};\n\n/** @public */\nexport type MockConfigProviderProps = PropsWithChildren<\n  Partial<ConfigContextProps>\n>;\n\n/** @public */\nexport const MockConfigProvider = (props: MockConfigProviderProps) => {\n  const { children, ...context } = props;\n\n  const defaultContext: ConfigContextProps = {\n    baseCurrency: createCurrencyFormat(),\n    metrics: [],\n    products: [],\n    icons: [],\n    engineerCost: 0,\n    engineerThreshold: EngineerThreshold,\n    hideTrendLine: false,\n    currencies: [],\n  };\n\n  return (\n    <ConfigContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </ConfigContext.Provider>\n  );\n};\n\n/** @public */\nexport type MockCurrencyProviderProps = PropsWithChildren<\n  Partial<CurrencyContextProps>\n>;\n\n/** @public */\nexport const MockCurrencyProvider = (props: MockCurrencyProviderProps) => {\n  const { children, ...context } = props;\n\n  const defaultContext: CurrencyContextProps = {\n    currency: {\n      kind: null,\n      label: 'Engineers ðŸ› ',\n      unit: 'engineer',\n    },\n    setCurrency: jest.fn(),\n  };\n\n  return (\n    <CurrencyContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </CurrencyContext.Provider>\n  );\n};\n\nexport type MockBillingDateProviderProps = PropsWithChildren<\n  Partial<BillingDateContextProps>\n>;\n\nexport const MockBillingDateProvider = ({\n  children,\n  ...context\n}: MockBillingDateProviderProps) => {\n  const defaultContext: BillingDateContextProps = {\n    lastCompleteBillingDate: '2020-10-01',\n  };\n  return (\n    <BillingDateContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </BillingDateContext.Provider>\n  );\n};\n\nexport type MockScrollProviderProps = PropsWithChildren<{}>;\n\nexport const MockScrollProvider = ({ children }: MockScrollProviderProps) => {\n  const defaultContext: ScrollContextProps = {\n    scroll: null,\n    setScroll: jest.fn(),\n  };\n  return (\n    <ScrollContext.Provider value={defaultContext}>\n      {children}\n    </ScrollContext.Provider>\n  );\n};\n\nexport type MockGroupsProviderProps = PropsWithChildren<\n  Partial<GroupsContextProps>\n>;\n\nexport const MockGroupsProvider = ({\n  children,\n  ...context\n}: MockGroupsProviderProps) => {\n  const defaultContext: GroupsContextProps = {\n    groups: [],\n  };\n  return (\n    <GroupsContext.Provider value={{ ...defaultContext, ...context }}>\n      {children}\n    </GroupsContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAwFa,MAAA,kBAAA,GAAqB,CAAC,KAAmC,KAAA;AACpE,EAAA,MAAM,EAAE,QAAA,EAAU,GAAG,OAAA,EAAY,GAAA,KAAA;AAEjC,EAAA,MAAM,cAAqC,GAAA;AAAA,IACzC,cAAc,oBAAqB,EAAA;AAAA,IACnC,SAAS,EAAC;AAAA,IACV,UAAU,EAAC;AAAA,IACX,OAAO,EAAC;AAAA,IACR,YAAc,EAAA,CAAA;AAAA,IACd,iBAAmB,EAAA,iBAAA;AAAA,IACnB,aAAe,EAAA,KAAA;AAAA,IACf,YAAY;AAAC,GACf;AAEA,EACE,uBAAA,KAAA,CAAA,aAAA,CAAC,aAAc,CAAA,QAAA,EAAd,EAAuB,KAAA,EAAO,EAAE,GAAG,cAAgB,EAAA,GAAG,OAAQ,EAAA,EAAA,EAC5D,QACH,CAAA;AAEJ;AAQa,MAAA,oBAAA,GAAuB,CAAC,KAAqC,KAAA;AACxE,EAAA,MAAM,EAAE,QAAA,EAAU,GAAG,OAAA,EAAY,GAAA,KAAA;AAEjC,EAAA,MAAM,cAAuC,GAAA;AAAA,IAC3C,QAAU,EAAA;AAAA,MACR,IAAM,EAAA,IAAA;AAAA,MACN,KAAO,EAAA,qBAAA;AAAA,MACP,IAAM,EAAA;AAAA,KACR;AAAA,IACA,WAAA,EAAa,KAAK,EAAG;AAAA,GACvB;AAEA,EACE,uBAAA,KAAA,CAAA,aAAA,CAAC,eAAgB,CAAA,QAAA,EAAhB,EAAyB,KAAA,EAAO,EAAE,GAAG,cAAgB,EAAA,GAAG,OAAQ,EAAA,EAAA,EAC9D,QACH,CAAA;AAEJ;;;;"}