{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { gcpApiRef, GcpClient } from './api';\nimport { rootRouteRef } from './routes';\nimport {\n  createApiFactory,\n  createPlugin,\n  createRoutableExtension,\n  googleAuthApiRef,\n} from '@backstage/core-plugin-api';\n\n/** @public */\nexport const gcpProjectsPlugin = createPlugin({\n  id: 'gcp-projects',\n  routes: {\n    root: rootRouteRef,\n  },\n  apis: [\n    createApiFactory({\n      api: gcpApiRef,\n      deps: { googleAuthApi: googleAuthApiRef },\n      factory({ googleAuthApi }) {\n        return new GcpClient(googleAuthApi);\n      },\n    }),\n  ],\n});\n\n/** @public */\nexport const GcpProjectsPage = gcpProjectsPlugin.provide(\n  createRoutableExtension({\n    name: 'GcpProjectsPage',\n    component: () =>\n      import('./components/GcpProjectsPage').then(m => m.GcpProjectsPage),\n    mountPoint: rootRouteRef,\n  }),\n);\n"],"names":[],"mappings":";;;;;AA0BO,MAAM,oBAAoB,YAAa,CAAA;AAAA,EAC5C,EAAI,EAAA,cAAA;AAAA,EACJ,MAAQ,EAAA;AAAA,IACN,IAAM,EAAA;AAAA,GACR;AAAA,EACA,IAAM,EAAA;AAAA,IACJ,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,SAAA;AAAA,MACL,IAAA,EAAM,EAAE,aAAA,EAAe,gBAAiB,EAAA;AAAA,MACxC,OAAA,CAAQ,EAAE,aAAA,EAAiB,EAAA;AACzB,QAAO,OAAA,IAAI,UAAU,aAAa,CAAA;AAAA;AACpC,KACD;AAAA;AAEL,CAAC;AAGM,MAAM,kBAAkB,iBAAkB,CAAA,OAAA;AAAA,EAC/C,uBAAwB,CAAA;AAAA,IACtB,IAAM,EAAA,iBAAA;AAAA,IACN,SAAA,EAAW,MACT,OAAO,2CAA8B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,eAAe,CAAA;AAAA,IACpE,UAAY,EAAA;AAAA,GACb;AACH;;;;"}