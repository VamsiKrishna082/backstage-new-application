import useAsync from 'react-use/esm/useAsync';
import { githubActionsApiRef } from '../../api/GithubActionsApi.esm.js';
import '@backstage/integration';
import '@octokit/rest';
import { buildRouteRef } from '../../routes.esm.js';
import { useApi, useRouteRefParams } from '@backstage/core-plugin-api';

const useWorkflowRunsDetails = ({
  hostname,
  owner,
  repo
}) => {
  const api = useApi(githubActionsApiRef);
  const { id } = useRouteRefParams(buildRouteRef);
  const details = useAsync(async () => {
    return repo && owner ? api.getWorkflowRun({
      hostname,
      owner,
      repo,
      id: parseInt(id, 10)
    }) : Promise.reject(new Error("No repo/owner provided"));
  }, [repo, owner, id]);
  return details;
};

export { useWorkflowRunsDetails };
//# sourceMappingURL=useWorkflowRunsDetails.esm.js.map
