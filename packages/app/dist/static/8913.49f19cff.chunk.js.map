{"version":3,"file":"static/8913.49f19cff.chunk.js","mappings":"4MAAA,MAAMA,EAAkC,uBAClCC,EAAwC,6BACxCC,EAA0C,+BAC1CC,EAAwC,6BACxCC,EAAgCC,GAAWA,GAAQ,SAAS,cAAcJ,CAAqC,GAAKI,GAAQ,SAAS,cAAcL,CAA+B,EAClLM,EAA4BD,GAAW,EAC3CA,GAAQ,SAAS,cAAcH,CAAuC,EAElEK,EAAgCF,GAAW,EAC/CA,GAAQ,SAAS,cAAcF,CAAqC,EAEhEK,EAA+BH,GAAWA,GAAQ,SAAS,cAAcJ,CAAqC,GAAKI,GAAQ,SAAS,cAAcL,CAA+B,GAAK,GACtLS,EAA2BJ,GAAW,CAC1C,MAAMK,EAAaL,GAAQ,SAAS,cAAcH,CAAuC,GAAK,GACxFS,EAAYD,EAAW,MAAM,GAAG,EAAE,IAAKE,GAAMA,EAAE,KAAK,CAAC,EAC3D,OAAID,EAAU,OAAS,EACdA,EAEFD,CACT,EACMG,EAA+BR,GAAWA,GAAQ,SAAS,cAAcF,CAAqC,GAAK,GACnHW,EAAwBN,C,kICjB9B,MAAMO,EAAkB,CAAC,CAAE,SAAAC,CAAS,IACX,gBACrB,SACA,CACE,MAAOA,EACP,IAAKA,EACL,MAAO,OACP,OAAQ,OACR,eAAgB,iCAClB,CACF,EAEIC,EAAwB,IAAM,CAClC,KAAM,CAAE,OAAAZ,CAAO,KAAI,MAAU,EAC7B,SAAK,MAA6BA,CAAM,EAQjB,gBAAoBU,EAAiB,CAAE,YAAU,MAA4BV,CAAM,CAAE,CAAC,EAPpF,gBACrB,IACA,CACE,WAAY,IACd,CACF,CAGJ,C","sources":["webpack://app/../../node_modules/@backstage-community/plugin-grafana/dist/constants.esm.js","webpack://app/../../node_modules/@backstage-community/plugin-grafana/dist/components/DashboardViewer/DashboardViewer.esm.js"],"sourcesContent":["const GRAFANA_ANNOTATION_TAG_SELECTOR = \"grafana/tag-selector\";\nconst GRAFANA_ANNOTATION_DASHBOARD_SELECTOR = \"grafana/dashboard-selector\";\nconst GRAFANA_ANNOTATION_ALERT_LABEL_SELECTOR = \"grafana/alert-label-selector\";\nconst GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD = \"grafana/overview-dashboard\";\nconst isDashboardSelectorAvailable = (entity) => entity?.metadata.annotations?.[GRAFANA_ANNOTATION_DASHBOARD_SELECTOR] || entity?.metadata.annotations?.[GRAFANA_ANNOTATION_TAG_SELECTOR];\nconst isAlertSelectorAvailable = (entity) => Boolean(\n  entity?.metadata.annotations?.[GRAFANA_ANNOTATION_ALERT_LABEL_SELECTOR]\n);\nconst isOverviewDashboardAvailable = (entity) => Boolean(\n  entity?.metadata.annotations?.[GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD]\n);\nconst dashboardSelectorFromEntity = (entity) => entity?.metadata.annotations?.[GRAFANA_ANNOTATION_DASHBOARD_SELECTOR] ?? entity?.metadata.annotations?.[GRAFANA_ANNOTATION_TAG_SELECTOR] ?? \"\";\nconst alertSelectorFromEntity = (entity) => {\n  const annotation = entity?.metadata.annotations?.[GRAFANA_ANNOTATION_ALERT_LABEL_SELECTOR] ?? \"\";\n  const selectors = annotation.split(\",\").map((l) => l.trim());\n  if (selectors.length > 1) {\n    return selectors;\n  }\n  return annotation;\n};\nconst overviewDashboardFromEntity = (entity) => entity?.metadata.annotations?.[GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD] ?? \"\";\nconst tagSelectorFromEntity = dashboardSelectorFromEntity;\n\nexport { GRAFANA_ANNOTATION_ALERT_LABEL_SELECTOR, GRAFANA_ANNOTATION_DASHBOARD_SELECTOR, GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD, GRAFANA_ANNOTATION_TAG_SELECTOR, alertSelectorFromEntity, dashboardSelectorFromEntity, isAlertSelectorAvailable, isDashboardSelectorAvailable, isOverviewDashboardAvailable, overviewDashboardFromEntity, tagSelectorFromEntity };\n//# sourceMappingURL=constants.esm.js.map\n","import React from 'react';\nimport { useEntity, MissingAnnotationEmptyState } from '@backstage/plugin-catalog-react';\nimport { isOverviewDashboardAvailable, GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD, overviewDashboardFromEntity } from '../../constants.esm.js';\n\nconst DashboardViewer = ({ embedUrl }) => {\n  return /* @__PURE__ */ React.createElement(\n    \"iframe\",\n    {\n      title: embedUrl,\n      src: embedUrl,\n      width: \"100%\",\n      height: \"100%\",\n      referrerPolicy: \"strict-origin-when-cross-origin\"\n    }\n  );\n};\nconst EntityDashboardViewer = () => {\n  const { entity } = useEntity();\n  if (!isOverviewDashboardAvailable(entity)) {\n    return /* @__PURE__ */ React.createElement(\n      MissingAnnotationEmptyState,\n      {\n        annotation: GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD\n      }\n    );\n  }\n  return /* @__PURE__ */ React.createElement(DashboardViewer, { embedUrl: overviewDashboardFromEntity(entity) });\n};\n\nexport { DashboardViewer, EntityDashboardViewer };\n//# sourceMappingURL=DashboardViewer.esm.js.map\n"],"names":["GRAFANA_ANNOTATION_TAG_SELECTOR","GRAFANA_ANNOTATION_DASHBOARD_SELECTOR","GRAFANA_ANNOTATION_ALERT_LABEL_SELECTOR","GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD","isDashboardSelectorAvailable","entity","isAlertSelectorAvailable","isOverviewDashboardAvailable","dashboardSelectorFromEntity","alertSelectorFromEntity","annotation","selectors","l","overviewDashboardFromEntity","tagSelectorFromEntity","DashboardViewer","embedUrl","EntityDashboardViewer"],"sourceRoot":""}