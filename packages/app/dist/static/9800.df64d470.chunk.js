"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9800],{89800:(V,y,t)=>{t.r(y),t.d(y,{LatestWorkflowRunCard:()=>p,LatestWorkflowsForBranchCard:()=>G,RecentWorkflowRunsCard:()=>K});var s=t(31085),v=t(16400),P=t(88951),x=t(72501),$=t(58837),T=t(21718),R=t(14041),L=t(26875),C=t(91442),F=t(39053),W=t(12077),N=t(18139),S=t(24453),H=t(67562),g=t(75202),j=t(21332),B=t(54392),E=t(77125);const M=(0,$.A)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),b=a=>{const{error:n,loading:e,lastRun:o,branch:l}=a,i=M();return n?(0,s.jsxs)(x.A,{children:["Couldn't fetch latest ",l," run"]}):e?(0,s.jsx)(P.A,{}):(0,s.jsx)(H.t,{metadata:{status:(0,s.jsx)(E.A,{display:"flex",children:(0,s.jsx)(W.Bx,{status:o.status,conclusion:o.conclusion})}),message:o.message,url:(0,s.jsxs)(g.N_,{to:o.githubUrl??"",children:["See more on GitHub"," ",(0,s.jsx)(T.A,{className:i.externalLinkIcon})]})}})},p=a=>{const{branch:n="master",variant:e}=a,{entity:o}=(0,v.tN)(),l=(0,N.gf)(S.m),i=(0,B.P)(o),[c,m]=(o?.metadata.annotations?.[L.M]??"/").split("/"),[{runs:f,loading:u,error:r}]=(0,C.b)({hostname:i,owner:c,repo:m,branch:n}),A=f?.[0]??{};return(0,R.useEffect)(()=>{r&&l.post(r)},[r,l]),(0,s.jsx)(j.n,{title:`Last ${n} build`,variant:e,children:(0,s.jsx)(b,{error:r,loading:u,branch:n,lastRun:A})})},G=a=>{const{branch:n="master",variant:e}=a,{entity:o}=(0,v.tN)();return(0,s.jsx)(j.n,{title:`Last ${n} build`,variant:e,children:(0,s.jsx)(F.G,{branch:n,entity:o})})};var I=t(73657),z=t(72814),U=t(12554),X=t(29021),D=t(60319);const J=a=>a.split(`
`)[0],K=a=>{const{branch:n,dense:e=!1,limit:o=5,variant:l}=a,{entity:i}=(0,v.tN)(),c=(0,N.gf)(S.m),m=(0,B.P)(i),[f,u]=(i?.metadata.annotations?.[L.M]??"/").split("/"),[{runs:r=[],loading:A,error:d}]=(0,C.b)({hostname:m,owner:f,repo:u,branch:n,initialPageSize:o});(0,R.useEffect)(()=>{d&&c.post(d)},[d,c]);const O=m||"github.com",Q=(0,z.S)(D.r);return d?(0,s.jsx)(U.b,{title:d.message,error:d}):(0,s.jsx)(j.n,{title:"Recent Workflow Runs",subheader:n?`Branch: ${n}`:"All Branches",noPadding:!0,variant:l,children:r.length?(0,s.jsx)(X.X,{isLoading:A,options:{search:!1,paging:!1,padding:e?"dense":"default",toolbar:!1},columns:[{title:"Commit Message",field:"message",render:h=>(0,s.jsx)(g.N_,{component:I.N_,to:Q({id:h.id}),children:J(h.message??"")})},{title:"Branch",field:"source.branchName"},{title:"Status",field:"status",render:h=>(0,s.jsx)(E.A,{display:"flex",children:(0,s.jsx)(W.Bx,{...h})})}],data:r}):(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(x.A,{variant:"body1",children:"This component has GitHub Actions enabled, but no workflows were found."}),(0,s.jsx)(x.A,{variant:"body2",children:(0,s.jsx)(g.N_,{to:`https://${O}/${f}/${u}/actions/new`,children:"Create a new workflow"})})]})})}}}]);})();

//# sourceMappingURL=9800.df64d470.chunk.js.map