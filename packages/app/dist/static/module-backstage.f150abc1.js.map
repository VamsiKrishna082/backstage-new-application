{"version":3,"file":"static/module-backstage.f150abc1.js","mappings":"+HAEA,SAASA,EAAmBC,EAAQC,EAAcC,EAAQ,CACxD,IAAIC,EAAcH,GAAQ,WAAW,OAAQI,GAAMA,EAAE,OAASH,CAAY,EAAE,IAAKG,MAAM,MAAeA,EAAE,SAAS,CAAC,GAAK,CAAC,EACxH,OAAIF,GAAQ,OACVC,EAAcA,EAAY,OACvBE,GAAMA,EAAE,KAAK,kBAAkB,OAAO,IAAMH,EAAO,KAAK,kBAAkB,OAAO,CACpF,GAEKC,CACT,C,+NCEA,SAASG,EAAmBC,EAAO,CACjC,KAAM,CAAE,KAAAC,EAAM,QAAAC,EAAS,UAAAC,EAAW,OAAAV,CAAO,EAAIO,EACvC,CAACI,EAAMC,EAAO,KAAI,YAAS,EAAK,EAChCC,MAAa,MAAO,GAAa,EACjCC,MAAW,MAAO,GAAW,EAC7B,CAAE,EAAAC,EAAE,KAAI,KAAkB,GAAqB,EAC/CC,EAAW,SAAY,CAC3BJ,GAAQ,EAAI,EACZ,GAAI,CACF,MAAMK,GAAMjB,EAAO,SAAS,IAC5B,MAAMa,GAAW,kBAAkBI,EAAG,EACtCP,EAAU,CACZ,OAASQ,GAAK,IACZ,KAAYA,EAAG,EACfJ,GAAS,KAAK,CAAE,QAASI,GAAI,OAAQ,CAAC,CACxC,QAAE,CACAN,GAAQ,EAAK,CACf,CACF,EACA,SAAuB,QAAKO,EAAA,EAAQ,CAAE,KAAAX,EAAM,QAAAC,EAAS,SAAU,IAC7C,OAAIW,EAAA,EAAa,CAAE,GAAI,0BAA2B,SAAUL,GAAE,0BAA0B,CAAE,CAAC,KAC3F,QAAKM,EAAA,EAAe,CAAE,SAAU,IAC9B,OACdC,EAAA,EACA,CACE,QAAS,YACT,MAAO,YACP,SAAUX,EACV,QAASK,EACT,SAAUD,GAAE,gCAAgC,CAC9C,CACF,KACgB,OAAIO,EAAA,EAAQ,CAAE,QAASb,EAAS,MAAO,UAAW,SAAUM,GAAE,gCAAgC,CAAE,CAAC,CACnH,CAAE,CAAC,CACL,CAAE,CAAC,CACL,C,0BCpCA,SAASQ,EAASvB,EAAQ,CACxB,OAAOA,GAAQ,UAAU,cAAc,qBAAqB,IAAM,MACpE,CACA,SAASwB,GAAsB,CAC7B,MAAMC,KAAW,MAAY,EACvBC,KAAc,KAAY,IAAY,EACtC,CAACC,EAAwBC,CAAyB,KAAI,YAAS,EAAK,EACpE,CAAE,OAAA5B,CAAO,KAAI,MAAU,EACvB,CAAE,EAAAe,CAAE,KAAI,KAAkB,GAAqB,EAC/Cc,GAAsB,SAAY,CACtCD,EAA0B,EAAK,EAC/BH,EAASC,EAAY,CAAC,CACxB,EACA,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAII,EAAA,EAAO,CAAE,SAAU,UAAW,QAAS,IAAMF,EAA0B,EAAI,EAAG,SAAUb,EAAE,0BAA0B,CAAE,CAAC,KAC3H,OACdT,EACA,CACE,KAAMqB,EACN,OAAA3B,EACA,UAAW6B,GACX,QAAS,IAAMD,EAA0B,EAAK,CAChD,CACF,CACF,CAAE,CAAC,CACL,C,+CCpCA,SAASG,GAAkB,CACzB,OAAI,OAAO,OAAW,KAAe,OAAO,OAAS,KAC5C,OAEL,OAAO,KAAS,KAAe,KAAK,OAAS,KACxC,KAEF,SAAS,aAAa,EAAE,CACjC,CACA,MAAMC,EAAeD,EAAgB,EAC/BE,EAAWC,GAAO,gBAAgBA,CAAE,KAC1C,SAASC,EAA2BD,EAAIE,EAAU,CAChD,MAAMC,EAAMJ,EAAQC,CAAE,EACtB,IAAII,EAAQN,EAAaK,CAAG,EAC5B,OAAIC,IAGJA,EAAQF,EAAS,EACjBJ,EAAaK,CAAG,EAAIC,EACbA,EACT,C,2GCjBA,SAASC,EAA+BC,GAAS,CAC/C,MAAO,CACL,QAAS,CACP,MAAMC,GAA2B,IAAM,KACvC,cACEA,GACA,IACAD,EACF,EACOC,EACT,CACF,CACF,CACA,MAAMC,EAA4B,IAAM,QACxC,KACEA,EACA,IACA,EACF,E,6ECfA,MAAMC,CAAiB,CACrB,aACA,mBACA,SACA,YACA,mBACA,YAAYH,GAAS,CACnB,KAAK,aAAeA,GAAQ,aAC5B,KAAK,SAAWA,GAAQ,UAAY,CAAE,KAAM,EAC5C,KAAK,mBAAqBA,GAAQ,mBAClC,KAAK,mBAAqBA,GAAQ,oBAAsB,GACxD,KAAK,YAAcA,GAAQ,WAC7B,CACA,MAAM,UAAUA,GAAS,CACvB,GAAI,CAAC,KAAK,YACR,MAAM,IAAI,MACR,oKACF,EAEF,MAAMI,GAAU,MAAM,KAAK,aAAa,WAAW,YAAY,EACzD,CAAE,cAAAC,EAAc,EAAI,MAAM,KAAK,YAAY,qBAAqB,EAChEC,GAAQ,cAAa,CACzB,UAAWN,GAAQ,oBAAsB,QAAUK,GAAgB,OACnE,MAAOL,GAAQ,MACf,OAAQA,GAAQ,MAClB,CAAC,EACKO,EAAW,MAAM,KAAK,SAAS,MAAM,GAAGH,EAAO,aAAaE,EAAK,EAAE,EACzE,GAAI,CAACC,EAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,CAAQ,EAEjD,OAAO,MAAMA,EAAS,KAAK,CAC7B,CACA,MAAM,oBAAoBP,GAAS,CAajC,MAAO,CACL,aAbmB,CACnB,GAAG,KAAK,mBAAmB,MAAM,KAAK,EACtC,GAAG,KAAK,mBAAmB,UAAU,KAAK,EAAE,OACzCQ,IAAS,CAAC,KAAK,mBAAmB,eAAe,OAAOA,GAAK,OAAO,IAAI,GAAK,CAAC,KAAK,mBAAmB,gBAAgB,OAAOA,GAAK,OAAO,IAAI,CAChJ,EACA,GAAG,KAAK,mBAAmB,eAAe,KAAK,EAC/C,GAAG,KAAK,mBAAmB,gBAAgB,KAAK,EAChD,GAAG,KAAK,mBAAmB,OAAO,KAAK,EACvC,GAAG,KAAK,mBAAmB,MAAM,KAAK,EACtC,GAAG,KAAK,mBAAmB,OAAO,KAAK,EACvC,GAAG,KAAK,mBAAmB,OAAO,KAAK,CACzC,EAAE,IAAKC,KAAO,CAAE,KAAMA,GAAE,KAAM,MAAOA,GAAE,MAAO,KAAMA,GAAE,OAAO,IAAK,EAAE,EAAE,OAAQA,IAAMT,GAAQ,aAAa,SAASS,GAAE,IAAI,CAAC,CAGzH,CACF,CACA,MAAM,2BAA2BC,GAAa,CAC5C,KAAM,CAAE,UAAAC,GAAW,KAAAC,GAAM,KAAAC,EAAK,KAAI,MAAeH,GAAa,CAC5D,YAAa,UACf,CAAC,EACKN,EAAU,MAAM,KAAK,aAAa,WAAW,YAAY,EACzDU,EAAe,CAACH,GAAWC,GAAMC,EAAI,EAAE,IAAKE,IAAM,mBAAmBA,EAAC,CAAC,EAAE,KAAK,GAAG,EACjFC,EAAM,GAAGZ,CAAO,iBAAiBU,CAAY,oBAC7CP,EAAW,MAAM,KAAK,SAAS,MAAMS,CAAG,EAC9C,GAAI,CAACT,EAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,CAAQ,EAGjD,OADe,MAAMA,EAAS,KAAK,CAErC,CACA,MAAM,SAASP,GAAS,CACtB,KAAM,CAAE,YAAAU,GAAa,OAAAO,GAAQ,QAAAC,GAAU,CAAC,CAAE,EAAIlB,GACxCgB,EAAM,GAAG,MAAM,KAAK,aAAa,WAAW,YAAY,CAAC,YACzDT,EAAW,MAAM,KAAK,SAAS,MAAMS,EAAK,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAU,CACnB,YAAAN,GACA,OAAQ,CAAE,GAAGO,EAAO,EACpB,QAAAC,EACF,CAAC,CACH,CAAC,EACD,GAAIX,EAAS,SAAW,IAAK,CAC3B,MAAMY,EAAS,GAAGZ,EAAS,MAAM,IAAIA,EAAS,UAAU,GAClDa,GAAO,MAAMb,EAAS,KAAK,EACjC,MAAM,IAAI,MAAM,2BAA2BY,CAAM,IAAIC,GAAK,KAAK,CAAC,EAAE,CACpE,CACA,KAAM,CAAE,GAAA1B,CAAG,EAAI,MAAMa,EAAS,KAAK,EACnC,MAAO,CAAE,OAAQb,CAAG,CACtB,CACA,MAAM,QAAQ2B,GAAQ,CAEpB,MAAML,GAAM,GADI,MAAM,KAAK,aAAa,WAAW,YAAY,CACzC,aAAa,mBAAmBK,EAAM,CAAC,GACvDd,GAAW,MAAM,KAAK,SAAS,MAAMS,EAAG,EAC9C,GAAI,CAACT,GAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,EAAQ,EAEjD,OAAO,MAAMA,GAAS,KAAK,CAC7B,CACA,WAAWP,GAAS,CAClB,OAAI,KAAK,mBACA,KAAK,kBAAkBA,EAAO,EAEhC,KAAK,sBAAsBA,EAAO,CAC3C,CACA,MAAM,OAAOA,GAAS,CACpB,MAAMI,GAAU,MAAM,KAAK,aAAa,WAAW,YAAY,EACzDG,GAAW,MAAM,KAAK,SAAS,MAAM,GAAGH,EAAO,cAAe,CAClE,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAU,CACnB,SAAUJ,GAAQ,SAClB,OAAQA,GAAQ,OAChB,QAASA,GAAQ,QACjB,kBAAmBA,GAAQ,iBAC7B,CAAC,CACH,CAAC,EACD,GAAI,CAACO,GAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,EAAQ,EAEjD,OAAOA,GAAS,KAAK,CACvB,CACA,sBAAsB,CACpB,kBAAAe,GACA,OAAAD,GACA,MAAAE,EACF,EAAG,CACD,OAAO,IAAI,KAAgBC,IAAe,CACxC,MAAMC,EAAS,IAAI,gBACfF,KAAU,QACZE,EAAO,IAAI,QAAS,OAAO,OAAOF,EAAK,CAAC,CAAC,EAE3C,KAAK,aAAa,WAAW,YAAY,EAAE,KACxCnB,GAAY,CACX,MAAMY,EAAM,GAAGZ,CAAO,aAAa,mBACjCiB,EACF,CAAC,eACKK,EAAgBC,IAAU,CAC9B,GAAIA,GAAM,KACR,GAAI,CACFH,GAAW,KAAK,KAAK,MAAMG,GAAM,IAAI,CAAC,CACxC,OAASC,GAAI,CACXJ,GAAW,MAAMI,EAAE,CACrB,CAEJ,EACMC,GAAO,IAAI,mBACZ,KAAiBb,EAAK,CACzB,MAAO,KAAK,SAAS,MACrB,OAAQa,GAAK,OACb,UAAUhE,GAAG,CACX,GAAIA,GAAE,QAAU,MAAO,CACrB6D,EAAa7D,EAAC,EACd,MACF,SAAWA,GAAE,QAAU,cAAgB,CAACyD,GAAmB,CACzDI,EAAa7D,EAAC,EACd2D,GAAW,SAAS,EACpBK,GAAK,MAAM,EACX,MACF,CACAH,EAAa7D,EAAC,CAChB,EACA,QAAQa,GAAK,CACX8C,GAAW,MAAM9C,EAAG,CACtB,CACF,CAAC,CACH,EACCoD,GAAU,CACTN,GAAW,MAAMM,CAAK,CACxB,CACF,CACF,CAAC,CACH,CACA,kBAAkB,CAChB,OAAAT,GACA,MAAOU,EACT,EAAG,CACD,IAAIR,GAAQQ,GACZ,OAAO,IAAI,KAAgBP,IAAe,CACxC,KAAK,aAAa,WAAW,YAAY,EAAE,KAAK,MAAOpB,GAAY,CACjE,KAAO,CAACoB,GAAW,QAAQ,CACzB,MAAMR,EAAM,GAAGZ,CAAO,aAAa,mBACjCiB,EACF,CAAC,WAAW,cAAa,CAAE,MAAAE,EAAM,CAAC,CAAC,GAC7BhB,EAAW,MAAM,KAAK,SAAS,MAAMS,CAAG,EAC9C,GAAI,CAACT,EAAS,GAAI,CAChB,MAAM,IAAI,QAASyB,IAAY,WAAWA,GAAS,GAAG,CAAC,EACvD,QACF,CACA,MAAMC,EAAO,MAAM1B,EAAS,KAAK,EACjC,UAAWoB,MAASM,EAGlB,GAFAV,GAAQ,OAAOI,GAAM,EAAE,EACvBH,GAAW,KAAKG,EAAK,EACjBA,GAAM,OAAS,aAAc,CAC/BH,GAAW,SAAS,EACpB,MACF,CAEJ,CACF,CAAC,CACH,CAAC,CACH,CACA,MAAM,aAAc,CAClB,MAAMpB,GAAU,MAAM,KAAK,aAAa,WAAW,YAAY,EACzDG,GAAW,MAAM,KAAK,SAAS,MAAM,GAAGH,EAAO,aAAa,EAClE,GAAI,CAACG,GAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,EAAQ,EAEjD,OAAO,MAAMA,GAAS,KAAK,CAC7B,CACA,MAAM,0BAA2B,CAC/B,MAAMH,GAAU,MAAM,KAAK,aAAa,WAAW,YAAY,EACzDG,GAAW,MAAM,KAAK,SAAS,MACnC,GAAGH,EAAO,yBACZ,EACA,GAAI,CAACG,GAAS,GACZ,MAAM,IAAc,aAAaA,EAAQ,EAE3C,OAAOA,GAAS,KAAK,CACvB,CACA,MAAM,WAAWc,GAAQ,CAEvB,MAAML,GAAM,GADI,MAAM,KAAK,aAAa,WAAW,YAAY,CACzC,aAAa,mBAAmBK,EAAM,CAAC,UACvDd,GAAW,MAAM,KAAK,SAAS,MAAMS,GAAK,CAC9C,OAAQ,MACV,CAAC,EACD,GAAI,CAACT,GAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,EAAQ,EAEjD,OAAO,MAAMA,GAAS,KAAK,CAC7B,CACA,MAAM,MAAMc,GAAQ,CAElB,MAAML,GAAM,GADI,MAAM,KAAK,aAAa,WAAW,YAAY,CACzC,aAAa,mBAAmBK,EAAM,CAAC,SACvDd,GAAW,MAAM,KAAK,SAAS,MAAMS,GAAK,CAC9C,OAAQ,MACV,CAAC,EACD,GAAI,CAACT,GAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,EAAQ,EAEjD,OAAO,MAAMA,GAAS,KAAK,CAC7B,CACA,MAAM,aAAa,CACjB,MAAA2B,GACA,SAAAC,GACA,SAAAC,GACA,QAAAC,EACF,EAAG,CAED,MAAMrB,EAAM,GADI,MAAM,KAAK,aAAa,WAAW,YAAY,CACzC,oBAAoBoB,EAAQ,IAAID,EAAQ,GACxD5B,EAAW,MAAM,KAAK,SAAS,MAAMS,EAAK,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAU,CACnB,MAAAkB,GACA,QAASG,IAAW,CAAC,CACvB,CAAC,CACH,CAAC,EACD,GAAI,CAAC9B,EAAS,GACZ,MAAM,MAAM,IAAc,aAAaA,CAAQ,EAEjD,KAAM,CAAE,QAAA+B,CAAQ,EAAI,MAAM/B,EAAS,KAAK,EACxC,MAAO,CAAE,QAAA+B,CAAQ,CACnB,CACF,C,wPC7QA,SAASC,GAAyB,CAChC,MAAMC,GAAaC,IAAU,OAAO,OACjC3C,KAAW,CACV,OAAQ,gCACR,GAAI2C,GACJ,MAAA3C,EACF,GACA,CACE,GAAI2C,GACJ,OAAQ,8BACR,OAAQ,CAAC,EACT,UAAW,CACT,MAAO,CACL,GAAG,KACH,OAAQ,CAAE,GAAG,KAAK,OAAQ,SAAU,EAAK,CAC3C,CACF,EACA,UAAW,CACT,MAAMC,GAAW,EAAQ,KAAK,OAAO,SACrC,MAAO,uBAAuBD,EAAK,aAAaC,EAAQ,GAC1D,CACF,CACF,EACA,MAAO,CACL,KAAK1C,GAAS,CACZ,OAAOwC,GAAUxC,GAAQ,EAAE,CAC7B,CACF,CACF,CC5BA,SAAS2C,EAA6B1B,GAAQ2B,GAAc,CAC1D,MAAMC,GAA4B,IAAI,IAChCC,GAAaF,IAAgB,IAAI,IAAIA,GAAa,IAAKG,GAAQ,CAACA,EAAI,GAAIA,CAAG,CAAC,CAAC,EACnF,UAAWC,KAAU/B,GAAQ,CAC3B,GAAI6B,IACE,CAACA,GAAW,OAAOE,EAAO,EAAE,EAC9B,MAAM,IAAI,MACR,mBAAmBA,EAAO,EAAE,iCAC9B,EAGJH,GAAU,IAAIG,EAAO,GAAIA,CAAM,CACjC,CACA,MAAMC,GAAgBH,IAAc,MAAM,KAAKA,GAAW,OAAO,CAAC,EAAE,OAAQC,GAAQ,CAACA,EAAI,OAAO,QAAQ,EACxG,GAAIE,IAAiBA,GAAc,OAAS,EAC1C,MAAM,IAAI,MACR,6CAA6CA,GAAc,IAAKF,GAAQA,EAAI,EAAE,EAAE,KAAK,IAAI,CAAC,GAC5F,EAEF,MAAO,CACL,IAAIA,EAAK,CACP,OAAOF,GAAU,IAAIE,EAAI,EAAE,GAAG,KAChC,EACA,CAAC,OAAO,QAAQ,GAAI,CAClB,OAAOF,GAAU,OAAO,CAC1B,CACF,CACF,CCvBA,SAASK,EAAYpD,GAAO,CAC1B,OAAOA,EACT,CACA,SAASqD,EAAWrD,GAAO,CACzB,OAAOA,EACT,CACA,SAASsD,EAAsBC,GAAgBC,GAAQC,GAAgB,CACrE,GAAI,CAACF,IAAkB,CAACC,IAAU,CAACC,GACjC,OAAOD,GAET,MAAME,GAAY,CAAC,EACnB,UAAW3C,MAAQwC,GAAgB,CACjC,GAAI,CAAC,OAAO,OAAOA,GAAgBxC,EAAI,EACrC,SAEF,MAAM4C,EAAgBJ,GAAexC,EAAI,EACnC6C,EAAeH,GAAe1C,EAAI,EACxC,GAAI4C,EAAc,OAAO,UAAW,CAClC,MAAME,EAA2BL,GAAOzC,EAAI,EAC5C,GAAI6C,EAAc,CAChB,MAAME,EAAoBjB,EACxBe,EACAD,EAAc,aAChB,EACA,GAAI,CAACE,EACH,MAAM,IAAI,MACR,wCAAwC9C,EAAI,gDAC9C,EAEF2C,GAAU3C,EAAI,EAAI,OAAO,OAAO+C,EAAmB,CACjD,KAAMD,EAAc,IACtB,CAAC,CACH,CACF,KAAO,CACL,MAAMA,EAA4BL,GAAOzC,EAAI,EAC7C,GAAI,CAAC,MAAM,QAAQ6C,CAAY,EAC7B,MAAM,IAAI,MACR,qCAAqC7C,EAAI,oBAC3C,EAEF,GAAI6C,EAAa,SAAW,EAC1BF,GAAU3C,EAAI,EAAI,CAAC,MACd,CACL,MAAMgD,EAAiBH,EAAa,OAAQI,IAAM,SAAUA,EAAC,EAAE,OAC/D,GAAID,IAAmB,EAAG,CACxB,GAAIF,EAAc,SAAWD,EAAa,OACxC,MAAM,IAAI,MACR,qCAAqC7C,EAAI,gDAC3C,EAEF2C,GAAU3C,EAAI,EAAI6C,EAAa,IAAI,CAACK,GAAMC,KAAM,CAC9C,MAAMJ,GAAoBjB,EACxBoB,GACAN,EAAc,aAChB,EACA,OAAO,OAAO,OAAOG,GAAmB,CACtC,KAAMD,EAAcK,EAAC,EAAE,IACzB,CAAC,CACH,CAAC,CACH,SAAWH,IAAmBH,EAAa,OACzCF,GAAU3C,EAAI,EAAI6C,MAElB,OAAM,IAAI,MACR,4BAA4B7C,EAAI,oDAClC,CAEJ,CACF,CACF,CACA,OAAO2C,EACT,C,eCvEA,SAASS,GAAoBC,GAAe,CAC1C,MAAMC,GAASD,GAAc,GAAC,EAC9B,MAAO,CAEL,MAAQE,IAAU,CAChB,MAAMC,GAASF,GAAO,UAAUC,EAAK,EACrC,GAAIC,GAAO,QACT,OAAOA,GAAO,KAEhB,MAAM,IAAI,MAAMA,GAAO,MAAM,OAAO,IAAIC,EAAW,EAAE,KAAK,IAAI,CAAC,CACjE,EAEA,UAAQ,MAAgBH,EAAM,CAChC,CACF,CACA,SAASG,GAAYC,GAAO,CAC1B,GAAIA,GAAM,OAAS,gBACjB,OAAOD,GAAYC,GAAM,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC,EAEnD,IAAIC,GAAUD,GAAM,QACpB,OAAIC,KAAY,aACdA,GAAU,0BAERD,GAAM,KAAK,SACbC,IAAW,QAAQD,GAAM,KAAK,KAAK,GAAG,CAAC,KAElCC,EACT,CC9BA,MAAMC,EAAW,CAQf,OAAO,OAAOzE,GAAS,CACrB,OAAO,IAAIyE,GAAWzE,GAAQ,KAAM,IAAI,IAAIA,GAAQ,QAAQ,CAAC,CAC/D,CACA0E,GACAC,GACA,YAAYC,GAAMC,GAAU,CAC1B,KAAKH,GAAQE,GACb,KAAKD,GAAYE,EACnB,CAQA,QAAU,OAQV,UAAY,OAKZ,OAAU/E,IACD,KAAKgF,GAAoBhF,EAAK,EAOvC,WAAcA,IAAU,CACtB,GAAI,CAAC,KAAKgF,GAAoBhF,EAAK,EACjC,MAAM,IAAI,UACR,kCAAkC,KAAK4E,EAAK,eAAe,KAAKK,GAAkBjF,EAAK,CAAC,GAC1F,EAEF,GAAI,CAAC,KAAK6E,GAAU,IAAI7E,GAAM,OAAO,EAAG,CACtC,MAAM+E,GAAW,MAAM,KAAK,KAAKF,EAAS,EAAE,IAAI,KAAKK,EAAiB,EAClEH,GAAS,OAAS,IACpBA,GAASA,GAAS,OAAS,CAAC,EAAI,MAAMA,GAASA,GAAS,OAAS,CAAC,CAAC,IAErE,MAAMI,GAAWJ,GAAS,OAAS,EAAIA,GAAS,KAAK,IAAI,EAAIA,GAAS,KAAK,GAAG,EAC9E,MAAM,IAAI,UACR,6CAA6C,KAAKG,GAChDlF,GAAM,OACR,CAAC,cAAcmF,EAAQ,EACzB,CACF,CACA,OAAOnF,EACT,EAQA,eAAeoF,GAASnH,GAAO,CAC7B,OAAO,OAAO,OAAOA,GAAO,CAC1B,OAAQ,KAAK2G,GACb,GAAGQ,IAAW,CAAE,QAAAA,EAAQ,CAC1B,CAAC,CACH,CACAJ,GAAoBhF,GAAO,CACzB,OAAIA,KAAU,MAAQ,OAAOA,IAAU,SAC9B,GAEFA,GAAM,SAAW,KAAK4E,EAC/B,CACAK,GAAkBjF,GAAO,CACvB,OAAI,OAAOA,IAAU,SACZ,IAAI,OAAOA,EAAK,IAErBA,KAAU,KACL,SAEL,WAAYA,GACP,OAAOA,GAAM,MAAM,EAErB,OAAOA,EAAK,CACrB,CACAkF,GAAqBE,IACZA,GAAU,IAAIA,EAAO,IAAM,WAEtC,CCjGA,MAAMC,GAA4BV,GAAW,OAAO,CAClD,KAAM,iCACN,SAAU,CAAC,KAAM,IAAI,CACvB,CAAC,ECCKW,EAAkB,OAAO,QAAQ,EACvC,SAASC,GAAgBrF,GAAS,CAChC,MAAMsF,GAAoBtF,GAAQ,QAAQ,OACpCuF,GAAeD,IAAqBrB,GACvCuB,IAAWA,GAAO,OACjB,OAAO,YACL,OAAO,QAAQF,EAAiB,EAAE,IAAI,CAAC,CAACG,GAAGC,CAAC,IAAM,CAACD,GAAGC,EAAEF,EAAM,CAAC,CAAC,CAClE,CACF,CACF,EACA,OAAOL,GAA0B,eAAe,KAAM,CACpD,EAAG,OACH,KAAMnF,GAAQ,KACd,KAAMA,GAAQ,KACd,SAAUA,GAAQ,SAClB,SAAUA,GAAQ,UAAY,GAC9B,OAAQA,GAAQ,QAAU,CAAC,EAC3B,OAAQA,GAAQ,OAChB,aAAAuF,GACA,QAASvF,GAAQ,QACjB,UAAW,CACT,MAAM2F,GAAQ,CAAC,EACf,OAAI3F,GAAQ,MACV2F,GAAM,KAAK,QAAQ3F,GAAQ,IAAI,EAAE,EAE/BA,GAAQ,MACV2F,GAAM,KAAK,QAAQ3F,GAAQ,IAAI,EAAE,EAEnC2F,GAAM,KACJ,YAAY,CAAC3F,GAAQ,QAAQ,EAAE,KAAK,EAAE,IAAK4F,IAAM,GAAGA,GAAE,EAAE,IAAIA,GAAE,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC,EAClF,EACO,uBAAuBD,GAAM,KAAK,GAAG,CAAC,GAC/C,EACA,SAASE,GAAiB,CACxB,GAAI,CAAC,MAAM,QAAQ7F,GAAQ,MAAM,EAC/B,MAAM,IAAI,MACR,iGACF,EAEF,GAAI6F,GAAgB,QAAU,CAACA,GAAgB,QAC7C,MAAM,IAAI,MACR,4DACF,EAEF,GAAIA,GAAgB,QAAUA,GAAgB,QAC5C,MAAM,IAAI,MACR,yDACF,EAEF,OAAOR,GAAgB,CACrB,KAAMrF,GAAQ,KACd,KAAMA,GAAQ,KACd,SAAU6F,GAAgB,UAAY7F,GAAQ,SAC9C,SAAU6F,GAAgB,UAAY7F,GAAQ,SAC9C,OAAQ,CAAE,GAAG6F,GAAgB,OAAQ,GAAG7F,GAAQ,MAAO,EACvD,OAAQ6F,GAAgB,QAAU7F,GAAQ,OAC1C,OAAQA,GAAQ,QAAU6F,GAAgB,OAAS,CACjD,OAAQ,CACN,GAAG7F,GAAQ,QAAQ,OACnB,GAAG6F,GAAgB,QAAQ,MAC7B,CACF,EAAI,OACJ,QAAS,CAAC,CAAE,KAAAC,GAAM,KAAAC,EAAM,OAAAC,EAAQ,OAAA1C,CAAO,IAAM,CAC3C,GAAI,CAACuC,GAAgB,QACnB,OAAO7F,GAAQ,QAAQ,CACrB,KAAA8F,GACA,KAAAC,EACA,OAAAC,EACA,OAAA1C,EACA,CAAC8B,CAAe,EAAGS,GAAgB,MACrC,CAAC,EAEH,MAAMI,EAAeJ,GAAgB,QAClCK,IACQvD,EACL3C,GAAQ,QAAQ,CACd,KAAA8F,GACA,KAAAC,EACA,OAAQG,IAAc,QAAUF,EAChC,OAAQ5C,EACNpD,GAAQ,OACRsD,EACA4C,IAAc,MAChB,EACA,CAACd,CAAe,EAAGc,IAAc,MACnC,CAAC,EACDlG,GAAQ,MACV,EAEF,CACE,KAAA8F,GACA,KAAAC,EACA,OAAAC,EACA,OAAA1C,CACF,CACF,EACM6C,GAAqC,IAAI,IAC/C,UAAW3F,MAAQyF,EACjBE,GAAmB,IAAI3F,GAAK,GAAIA,EAAI,EAEtC,OAAO2F,GAAmB,OAAO,CACnC,CACF,CAAC,CACH,CACF,CAAC,CACH,CC3GA,SAASC,GAAyBpG,GAAS,CACzC,MAAO,CACL,SAAUA,GAAQ,SAClB,KAAKqG,GAAM,CACT,OAAOhB,GAAgB,CACrB,KAAMrF,GAAQ,KACd,KAAMqG,GAAK,MAAQrG,GAAQ,KAC3B,SAAUqG,GAAK,UAAYrG,GAAQ,SACnC,SAAUqG,GAAK,UAAYrG,GAAQ,SACnC,OAAQA,GAAQ,OAChB,OAAQA,GAAQ,OAChB,OAAQA,GAAQ,OAChB,QAAUsG,IAAQtG,GAAQ,QACxB,CAAE,GAAGqG,GAAK,OAAQ,GAAGC,GAAIlB,CAAe,CAAE,EAC1CkB,EACF,CACF,CAAC,CACH,EACA,kBAAkBD,GAAM,CACtB,OAAOhB,GAAgB,CACrB,KAAMrF,GAAQ,KACd,KAAMqG,GAAK,MAAQrG,GAAQ,KAC3B,SAAUqG,GAAK,UAAYrG,GAAQ,SACnC,SAAUqG,GAAK,UAAYrG,GAAQ,SACnC,OAAQ,CAAE,GAAGqG,GAAK,OAAQ,GAAGrG,GAAQ,MAAO,EAC5C,OAAQqG,GAAK,QAAUrG,GAAQ,OAC/B,OAAQA,GAAQ,QAAUqG,GAAK,OAAS,CACtC,OAAQ,CACN,GAAGrG,GAAQ,QAAQ,OACnB,GAAGqG,GAAK,QAAQ,MAClB,CACF,EAAI,OACJ,QAAUC,IAAQ,CAChB,KAAM,CAAE,KAAAR,GAAM,OAAAE,GAAQ,OAAA1C,EAAQ,KAAAyC,CAAK,EAAIO,GACvC,OAAOD,GAAK,QACV,CAACE,EAAaL,IACLvD,EACL3C,GAAQ,QACN,CAAE,GAAGuG,EAAa,GAAGD,GAAIlB,CAAe,CAAE,EAC1C,CACE,KAAAW,EACA,KAAAD,GACA,OAAQI,GAAc,QAAUF,GAChC,OAAQ5C,EACNpD,GAAQ,OACRsD,EACA4C,GAAc,MAChB,CACF,CACF,EACAlG,GAAQ,MACV,EAEF,CACE,KAAA+F,EACA,KAAAD,GACA,OAAAE,GACA,OAAA1C,CACF,CACF,CACF,CACF,CAAC,CACH,CACF,CACF,CC9DA,MAAMkD,GAAiBjE,EAAuB,EAAE,KAAK,CACnD,GAAI,kBACN,CAAC,EACKkE,GAAeL,GAAyB,CAC5C,KAAM,MACN,SAAU,CAAE,GAAI,OAAQ,MAAO,MAAO,EACtC,OAAQ,CAACI,EAAc,EACvB,SAAU,CACR,QAASA,EACX,EACA,CAAC,QAAQ/E,GAAQ,CACf,MAAM+E,GAAe/E,GAAO,OAAO,CACrC,CACF,CAAC,ECnBD,SAASiF,GAAqBC,GAAeX,GAAQ,CAqBnD,MAAO,CACL,OAAQ,4BACR,cAAAW,GACA,OAAQ,CACN,UAAW,EAAQX,IAAQ,UAC3B,SAAU,EAAQA,IAAQ,QAC5B,EACA,SAAUA,IAAQ,QACpB,CACF,CC5BA,MAAMY,GAAgCrE,EAAuB,EAAE,KAAK,CAClE,GAAI,kCACN,CAAC,EACKsE,GAAyBT,GAAyB,CACtD,KAAM,4BACN,SAAU,CAAE,GAAI,iCAAkC,MAAO,gBAAiB,EAC1E,SAAU,CACR,oBAAqBQ,EACvB,EACA,OAAQ,CAACA,EAA6B,EACtC,CAAC,QAAQnF,GAAQ,CACf,MAAMmF,GAA8BnF,GAAO,SAAS,CACtD,CACF,CAAC,ECXD,MAAMqF,EAAmC,CACvC,YAAY9G,GAAS,CACnB,KAAK,QAAUA,EACjB,CACA,OAAO,OAAOA,GAAS,CACrB,OAAO,IAAI8G,GACT9G,IAAW,CAAE,WAAY,CAAC,CAAE,CAC9B,CACF,CACA,MAAM,mBAAoB,CACxB,OAAO,KAAK,QAAQ,UACtB,CACF,CACA,MAAM+G,GAAoBN,GAAa,kBAAkB,CACvD,KAAM,kBACN,OAAQ,CACN,eAAgBC,GAAqB,CACnCG,GAAuB,SAAS,mBAClC,CAAC,CACH,EACA,QAAQG,GAAiB,CAAE,OAAA1D,EAAO,EAAG,CACnC,MAAM2D,GAAiB3D,GAAO,eAAe,IAC1CzF,IAAMA,GAAE,IAAIgJ,GAAuB,SAAS,mBAAmB,CAClE,EACA,OAAOG,GAAgB,CACrB,WAAS,KAAiB,CACxB,IAAK,IACL,KAAM,CAAC,EACP,QAAS,IAAMF,GAAmC,OAAO,CACvD,WAAYG,EACd,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACF,CAAC,E,mGCTD,MAAMC,MAAmB,KAAa,CACpC,GAAI,aACJ,KAAM,IACJ,KAAiB,CACf,IAAK,IACL,KAAM,CACJ,aAAc,IACd,mBAAoB,IACpB,SAAU,IACV,YAAa,IACf,EACA,QAAS,CAAC,CAAE,aAAAC,GAAc,mBAAAC,GAAoB,SAAAC,GAAU,YAAAC,EAAY,IAAM,IAAInH,EAAiB,CAC7F,aAAAgH,GACA,mBAAAC,GACA,SAAAC,GACA,YAAAC,EACF,CAAC,CACH,CAAC,KACD,KAAiB,CACf,IAAK,IACL,KAAM,CAAC,EACP,QAAS,IAAMR,GAAmC,OAAO,CAC3D,CAAC,KACD,KAAiB,CACf,IAAK,KACL,KAAM,CAAC,EACP,QAAS,KAAO,CAAE,cAAe,SAAY,CAAC,CAAE,EAClD,CAAC,CACH,EACA,OAAQ,CACN,KAAM,KACN,iBAAkB,KAClB,YAAa,KACb,QAAS,KACT,UAAW,KACX,KAAM,KACN,OAAQ,KACR,aAAc,KACd,aAAc,GAChB,EACA,eAAgB,CACd,kBAAmB,KACnB,YAAa,IACf,CACF,CAAC,EACKS,EAA6BL,GAAiB,QAClDnH,EAA+B,CAC7B,UAAW,IACX,KAAM,eACN,OAAQ,KACV,CAAC,CACH,EACMyH,GAAiCN,GAAiB,QACtDnH,EAA+B,CAC7B,UAAW,IACX,KAAM,mBACN,WAAY,IACZ,OAAQ,IACV,CAAC,CACH,EACM0H,GAAkCP,GAAiB,QACvDnH,EAA+B,CAC7B,UAAW,KACX,KAAM,oBACN,OAAQ,MACR,WAAY,IACd,CAAC,CACH,EACM2H,GAA8BR,GAAiB,QACnDnH,EAA+B,CAC7B,UAAW,IACX,KAAM,gBACN,WAAY,IACZ,OAAQ,GACV,CAAC,CACH,EACM4H,GAA4BT,GAAiB,QACjDnH,EAA+B,CAC7B,UAAW,IACX,KAAM,cACN,OAAQ,IACV,CAAC,CACH,EACM6H,GAA+BV,GAAiB,QACpDnH,EAA+B,CAC7B,UAAW,KACX,KAAM,iBACN,OAAQ,IACV,CAAC,CACH,EACM8H,GAAiBX,GAAiB,WACtC,OAAwB,CACtB,KAAM,iBACN,UAAW,IAAM,sFAA2C,KAAMY,IAAMA,GAAE,MAAM,EAChF,WAAY,IACd,CAAC,CACH,EACMC,GAAkCb,GAAiB,QACvDnH,EAA+B,CAC7B,UAAW,KACX,KAAM,oBACN,OAAQ,IACV,CAAC,CACH,EACMiI,GAAiCd,GAAiB,QACtDnH,EAA+B,CAC7B,UAAW,KACX,KAAM,mBACN,OAAQ,IACV,CAAC,CACH,EACMkI,GAAiCf,GAAiB,QACtDnH,EAA+B,CAC7B,UAAW,KACX,KAAM,mBACN,OAAQ,GACV,CAAC,CACH,C,8DChJA,MAAMmI,CAAqB,CACzB,YAAYxI,EAAI+B,EAAQiB,EAAUyF,EAAe,CAC/C,KAAK,GAAKzI,EACV,KAAK,OAAS+B,EACd,KAAK,SAAWiB,EAChB,KAAK,cAAgByF,CACvB,CACA,CAAC,GAAY,EAAI,WACjB,UAAW,CACT,MAAO,6BAA6B,KAAK,EAAE,GAC7C,CACA,kBAAmB,CACjB,OAAO,KAAK,aACd,CACF,CACA,SAASC,EAAuBpI,EAAS,CACvC,OAAO,IAAIkI,EACTlI,EAAQ,GACRA,EAAQ,QAAU,CAAC,EACnB,EAAQA,EAAQ,SAChBA,GAAS,aACX,CACF,C,+CCxBA,IAAIqI,GAAoCC,IACtCA,EAAiB,KAAU,OAC3BA,EAAiB,MAAW,QAC5BA,EAAiB,YAAiB,cAC3BA,IACND,GAAmB,CAAC,CAAC,C,kECLxB,SAASE,EAAWC,EAAc,CAChC,KAAM,CAAE,IAAAzF,EAAK,GAAG0F,CAAK,EAAID,EACzB,MAAO,CACL,SAAUzF,EACV,GAAG0F,CACL,CACF,CACA,SAASC,EAAmB1C,EAAQ,CAClC,OAAOA,EAAO,kBAAkB,+BAA+B,GAAK,mBACtE,CACA,SAAS2C,EAAc3C,EAAQ,CAC7B,OAAOA,EAAO,kBAAkB,sCAAsC,GAAK,uBAC7E,C,+CCZA,SAAS4C,EAAwB/D,EAAU,CACzC,OAAO,OAAOA,CAAQ,EACtB,MAAMgE,EAAiB,CACrB,UAAU3D,EAAS,CACjB,OAAOL,EAASK,CAAO,CACzB,CACF,EACA,cAAO,eAAe2D,EAAgB,OAAQ,CAC5C,aAAc,GACd,WAAY,GACZ,KAAM,CACJ,OAAOhE,CACT,CACF,CAAC,EACMgE,CACT,C,8DCbA,MAAMC,KAAsB,KAAa,CACvC,GAAI,+BACN,CAAC,C,sPCCD,eAAeC,EAAqB/I,GAASgJ,EAAYC,GAAW,CAClE,KAAM,CACJ,MAAAC,GACA,KAAAC,EACA,MAAAC,EACA,KAAAhI,EACA,YAAAiI,EACA,cAAAC,EACA,wBAAAC,CACF,EAAIvJ,GACE,CAAE,MAAAkC,CAAM,EAAI,MAAM8G,EAAW,eAAe,CAChD,IAAKM,EACL,gBAAiB,CACf,UAAW,EACb,CACF,CAAC,EACKE,EAAO,IAAI,IAAQ,CACvB,KAAMtH,EACN,QAASqH,EAAwB,UACnC,CAAC,EACKE,KAAa,MAAcR,EAAS,EACpCS,MAAW,MAAmBT,EAAS,EACvCU,GAAW,MAAMH,EAAK,MAAM,IAAI,CACpC,MAAAN,GACA,KAAAC,CACF,CAAC,EAAE,MAAOtL,GAAM,CACd,MAAM,IAAI,MAAM+L,EAAuB,2BAA4B/L,CAAC,CAAC,CACvE,CAAC,EACKgM,GAAY,MAAML,EAAK,IAAI,OAAO,CACtC,MAAAN,GACA,KAAAC,EACA,IAAK,SAASQ,GAAS,KAAK,cAAc,EAC5C,CAAC,EAAE,MAAO9L,GAAM,CACd,MAAM,IAAI,MACR+L,EAAuB,qCAAsC/L,CAAC,CAChE,CACF,CAAC,EACD,aAAM2L,EAAK,IAAI,UAAU,CACvB,MAAAN,GACA,KAAAC,EACA,IAAK,cAAcM,CAAU,GAC7B,IAAKI,GAAU,KAAK,OAAO,GAC7B,CAAC,EAAE,MAAOhM,GAAM,CACd,MAAM,IAAI,MACR+L,EACE,2CAA2CH,CAAU,IACrD5L,CACF,CACF,CACF,CAAC,EACD,MAAM2L,EAAK,MAAM,2BAA2B,CAC1C,MAAAN,GACA,KAAAC,EACA,KAAMO,GACN,QAASN,EACT,QAAS,KAAO,OAAOC,CAAW,EAClC,OAAQI,CACV,CAAC,EAAE,MAAO5L,GAAM,CACd,MAAM,IAAI,MACR+L,EACE,iCAAiCF,EAAQ,cACzC7L,CACF,CACF,CACF,CAAC,EAgBM,CACL,MAhB0B,MAAM2L,EAAK,MAAM,OAAO,CAClD,MAAAN,GACA,KAAAC,EACA,MAAAC,EACA,KAAMK,EACN,KAAArI,EACA,KAAMuI,GAAS,KAAK,cACtB,CAAC,EAAE,MAAO9L,GAAM,CACd,MAAM,IAAI,MACR+L,EACE,sCAAsCH,CAAU,UAChD5L,CACF,CACF,CACF,CAAC,GAE2B,KAAK,SAC/B,SAAU,WAAW0L,EAAwB,IAAI,IAAIL,EAAK,IAAIC,CAAI,SAASQ,GAAS,KAAK,cAAc,IAAID,EAAQ,EACrH,CACF,CACA,SAASE,EAAuBpF,GAAS1C,EAAO,CAC9C,MAAO,GAAG0C,EAAO,wCAAwC1C,EAAM,MAAM,KAAKA,EAAM,OAAO,EACzF,CC5FA,MAAMgI,EAAc,MACpB,MAAMC,CAAc,CAClB,YAAYC,EAAU,CACpB,KAAK,SAAWA,CAClB,CACA,eAAiB,CAACC,EAAM/E,GAASgF,GAAc,SAAW,CACxD,MAAMlJ,EAAM,IAAI,IACd,GAAG,KAAK,SAAS,SAAS,IAAI,KAAK,SAAS,OAAO,yBACrD,EACA,OAAAA,EAAI,UAAYiJ,EAChBjJ,EAAI,aAAa,IAAI,cAAekE,EAAO,EAC3C,OAAO,QAAQgF,IAAe,CAAC,CAAC,EAAE,QAChC,CAAC,CAACrK,EAAKC,CAAK,IAAMkB,EAAI,aAAa,IAAInB,EAAKC,CAAK,CACnD,EACOkB,EAAI,SAAS,CACtB,EACA,MAAM,IAAIiJ,EAAM/E,GAASgF,GAAc,OAAQhI,EAAO,CACpD,MAAMiI,EAAW,KAAK,eAAeF,EAAM/E,GAASgF,EAAW,EACzD7F,EAAS,MAAM,MAAM8F,EAAU,CACnC,QAAS,CACP,cAAe,UAAUjI,CAAK,EAChC,CACF,CAAC,EACD,OAAKmC,EAAO,GAGL,MAAMA,EAAO,KAAK,EAFhBA,EAAO,KAAK,EAAE,KAAM+F,GAAO,QAAQ,OAAO,IAAI,MAAMA,EAAG,OAAO,CAAC,CAAC,CAG3E,CACA,MAAM,KAAKH,EAAM/E,GAASmF,GAASnI,EAAO,CACxC,MAAMiI,EAAW,KAAK,eAAeF,EAAM/E,EAAO,EAC5Cb,EAAS,MAAM,MAAM8F,EAAU,CACnC,OAAQ,OACR,QAAS,CACP,cAAe,UAAUjI,CAAK,GAC9B,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAUmI,EAAO,CAC9B,CAAC,EACD,OAAKhG,EAAO,GAGL,MAAMA,EAAO,KAAK,EAFhBA,EAAO,KAAK,EAAE,KAAM+F,GAAO,QAAQ,OAAO,IAAI,MAAMA,EAAG,OAAO,CAAC,CAAC,CAG3E,CACA,MAAM,cAAcE,EAAgBpI,GAAO,CACzC,OAAO,KAAK,IAAI,IAAIoI,CAAc,GAAIR,EAAa,OAAQ5H,EAAK,CAClE,CACA,MAAM,iBAAiBiH,EAAMjH,GAAO,CAClC,MAAMxE,GAASyL,EAAK,cAAc,QAAQ,QAAS,EAAE,EAC/C9E,EAAS,MAAM,KAAK,IACxB,IAAI8E,EAAK,IAAI,QACbW,EACA,CAAE,OAAApM,EAAO,EACTwE,EACF,EACA,OAAKmC,EAAO,OAAO,OAKZA,EAAO,MAAM,CAAC,EAJZ,QAAQ,OACb,IAAI,MAAM,sBAAsB3G,EAAM,iBAAiB,CACzD,CAGJ,CACA,MAAM,cAAcsC,EAASkC,GAAO,CAClC,KAAM,CAAE,aAAAqI,GAAc,SAAAC,CAAS,EAAIxK,EAC7ByK,EAAO,CACX,WAAY,CACV,CACE,KAAM,cAAczK,EAAQ,UAAU,GACtC,YAAauK,GAAa,QAC5B,CACF,EACA,QAAS,CACP,CACE,QAASvK,EAAQ,MACjB,QAAS,CACP,CACE,WAAY,MACZ,KAAM,CACJ,KAAM,IAAIA,EAAQ,QAAQ,EAC5B,EACA,WAAY,CACV,QAASA,EAAQ,YACjB,YAAa,SACf,CACF,CACF,CACF,CACF,CACF,EAOA,OANe,MAAM,KAAK,KACxB,IAAIwK,CAAQ,UACZV,EACAW,EACAvI,EACF,GACc,WAAW,CAAC,CAC5B,CACA,MAAM,kBAAkBlC,EAASkC,GAAO,CACtC,KAAM,CAAE,SAAAsI,GAAU,WAAAE,EAAY,WAAAC,CAAW,EAAI3K,EACvCqK,EAAU,CACd,MAAOrK,EAAQ,MACf,YAAaA,EAAQ,YACrB,cAAe0K,EACf,cAAeC,CACjB,EACA,OAAO,MAAM,KAAK,KAChB,IAAIH,EAAQ,gBACZV,EACAO,EACAnI,EACF,CACF,CACF,CACA,eAAe0I,EAAuB5K,GAAS6K,EAAS,OAAQ,CAC9D,KAAM,CACJ,MAAAzB,GACA,WAAA0B,GACA,MAAA5I,EACA,YAAAmH,EACA,SAAAK,EACA,WAAAD,EACA,YAAAsB,CACF,EAAI/K,GACEgL,EAAeH,GAAU,IAAId,EAAc/J,EAAO,EAClDmJ,EAAO,MAAM6B,EAAa,cAAcF,GAAY5I,CAAK,EACzD+I,EAAgB,MAAMD,EAAa,iBAAiB7B,EAAMjH,CAAK,EAC/DgJ,EAAgB,CACpB,MAAA9B,GACA,SAAUD,EAAK,KACf,aAAc8B,EACd,WAAAxB,EACA,YAAAJ,EACA,SAAAK,CACF,EACMyB,GAAY,MAAMH,EAAa,cAAcE,EAAehJ,CAAK,EACjEkJ,GAAY,CAChB,MAAAhC,GACA,YAAA2B,EACA,SAAU5B,EAAK,KACf,WAAYgC,GAAU,KACtB,WAAYF,EAAc,IAC5B,EACA,OAAOD,EAAa,kBAAkBI,GAAWlJ,CAAK,CACxD,CC3IA,SAASmJ,EAAcC,GAAS,CAC9B,KAAM,CAAE,IAAAC,EAAK,KAAApC,GAAM,QAAAqC,GAAS,KAAAC,CAAK,EAAIC,EAAaJ,EAAO,EACzD,GAAI,CAACC,GAAO,CAACpC,IAAQ,CAACqC,GACpB,MAAM,IAAI,MACR,kFACF,EAGF,MAAO,CAAE,UADS,WAAWC,CAAI,IAAIF,CAAG,GACpB,SAAUpC,GAAM,QAAAqC,EAAQ,CAC9C,CACA,eAAeG,EAAoB3L,GAASgJ,EAAYC,GAAW,CACjE,KAAM,CAAE,cAAAK,GAAe,YAAAD,EAAa,MAAAD,EAAO,KAAAhI,CAAK,EAAIpB,GAC9CyJ,KAAa,MAAcR,EAAS,EACpCS,KAAW,MAAmBT,EAAS,EACvC,CAAE,MAAA/G,CAAM,EAAI,MAAM8G,EAAW,eAAe,CAChD,IAAKM,GACL,gBAAiB,CACf,UAAW,EACb,CACF,CAAC,EACK,CAAE,UAAAsC,EAAW,SAAApB,EAAU,QAAAgB,CAAQ,EAAIH,EAAc/B,EAAa,EAC9DjF,GAAS,MAAMuG,EAAuB,CAC1C,MAAA1I,EACA,YAAAmH,EACA,MAAAD,EACA,YAAahI,EACb,QAAAoK,EACA,WAAYhB,EACZ,WAAAf,EACA,UAAAmC,EACA,SAAAlC,CACF,CAAC,EACKmC,GAAkB,GAAGxH,GAAO,WAAW,MAAM,UAAUqF,CAAQ,GAErE,MAAO,CACL,KAFiB,GAAGrF,GAAO,WAAW,MAAM,gBAAgBA,GAAO,aAAa,GAGhF,SAAUwH,EACZ,CACF,CACA,SAASH,EAAaI,GAAW,CAC/B,MAAM9K,EAAM,IAAI,IAAI8K,EAAS,EAC7B,IAAIL,GAAOzK,EAAI,KACXuK,GACAC,EACArC,EACJ,MAAMxD,EAAQ3E,EAAI,SAAS,MAAM,GAAG,EAAE,IAAK+K,GAAS,mBAAmBA,CAAI,CAAC,EAC5E,OAAIpG,EAAM,CAAC,IAAM,QACf4F,GAAM5F,EAAM,CAAC,EACb6F,EAAUrC,EAAOxD,EAAM,CAAC,GACfA,EAAM,CAAC,IAAM,QACtB4F,GAAM5F,EAAM,CAAC,EACb6F,EAAU7F,EAAM,CAAC,EACjBwD,EAAOxD,EAAM,CAAC,GACLA,EAAM,CAAC,IAAM,SACtB8F,GAAO,GAAGA,EAAI,IAAI9F,EAAM,CAAC,CAAC,GAC1B4F,GAAM5F,EAAM,CAAC,EACb6F,EAAU7F,EAAM,CAAC,EACjBwD,EAAOxD,EAAM,CAAC,GAET,CAAE,KAAA8F,GAAM,IAAAF,GAAK,QAAAC,EAAS,KAAArC,CAAK,CACpC,CCzDA,MAAM6C,CAAoB,CACxB,aACA,SACA,WACA,mBACA,WACA,UACA,YAAYhM,EAAS,CACnB,KAAK,aAAeA,EAAQ,aAC5B,KAAK,WAAaA,EAAQ,WAC1B,KAAK,SAAWA,EAAQ,SACxB,KAAK,mBAAqBA,EAAQ,mBAClC,KAAK,WAAaA,EAAQ,WAC1B,KAAK,UAAYA,EAAQ,SAC3B,CACA,MAAM,WAAWgB,EAAK,CACpB,GAAI,IAAI,IAAIA,CAAG,EAAE,SAAS,MAAM,UAAU,GAAK,IAAI,IAAIA,CAAG,EAAE,aAAa,IAAI,MAAM,GAAG,MAAM,SAAS,EAAG,CACtG,MAAMiL,EAAW,MAAM,KAAK,WAAW,YAAY,CACjD,KAAM,MACN,OAAQjL,EACR,OAAQ,EACV,CAAC,EACD,MAAO,CACL,KAAM,YACN,UAAW,CACT,CACE,OAAQiL,EAAS,OACjB,OAAQA,EAAS,SAAS,OAC1B,SAAUA,EAAS,SAAS,IAAKpO,IAAO,CACtC,KAAMA,EAAE,KACR,UAAWA,EAAE,SAAS,WAAa,UACnC,KAAMA,EAAE,SAAS,IACnB,EAAE,CACJ,CACF,CACF,CACF,CACA,MAAMqO,GAAwB,CAAC,SAAU,OAAO,EAC1CC,GAAmB,KAAK,mBAAmB,MAAMnL,CAAG,EAE1D,GAAI,EADe,CAAC,CAACmL,IAAoBD,GAAsB,KAAM9B,GAAOA,IAAO+B,GAAiB,IAAI,GACvF,CACf,MAAMC,KAAkB,MAAmB,KAAK,SAAS,EACzD,MAAID,GACI,IAAI,MACR,OAAOA,GAAiB,KAAK,2CAA2CC,CAAe,gEACzF,EAEI,IAAI,MACR,0NAA0NA,CAAe,gBAC3O,CACF,CACA,MAAMC,EAAc,MAAM,KAAK,gBAAgB,CAC7C,KAAMrL,CACR,CAAC,EACD,GAAIqL,EAAY,oBAAoB,OAAS,EAAG,CAC9C,MAAMC,EAAYD,EAAY,oBAAoB,OAAO,CAACE,EAAOC,KAC/DD,EAAMC,EAAK,SAAS,MAAM,EAAI,CAC5B,OAAQA,EAAK,SAAS,OACtB,OAAQA,EAAK,aACb,SAAU,CACR,GAAGA,EAAK,SAAS,UAAUD,EAAQA,EAAMC,EAAK,SAAS,MAAM,EAAE,SAAW,CAAC,EAC3E,CACE,KAAMA,EAAK,OAAO,SAAS,KAC3B,UAAWA,EAAK,OAAO,SAAS,WAAa,UAC7C,KAAMA,EAAK,OAAO,IACpB,CACF,CACF,EACOD,GACN,CAAC,CAAC,EACL,MAAO,CACL,KAAM,YACN,UAAW,OAAO,OAAOD,CAAS,CACpC,CACF,CACA,MAAO,CACL,KAAM,aACN,gBAAiBH,GAAiB,KAClC,IAAAnL,EACA,kBAAmBqL,EAAY,iBAAiB,IAAKI,GAAMA,EAAE,MAAM,CACrE,CACF,CACA,MAAM,oBAAqB,CACzB,MAAMC,EAAW,KAAK,UAAU,kBAAkB,WAAW,GAAK,YAC5DC,GAAa,KAAK,UAAU,UAAU,aAAa,EAEzD,MAAO,CACL,MAAO,UAFe,MAAmB,KAAK,SAAS,CAE1B,eAC7B,KAAM,6HAA6HD,CAAQ,sBAAsBC,EAAU;AAAA;AAAA;AAAA;AAAA,kIAK7K,CACF,CACA,MAAM,kBAAkB3M,EAAS,CAC/B,KAAM,CAAE,cAAAsJ,GAAe,YAAAD,GAAa,MAAAD,EAAO,KAAAhI,CAAK,EAAIpB,EAC9C4M,EAAY,uBAAuBvD,EAAW,EACpD,UAAWwD,KAAYD,EAAW,CAChC,MAAME,EAAqB,MAAM,KAAK,WAAW,eAC/CD,EAAS,KAAK,EACd,OAAOvD,EAAa,EACtB,EACA,GAAI,CAACwD,EAAmB,MACtB,MAAM,IAAI,MAAMA,EAAmB,OAAO,CAAC,EAAE,OAAO,CAExD,CACA,MAAM1K,EAAW,KAAK,mBAAmB,MAAMkH,EAAa,EAC5D,OAAQlH,GAAU,KAAM,CACtB,IAAK,SAAU,CACb,KAAM,CAAE,OAAA4D,CAAO,EAAI5D,EACb,CAAE,KAAAvB,EAAM,MAAAqI,CAAM,EAAI,IAAYI,EAAa,EAUjD,OAAOP,EATU,CACf,wBAAyB/C,EACzB,KAAMnF,EACN,MAAAqI,EACA,cAAAI,GACA,YAAAD,GACA,MAAAD,EACA,KAAAhI,CACF,EACsC,KAAK,WAAY,KAAK,SAAS,CACvE,CACA,IAAK,QACH,OAAOuK,EACL,CACE,cAAArC,GACA,YAAAD,GACA,MAAAD,EACA,KAAAhI,CACF,EACA,KAAK,WACL,KAAK,SACP,EAEF,QACE,MAAM,IAAI,MAAM,gBAAgB,CAEpC,CACF,CAEA,MAAM,gBAAgBpB,EAAS,CAC7B,MAAMO,GAAW,MAAM,KAAK,SAAS,MACnC,GAAG,MAAM,KAAK,aAAa,WAAW,SAAS,CAAC,oBAChD,CACE,QAAS,CACP,eAAgB,kBAClB,EACA,OAAQ,OACR,KAAM,KAAK,UAAU,CACnB,SAAU,CAAE,KAAM,MAAO,OAAQP,EAAQ,IAAK,EAC9C,GAAG,KAAK,UAAU,kBAChB,+BACF,GAAK,CACH,gBAAiB,KAAK,UAAU,kBAC9B,+BACF,CACF,CACF,CAAC,CACH,CACF,EAAE,MAAOnC,GAAM,CACb,MAAM,IAAI,MAAM,0CAA0CA,EAAE,OAAO,EAAE,CACvE,CAAC,EACD,GAAI,CAAC0C,GAAS,GACZ,MAAM,IAAI,MACR,iEAAiEA,GAAS,MAAM,KAAKA,GAAS,UAAU,EAC1G,EAGF,OADgB,MAAMA,GAAS,KAAK,CAEtC,CACF,CC3KA,MAAMwM,MAAe,KAAe,CAClC,GAAI,gBACN,CAAC,EACKC,MAAsB,KAAa,CACvC,GAAI,iBACJ,KAAM,IACJ,KAAiB,CACf,IAAK,IACL,KAAM,CACJ,aAAc,IACd,WAAY,IACZ,SAAU,IACV,mBAAoB,IACpB,WAAY,IACZ,UAAW,GACb,EACA,QAAS,CAAC,CACR,aAAA7F,GACA,WAAA6B,EACA,SAAA3B,GACA,mBAAAD,GACA,WAAA/I,EACA,UAAA4K,CACF,IAAM,IAAI+C,EAAoB,CAC5B,aAAA7E,GACA,WAAA6B,EACA,mBAAA5B,GACA,SAAAC,GACA,WAAAhJ,EACA,UAAA4K,CACF,CAAC,CACH,CAAC,CACH,EACA,OAAQ,CACN,WAAY8D,EACd,CACF,CAAC,EACKE,GAAoBD,GAAoB,WAC5C,MAAwB,CACtB,KAAM,oBACN,UAAW,IAAM,gCAA+C,KAAMlF,IAAMA,GAAE,UAAU,EACxF,WAAYiF,EACd,CAAC,CACH,C,4FC9CA,SAASG,EAAepL,EAAO9B,EAAS,CAEtC,MAAMqE,EAAS,CACb,KAAM,UACN,QAAS,oBACT,GAJiB,iBAAiBvC,CAAK,CAKzC,EACA,OAAK9B,GAAS,eACZ,OAAOqE,EAAO,MACVA,EAAO,OAAS,OAAOA,EAAO,OAAU,UAAY,UAAWA,EAAO,OACxE,OAAOA,EAAO,MAAM,OAGjBA,CACT,CACA,SAAS8I,EAAiBpJ,EAAM,CAC9B,MAAMM,KAAS,oBAAmBN,CAAI,EACtC,OAAKA,EAAK,QACRM,EAAO,MAAQ,QAEVA,CACT,CACA,SAAS+I,EAAetL,EAAO,CAC7B,MAAI,KAAQA,CAAK,EAAG,CAClB,MAAMuL,EAAM,OAAOvL,CAAK,EACxB,OAAOuL,IAAQ,kBAAoBA,EAAM,GAAGvL,EAAM,IAAI,KAAKA,EAAM,OAAO,EAC1E,CACA,MAAO,kBAAkBA,CAAK,GAChC,C,+FCzBA,MAAMwL,EAAevP,GAAU,CAC7B,KAAM,CAAE,EAAAQ,CAAE,KAAI,KAAkB,GAAwB,EAClD,CACJ,OAAQ,CACN,MAAA6K,EAAQ7K,EAAE,0BAA0B,EACpC,YAAAwM,EAAcxM,EAAE,gCAAgC,CAClD,EACA,SAAAgP,EACA,GAAGC,CACL,EAAIzP,EACE0P,EAAmBF,EAAS,YAAY,GAAG,iBAC3CG,EAAeH,EAAS,YAAY,GAAG,aACvCI,EAAgBJ,EAAS,YAAY,GAAG,eAAiB,CAC7D,KAAMG,GAAgB,CAAC,QAAS,MAAM,CACxC,EACME,EAAgB,CACpB,GAAGL,EACH,aAAc,CACZ,cAAAI,EACA,YAAa,QACb,qBAAsBJ,EAAS,YAAY,GAAG,sBAAwB,GACtE,GAAGE,IAAqB,OAAS,CAAE,iBAAAA,CAAiB,EAAI,CAAC,CAC3D,CACF,EACA,SAAuB,OACrB,IACA,CACE,GAAGD,EACH,OAAQ,CAAE,MAAApE,EAAO,YAAA2B,CAAY,EAC7B,SAAU6C,CACZ,CACF,CACF,C,6KCpCA,MAAMC,KAA4B,KAAuB,CACvD,GAAI,qBACJ,SAAU,GACV,cAAe,2BACjB,CAAC,EACKC,KAAsB,KAAuB,CACjD,GAAI,eACJ,SAAU,GACV,OAAQ,CAAC,YAAa,OAAQ,MAAM,EACpC,cAAe,kBACjB,CAAC,EACKf,KAAe,KAAe,CAClC,GAAI,YACN,CAAC,KACD,KAAkB,CAChB,GAAI,sCACJ,OAAQA,EACR,KAAM,0BACR,CAAC,EACD,MAAMgB,KAA2B,KAAkB,CACjD,GAAI,+BACJ,OAAQhB,EACR,KAAM,qCACR,CAAC,EACKiB,KAAyB,KAAkB,CAC/C,GAAI,kBACJ,OAAQjB,EACR,KAAM,gBACR,CAAC,EACKkB,KAA6B,KAAkB,CACnD,GAAI,wBACJ,OAAQlB,EACR,KAAM,QACR,CAAC,EACKmB,KAAkB,KAAkB,CACxC,GAAI,qBACJ,OAAQnB,EACR,KAAM,UACR,CAAC,EACKoB,KAAe,KAAkB,CACrC,GAAI,kBACJ,OAAQpB,EACR,KAAM,OACR,CAAC,EACKqB,KAAiB,KAAkB,CACvC,GAAI,oBACJ,OAAQrB,EACR,KAAM,WACR,CAAC,EACKsB,KAAuB,KAAkB,CAC7C,GAAI,0BACJ,OAAQtB,EACR,KAAM,gBACR,CAAC,EACKuB,KAAuB,KAAkB,CAC7C,GAAI,wBACJ,OAAQvB,EACR,KAAM,gBACR,CAAC,C,0UCrCD,MAAMwB,EAAqBC,MAAkB,KAC1CC,IAAW,CACV,KAAM,CACJ,MAAOA,EAAM,QAAQ,WAAW,MAChC,QAAS,OACT,SAAU,aACV,WAAY,SACZ,OAAQ,GACR,OAAQ,SACV,EACA,WAAY,CACV,WAAY,OACZ,OAAQ,OACR,MAAO,OACP,OAAQ,EACR,QAAS,EACT,UAAW,UACX,KAAM,UACN,cAAe,MACjB,EACA,OAAQ,CACN,MAAOD,EAAc,kBACrB,eAAgB,QAClB,EACA,KAAM,CACJ,CAACC,EAAM,YAAY,GAAG,IAAI,CAAC,EAAG,CAC5B,MAAOD,EAAc,eACvB,CACF,EACA,cAAe,CACb,UAAW,CACT,WAAYC,EAAM,QAAQ,WAAW,SAAS,iBAAmB,SACnE,CACF,EACA,YAAa,CACX,WAAYA,EAAM,QAAQ,WAAW,SAAS,iBAAmB,SACnE,EACA,MAAO,CAEL,WAAY,OACZ,WAAY,SACZ,WAAY,OACZ,KAAM,WACN,MAAO,QACP,SAAU,SACV,gBAAiB,UACnB,EACA,cAAe,CACb,UAAW,aACX,OAAQ,OACR,MAAOD,EAAc,mBACrB,YAAa,CAACC,EAAM,QAAQ,CAAC,EAC7B,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,WAAY,GACd,EACA,WAAY,CACV,aAAc,EAChB,EACA,YAAa,CACX,MAAO,UACP,WAAYA,EAAM,WAAW,eAC7B,SAAUA,EAAM,WAAW,QAC7B,EACA,qBAAsB,CACpB,QAASA,EAAM,QAAQ,EAAG,EAAG,CAAC,CAChC,EACA,gBAAiB,CACf,MAAOD,EAAc,gBAAkBA,EAAc,kBACvD,EACA,gBAAiB,CACf,MAAOC,EAAM,QAAQ,CAAC,EACtB,UAAW,SACX,YAAaA,EAAM,QAAQ,CAAC,CAC9B,EACA,eAAgB,CACd,MAAO,OACP,eAAgB,QAClB,EACA,aAAc,CACZ,QAAS,MACX,EACA,aAAc,CACZ,WAAY,OACZ,OAAQ,OACR,MAAOA,EAAM,QAAQ,WAAW,MAChC,MAAO,OACP,OAAQ,UACR,SAAU,WACV,OAAQ,EACV,EACA,OAAQ,CACN,SAAU,WACV,MAAO,EACT,EACA,SAAU,CACR,SAAU,CACR,WAAY,SAASD,EAAc,sBAAsB,MAAMC,EAAM,QAAQ,WAAW,SAAS,GACjG,MAAOA,EAAM,QAAQ,WAAW,aAClC,EACA,WAAY,CACV,MAAOD,EAAc,iBACvB,EACA,oBAAqB,CACnB,aAAcA,EAAc,sBAC9B,EACA,mBAAoB,CAClB,WAAY,CAACA,EAAc,sBAC7B,CACF,CACF,GACA,CAAE,KAAM,sBAAuB,CACjC,EACA,SAASE,EAAcF,EAAe,CAKpC,SAJkB,WAChB,IAAMD,EAAkBC,CAAa,EACrC,CAACA,CAAa,CAChB,EACiB,CACnB,CACA,MAAMG,EAAmB,CAACC,EAAS3C,OAAa,KAC9C2C,EAAQ,MAAM,SACbC,GAAa,CACZ,IAAIC,GAAS,GACb,OAAAD,EAAS,YAAY,EAAE,QACrB,CAAC,CACC,MAAO,CAAE,GAAAE,GAAI,cAAAC,EAAc,CAC7B,IAAM,CACJ,GAAI,CAACF,GAAQ,CACX,GAAIE,IAAe,OAAQ,CACzBA,GAAc,QACZ,CAAC,CAAE,GAAIC,EAAI,IAAMH,GAASA,OAAU,KAAgB7C,KAAU,MAAYgD,EAAG,CAAC,CAChF,EACA,MACF,CACIF,KACFD,MAAS,KAAgB7C,KAAU,MAAY8C,EAAE,CAAC,EAEtD,CACF,CACF,EACOD,EACT,EACA,CAAC7C,EAAS,QAAQ,CACpB,EACA,SAASiD,GAAanR,EAAO,CAC3B,OAAOA,EAAM,KAAO,MACtB,CACA,MAAMoR,MAAqB,iBAAc,GAAc,EAAE,KACnDC,MAAoB,cAAW,SAAkC,CACrE,GAAAL,EACA,IAAAM,EACA,MAAAC,GACA,UAAAC,GACA,YAAAC,GACA,cAAAC,GACA,gBAAAC,EAAkB,SAClB,eAAgBC,GAAkB,OAClC,GAAGlH,EACL,EAAG1F,GAAK,CACN,GAAI,CAAE,SAAU6M,EAAiB,KAAI,MAAY,EAC7C,CAAE,SAAUC,EAAW,KAAI,MAAgBd,CAAE,EAC5CU,KACHG,GAAmBA,GAAiB,kBAAkB,OAAO,EAC7DC,GAAaA,GAAW,kBAAkB,OAAO,GAEnD,IAAIC,GAAWF,KAAqBC,GAChC,CAACC,IAAY,CAACT,IAChBS,GAAWF,GAAiB,WAAW,GAAGC,EAAU,GAAG,GAEzD,MAAME,GAAcD,GAAWH,GAAkB,OACjD,SAAuB,OACrB,KACA,CACE,GAAGlH,GACH,GAAAsG,EACA,IAAAhM,GACA,eAAgBgN,GAChB,MAAO,CAAE,GAAGT,GAAO,GAAGQ,GAAWN,GAAc,MAAO,EACtD,UAAW,IAAW,CACpB,OAAOD,IAAc,WAAaA,GAAY,OAC9CO,GAAWJ,EAAkB,MAC/B,CAAC,CACH,CACF,CACF,CAAC,EACKM,MAAkB,cAAW,CAACjS,EAAOgF,IAAQ,CACjD,KAAM,CACJ,KAAMkN,EACN,KAAAC,GACA,iBAAAC,GAAmB,GACnB,WAAAC,GAAa,GACb,iBAAAC,GAAmB,GACnB,QAAAC,EACA,QAAAC,GACA,SAAAC,GACA,UAAAjB,GACA,GAAGkB,EACL,EAAI1S,EACE,CAAE,cAAAyQ,EAAc,KAAI,cAAW,IAAoB,EACnDkC,GAAUhC,EAAcF,EAAa,EACrC,CAAE,OAAAmC,EAAO,KAAI,MAAoB,EACjCC,GAAW,CAACD,IAAUP,GAAa,CAAE,QAAS,OAAQ,WAAY,MAAO,EAAI,CAAE,WAAY,GAAI,EAC/FS,MAAkC,QAAK,IAAK,CAAE,MAAOD,GAAU,SAAU,IAC7D,OAAIX,EAAM,CAAE,SAAU,OAAQ,CAAC,EAC/C,CAACU,IAAUP,MAA6B,OAAI,IAAgB,CAAE,SAAU,OAAQ,CAAC,KAAoB,OAAI,WAAU,CAAC,CAAC,CACvH,CAAE,CAAC,EACGU,MAA2B,OAC/B,IACA,CACE,MAAO,YACP,QAAS,MACT,QAAS,WACT,UAAW,CAACX,GACZ,UAAW,IAAW,CAAE,CAACO,GAAQ,cAAc,EAAG,CAACC,EAAO,CAAC,EAC3D,SAAUE,EACZ,CACF,EACME,MAA8B,QAAK,WAAU,CAAE,SAAU,IAC7C,OAAI,IAAK,CAAE,cAAe,eAAgB,UAAWL,GAAQ,cAAe,SAAUI,EAAS,CAAC,EAChHZ,OAAwB,OACtB,IACA,CACE,QAAS,YACT,UAAW,OACX,UAAWQ,GAAQ,MACnB,SAAUR,EACZ,CACF,KACgB,OAAI,MAAO,CAAE,UAAWQ,GAAQ,gBAAiB,SAAAF,EAAS,CAAC,CAC7E,CAAE,CAAC,EACGQ,GAAUL,GAASI,GAAcD,GACjCG,GAAa,CACjB,QAAAX,EACA,UAAW,IACTf,GACAmB,GAAQ,KACRC,GAASD,GAAQ,KAAOA,GAAQ,OAChCxB,GAAanR,CAAK,GAAK2S,GAAQ,WAC/B,CAAE,CAACA,GAAQ,aAAa,EAAG,CAACL,EAAiB,CAC/C,CACF,EACMa,MAAe,KAAa,EAC5B,CAAE,SAAUnC,EAAG,KAAI,MACvB,CAACG,GAAanR,CAAK,GAAKA,EAAM,GAAKA,EAAM,GAAK,EAChD,EACMoT,MAAc,eACjBxP,IAAU,CACT,GAAI,CAAC4O,GAAS,CACZ,MAAMa,GAAS,QACTC,EAAUnB,IAAQ,eAClBlQ,GAAU+O,GAAK,CAAE,WAAY,CAAE,GAAAA,EAAG,CAAE,EAAI,OAC9CmC,GAAa,aAAaE,GAAQC,EAASrR,EAAO,CACpD,CACAsQ,IAAU3O,EAAK,CACjB,EACA,CAACuP,GAAchB,GAAMnB,GAAIwB,GAASD,CAAO,CAC3C,EACA,OAAIpB,GAAanR,CAAK,KACG,OACrB,IACA,CACE,KAAM,SACN,aAAcmS,GACd,GAAGe,GACH,IAAAlO,EACA,QAASoO,GACT,SAAUH,EACZ,CACF,KAEqB,OACrB5B,GACA,CACE,GAAG6B,GACH,gBAAiBP,GAAQ,SACzB,GAAI3S,EAAM,GAAKA,EAAM,GAAK,GAC1B,IAAAgF,EACA,aAAcmN,IAAcnS,EAAM,GAClC,GAAG0S,GACH,QAASU,GACT,SAAUH,EACZ,CACF,CACF,CAAC,EACKM,EAAyB,CAAC,CAC9B,SAAAd,EACA,GAAGzS,CACL,IAAM,CACJ,KAAM,CAAE,cAAAyQ,CAAc,KAAI,cAAW,IAAoB,EACnDkC,GAAUhC,EAAcF,CAAa,EACrC,CAAC+C,GAAaC,EAAc,KAAI,YAAS,EAAK,EAC9CvF,MAAW,MAAY,EACvB6D,EAAWnB,EAAiB6B,EAAUvE,EAAQ,EAC9CwF,MAAgB,KACnBhD,IAAUA,GAAM,YAAY,KAAK,IAAI,CACxC,EACMiD,GAAmB,IAAM,CAC7BF,GAAe,EAAI,CACrB,EACMG,GAAmB,IAAM,CAC7BH,GAAe,EAAK,CACtB,EACMI,GAAY,IACZH,GACKF,MAA8B,OAAI,IAAiB,CAAE,SAAU,QAAS,UAAWb,GAAQ,YAAa,CAAC,KAAoB,OAAI,IAAmB,CAAE,SAAU,QAAS,UAAWA,GAAQ,YAAa,CAAC,EAE5M,CAACa,OAA+B,OAAI,IAAgB,CAAE,SAAU,QAAS,UAAWb,GAAQ,YAAa,CAAC,EAEnH,SAAuB,OACrB,KAA8B,SAC9B,CACE,MAAO,CACL,YAAAa,GACA,eAAAC,EACF,EACA,YAA0B,QACxB,MACA,CACE,cAAe,oBACf,aAAcG,GACd,aAAcJ,GAAcI,GAAmBD,GAC/C,aAAcA,GACd,UAAW,IAAWH,IAAeb,GAAQ,WAAW,EACxD,SAAU,IACQ,OACdV,GACA,CACE,WAAY,GACZ,UAAWF,EAAWY,GAAQ,SAAW,GACzC,GAAG3S,EACH,SAAU6T,GAAU,CACtB,CACF,EACAL,IAAef,CACjB,CACF,CACF,CACF,CACF,CACF,EACMqB,MAAc,cAAW,CAAC9T,EAAOgF,IAAQ,CAC7C,KAAM,CAAC6L,CAAO,KAAI,KAChB7Q,EAAM,SACL8Q,IAKCA,GAAS,YAAY,EAAE,OAAQiD,IAAUA,GAAM,OAAS3C,EAAkB,CAE9E,EACA,OAAIP,KACqB,OAAI0C,EAAwB,CAAE,GAAGvT,EAAO,SAAU6Q,CAAQ,CAAC,KAE7D,OAAIoB,GAAiB,CAAE,GAAGjS,EAAO,IAAAgF,CAAI,CAAC,CAC/D,CAAC,EACD,SAASgP,GAAmBhU,EAAO,CACjC,KAAM,CAAE,cAAAyQ,CAAc,EAAI,WAAW,oBAAoB,EACnD,CAACpK,EAAO4N,EAAQ,EAAI,SAAS,EAAE,EAC/BtB,GAAUhC,EAAcF,CAAa,EACrCyB,GAAOlS,EAAM,KAAOA,EAAM,KAAO,OACjCkU,GAAS,IAAM,CACnBlU,EAAM,SAASqG,CAAK,EACpB4N,GAAS,EAAE,CACb,EACME,EAAeC,IAAO,CACtBA,GAAG,MAAQ,UACbA,GAAG,eAAe,EAClBF,GAAO,EAEX,EACMG,GAAeD,IAAO,CAC1BH,GAASG,GAAG,OAAO,KAAK,CAC1B,EACME,GAAoBF,IAAO,CAC/BA,GAAG,eAAe,EAClBA,GAAG,gBAAgB,CACrB,EACMG,GAAmBH,IAAO,CAC9BF,GAAO,EACPE,GAAG,eAAe,CACpB,EACA,OAAuB,IAAI,IAAK,CAAE,UAAWzB,GAAQ,WAAY,SAA0B,IACzFmB,GACA,CACE,KAAM5B,GACN,GAAIlS,EAAM,GACV,QAASuU,GACT,iBAAkB,GAClB,SAA0B,IACxB,UACA,CACE,YAAa,SACb,MAAOlO,EACP,QAASiO,GACT,SAAUD,GACV,UAAWF,EACX,UAAWxB,GAAQ,gBACnB,WAAY,CACV,iBAAkB,GAClB,UAAWA,GAAQ,WACrB,EACA,WAAY,CACV,UAAWA,GAAQ,oBACrB,CACF,CACF,CACF,CACF,CAAE,CAAC,CACL,CACA,MAAM6B,KAAe,KAAO,KAAK,EAC/B,CACE,KAAM,CACR,EACA,CAAE,KAAM,uBAAwB,CAClC,EACMC,KAAgB,KAAO,KAAK,EAChC,CACE,OAAQ,CACV,EACA,CAAE,KAAM,wBAAyB,CACnC,EACMC,KAAiB,KAAO,IAAI,EAChC,CAAC,CAAE,MAAAhE,CAAM,KAAO,CACd,OAAQ,EACR,MAAO,OACP,WAAY,UACZ,OAAQ,OACR,OAAQA,EAAM,QAAQ,IAAK,CAAC,CAC9B,GACA,CAAE,KAAM,yBAA0B,CACpC,EACMiE,EAAmBjE,IAAW,CAClC,UAAW,OACX,uBAAwB,CACtB,gBAAiBA,EAAM,QAAQ,WAAW,QAC1C,MAAO,MACP,aAAc,KAChB,EACA,6BAA8B,CAC5B,gBAAiBA,EAAM,QAAQ,KAAK,UACpC,aAAc,KAChB,CACF,GACMkE,KAAuB,KAAO,KAAK,EAAE,CAAC,CAAE,MAAAlE,CAAM,IAAM,CACxD,MAAMmE,EAAkBF,EAAgBjE,CAAK,EAC7C,MAAO,CACL,KAAM,WACN,UAAW,SACX,MAAO,OAGP,UAAW,OACX,UAAW,SACX,uBAAwBmE,EACxB,UAAWA,CACb,CACF,CAAC,EACKC,EAAsB,IAAM,CAChC,KAAM,CAAE,cAAArE,CAAc,EAAI,WAAW,oBAAoB,EACnDkC,EAAUhC,EAAcF,CAAa,EACrC,CAAE,OAAAmC,EAAQ,QAAAmC,EAAQ,EAAI,oBAAoB,EAKhD,GAJsB,cACnBrE,IAAUA,GAAM,YAAY,KAAK,IAAI,EACtC,CAAE,MAAO,EAAK,CAChB,EAEE,OAAO,KAET,MAAM0C,GAAc,IAAM,CACxB2B,GAAQ,CAACnC,CAAM,CACjB,EACA,OAAuB,IACrB,OACA,CACE,KAAM,SACN,QAASQ,GACT,UAAWT,EAAQ,aACnB,aAAc,iBACd,cAAe,wBACf,SAA0B,IAAI,IAAK,CAAE,UAAWA,EAAQ,OAAQ,SAAUC,EAAyB,IAAI,gBAAiB,CAAC,CAAC,EAAoB,IAAI,iBAAkB,CAAC,CAAC,CAAE,CAAC,CAC3K,CACF,CACF,C,4HC5fA,MAAMoC,EAAe,CACnB,oBAAqB,CACnB,IAAIjT,EACJ,GAAI,CACFA,EAAQ,KAAK,MACX,OAAO,aAAa,QAAQ,iBAAyC,GAAK,MAC5E,CACF,MAAQ,CACN,MAAO,EACT,CACA,MAAO,CAAC,CAACA,CACX,EACA,mBAAmByM,EAAO,CACxB,OAAO,OAAO,aAAa,QACzB,kBACA,KAAK,UAAUA,CAAK,CACtB,CACF,CACF,E,eCTA,MAAMyG,KAAYC,EAAA,GACfxE,IAAW,CACV,KAAM,CACJ,MAAO,OACP,WAAY,6BACZ,UAAW,UACX,CAACA,EAAM,YAAY,GAAG,IAAI,CAAC,EAAG,CAC5B,YAAc1Q,GAAUA,EAAM,SAAWA,EAAM,cAAc,gBAAkBA,EAAM,cAAc,iBACrG,EACA,CAAC0Q,EAAM,YAAY,KAAK,IAAI,CAAC,EAAG,CAC9B,cAAgB1Q,GAAUA,EAAM,cAAc,mBAChD,EACA,eAAgB,CACd,QAAS,gBACX,CACF,EACA,QAAS,CACP,OAAQ,EACR,UAAW,UACX,UAAW,CACT,QAAS,CACX,CACF,CACF,GACA,CAAE,KAAM,sBAAuB,CACjC,EACMmV,KAAc,iBAAc,CAChC,QAAS,CACP,WAAY,MACd,CACF,CAAC,EACD,SAASC,EAAYpV,EAAO,CAC1B,KAAM,CAACqV,EAAUC,CAAW,KAAI,YAC9B,IAAMN,EAAa,mBAAmB,CACxC,EACM,CAAE,cAAAvE,CAAc,KAAI,cAAW,IAAoB,EACnD8E,KAAa,UAAO,IAAI,EACxBC,KAAc,WAClB,KAAO,CACL,QAAS,CACP,WAAAD,CACF,CACF,GACA,CAACA,CAAU,CACb,KACA,aAAU,IAAM,CACdP,EAAa,mBAAmBK,CAAQ,CAC1C,EAAG,CAACA,CAAQ,CAAC,EACb,MAAMI,KAAWC,EAAA,GAAehF,GAAUA,EAAM,YAAY,KAAK,IAAI,EAAG,CACtE,MAAO,EACT,CAAC,EACKiF,EAAwB,IAAML,EAAY,CAACD,CAAQ,EACnD1C,EAAUsC,EAAU,CAAE,SAAAI,EAAU,cAAA5E,CAAc,CAAC,EACrD,SAAuB,OACrB,KACA,CACE,MAAO,CACL,SAAA4E,EACA,sBAAAM,EACA,SAAAF,CACF,EACA,YAA0B,OAAIN,EAAY,SAAU,CAAE,MAAOK,EAAa,YAA0B,OAAII,EAAA,EAAK,CAAE,UAAWjD,EAAQ,KAAM,SAAU3S,EAAM,QAAS,CAAC,CAAE,CAAC,CACvK,CACF,CACF,CACA,SAAS6V,GAAa,CACpB,KAAM,CAAE,QAAA5C,CAAQ,KAAI,cAAWkC,CAAW,EAI1C,MAAO,CAAE,gBAHY,eAAY,IAAM,CACrClC,GAAS,YAAY,SAAS,MAAM,CACtC,EAAG,CAACA,CAAO,CAAC,EACW,WAAYA,GAAS,UAAW,CACzD,C,yGC9EA,MAAM6C,EAAoB,CACxB,kBAAmB,IAA6B,kBAChD,YAAa,IAA6B,YAC1C,kBAAmB,IAA6B,kBAChD,iBAAkB,IAA6B,iBAC/C,gBAAiB,IAA6B,gBAC9C,kBAAmB,IAA6B,kBAChD,qBAAsB,IAA6B,qBACnD,uBAAwB,IAA6B,uBACrD,WAAa/T,GACJ,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,IAAM,kCAAkC,KAAKA,CAAK,CAE/H,EACA,SAASgU,EAAcC,EAAY,CAAC,EAAG,CACrC,MAAO,CACL,GAAGF,EACH,GAAGE,CACL,CACF,C,iFCNA,MAAMC,EAAoBjW,GAAU,CAClC,KAAM,CAAE,SAAAkW,EAAU,SAAAC,EAAU,SAAA3G,CAAS,EAAIxP,EACnCM,KAAa,MAAO,GAAa,EACjC,CAAC8V,EAAYC,CAAa,KAAI,YAAS,CAAC,CAAC,EACzC,CAACC,EAAYC,CAAa,KAAI,YAAS,EAAE,EACzC,CAACC,EAAYC,CAAa,KAAI,YAAS,EAAK,EAC5CC,GAAeX,EAAc,EAAE,WAC/BY,GAAQnH,EAAS,YAAY,GAAG,MAChCoH,GAAapH,EAAS,YAAY,GAAG,WACrCqH,GAAarH,EAAS,YAAY,GAAG,WACrCsH,EAAatH,IAAW,aAAa,GAAK,GAC1C,CAAE,EAAAhP,EAAE,KAAI,KAAkB,GAAwB,EAClD,CAAE,QAAAuW,GAAS,MAAOC,CAAa,KAAIC,EAAA,GAAS,SAAY,CAC5D,MAAMC,EAAQ,gBACRC,EAAc,CAAE,OAAQ,CAACD,CAAK,CAAE,EAClCP,KACFQ,EAAY,OAAS,CAAE,KAAMR,EAAM,GAErC,KAAM,CAAE,OAAAS,CAAO,EAAI,MAAM9W,EAAW,gBAAgB6W,CAAW,EACzDE,EAAY,OAAO,YACvBD,EAAOF,CAAK,EAAE,IAAI,CAAC,CAAE,MAAAnV,EAAO,MAAAuV,CAAM,IAAM,CAACvV,EAAOuV,CAAK,CAAC,CACxD,EACA,OAAAjB,EACE,OAAO,KAAKgB,CAAS,EAAE,KACrB,CAACxP,EAAG0P,IAAMX,GAAaS,EAAUE,CAAC,EAAIF,EAAUxP,CAAC,EAAIA,EAAE,cAAc0P,CAAC,CACxE,CACF,EACOF,CACT,CAAC,EACKG,EAAU,CAACC,EAAGvU,IAAW,CAC7B,IAAIwU,EAAW,GACXC,EAAe,GACnB,MAAMC,EAAc1B,GAAY,CAAC,EACjC,GAAIhT,GAAQ,QAAU0U,EAAY,OAAS1U,EAAO,OAAQ,CACxD,MAAM2U,EAAS3U,EAAOA,EAAO,OAAS,CAAC,EAAIA,EAAOA,EAAO,OAAS,CAAC,EAAE,kBAAkB,OAAO,EAAE,KAAK,EACrGwU,EAAW,CAAChB,GAAamB,CAAM,EAC/BF,EAAeC,EAAY,QAAQC,CAAM,IAAM,EACjD,CACApB,EAAciB,CAAQ,EACtBnB,EAAemB,EAAgBpB,EAAL,EAAe,EACrC,CAACoB,GAAY,CAACC,GAChBxB,EAASjT,GAAU,CAAC,CAAC,CAEzB,EACA,SAAA4U,EAAA,GAAc,IAAM3B,EAASD,GAAY,CAAC,CAAC,CAAC,KACrB,OAAI6B,EAAA,EAAa,CAAE,OAAQ,SAAU,YAA0B,OACpFC,EAAA,GACA,CACE,SAAU,GACV,SAAU,GACV,sBAAuB,GACvB,SAAUR,EACV,SAAUV,EACV,MAAOZ,GAAY,CAAC,EACpB,WAAAI,EACA,QAAAS,GACA,QAASX,EACT,UAAW,CAAE,KAAM,OAAQ,EAC3B,aAAe6B,GAAWrB,GAAa,GAAGqB,CAAM,KAAKjB,IAAeiB,CAAM,CAAC,IAAMA,EACjF,YAAcvU,MAA2B,OACvCwU,EAAA,EACA,CACE,GAAGxU,EACH,MAAOlD,GAAE,+BAA+B,EACxC,SAAUsW,EACV,SAAWhX,GAAMyW,EAAczW,EAAE,OAAO,KAAK,EAC7C,MAAO0W,EACP,WAAYK,IAAcrW,GAAE,qCAAqC,EACjE,oBAAqB,CAAE,OAAQ,QAAS,MAAO,CAAE,WAAY,CAAE,CAAE,CACnE,CACF,CACF,CACF,CAAE,CAAC,CACL,C,yEC5EA,MAAM2X,KAR8B,KAClC,IAAE,MAAM,IAAE,OAAO,CAAC,EAClB,IAAE,OAAO,CACP,MAAO,IAAE,MAAM,IAAE,OAAO,CAAC,EAAE,SAAS,EAAE,SAAS,+CAA+C,EAC9F,WAAY,IAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,sCAAsC,EAClF,WAAY,IAAE,OAAO,EAAE,SAAS,EAAE,SAAS,wBAAwB,CACrE,CAAC,CACH,EAC2D,M,gHCN3D,MAAMC,EAAoBC,GACjBC,EAAO,KAAKD,EAAW,SAAS,EAAG,OAAO,EAAE,SAAS,QAAQ,EAEhEE,EAAoBF,GACnBA,EACE,OAAOC,EAAO,KAAKD,EAAY,QAAQ,EAAE,SAAS,OAAO,CAAC,EADzC,EAGpBG,EAAwBxY,GAAU,CACtC,KAAM,CACJ,MAAOsX,EAAQ,GACf,OAAQe,EACR,YAAAI,EACA,eAAgBC,EAChB,MAAOC,EAAc,GACrB,WAAYC,EAAmB,oBAC/B,UAAWC,EAAqB,CAAC,CAAE,KAAAC,EAAM,GAAA9H,CAAG,IAAMsG,EAAQ,EAAI,MAAMA,CAAK,GAAK,GAAGwB,CAAI,IAAI9H,CAAE,GAC3F,aAAc+H,EACd,cAAeC,EACf,GAAGtO,CACL,EAAI1K,EACEiZ,KAAO,WAAQ,IAAMV,EAAiBF,CAAU,EAAG,CAACA,CAAU,CAAC,EAC/Da,KAAmB,eACvB,CAACzB,EAAG0B,IAAa,CACfT,IAAqBN,EAAiBe,CAAQ,CAAC,CACjD,EACA,CAACT,CAAkB,CACrB,EACMU,KAA0B,eAC7BtZ,GAAM,CACL,MAAMqZ,EAAWrZ,EAAE,OAAO,MAC1BkZ,IAAoB,SAASG,EAAU,EAAE,CAAC,CAC5C,EACA,CAACH,CAAiB,CACpB,EACA,SAAuB,OACrB,IACA,CACE,GAAGtO,EACH,UAAW,MACX,MAAA4M,EACA,KAAA2B,EACA,oBAAqB,CACnB,GAAGR,IAAgB,QAAU,CAAE,SAAU,CAACA,CAAY,CACxD,EACA,aAAcS,EACd,YAAAP,EACA,iBAAAC,EACA,mBAAAC,EACA,mBAAAE,EACA,oBAAqBK,CACvB,CACF,CACF,EACMC,EAAoBrZ,GAAU,CAClC,KAAM,CAAE,UAAAsZ,EAAW,aAAAC,EAAc,WAAAlB,EAAY,cAAAmB,EAAe,cAAAC,CAAc,KAAI,MAAU,EAClFC,KAAwB,eAC3BC,GAAiB,CAChBJ,EAAaI,CAAY,EACzBH,EAAc,MAAM,CACtB,EACA,CAACD,EAAcC,CAAa,CAC9B,EACA,SAAuB,OACrBhB,EACA,CACE,GAAGxY,EACH,YAAa,CAAC,CAACyZ,EACf,MAAOH,EACP,cAAeI,EACf,OAAQrB,EACR,eAAgBmB,CAClB,CACF,CACF,C,iKCnEA,MAAMI,EAAqB5Z,GAAU,CACnC,KAAM,CAAE,EAAAQ,CAAE,KAAI,KAAkB,GAAwB,EAClD,CACJ,OAAQ,CACN,MAAA6K,EAAQ7K,EAAE,gCAAgC,EAC1C,YAAAwM,EAAcxM,EAAE,sCAAsC,CACxD,EACA,SAAAgP,EACA,SAAAqK,CACF,EAAI7Z,EACEuJ,KAAc,MAAO,GAAc,EACnC,CAAE,QAAAwN,EAAS,MAAO+C,CAAa,KAAI,KAAS,UAC/B,MAAMvQ,EAAY,qBAAqB,GACxC,mBACjB,EACD,GAAIwN,EACF,SAAuB,OACrB,KACA,CACE,QAAAA,EACA,YAAcrT,MAA2B,OACvC,IACA,CACE,GAAGA,EACH,MAAO2H,EACP,OAAQ,QACR,WAAY2B,EACZ,oBAAqB,CAAE,OAAQ,QAAS,MAAO,CAAE,WAAY,CAAE,CAAE,EACjE,QAAS,WACT,SAAA6M,EACA,WAAYnW,EAAO,UACrB,CACF,EACA,QAAS,CAAC,CACZ,CACF,EACF,MAAMqW,EAAuBC,EAC3BxK,EACAsK,CACF,EACA,SAAuB,OAAI,IAAc,CAAE,GAAG9Z,EAAO,SAAU+Z,CAAqB,CAAC,CACvF,EACA,SAASC,EAA0BxK,EAAUsK,EAAc,CACzD,MAAMG,EAAYzK,IAAW,YAAY,GAAK,CAAC,EACzC,CAAE,aAAAG,EAAc,GAAGuK,CAAa,EAAID,EACpCrK,EAAgBuK,EAAQF,EAAU,aAAa,EAAE,IAAKna,IAAO,CACjE,GAAGA,EACH,GAAG6P,EAAe,CAAE,KAAMA,CAAa,EAAI,CAAC,EAC5C,CAAC,aAAa,IAAiB,EAAE,EAAGmK,GAAgB,CAAC,CACvD,EAAE,EACF,MAAO,CACL,aAAc,CACZ,GAAGI,EACH,cAAAtK,CACF,CACF,CACF,CACA,SAASuK,EAAQvK,EAAe,CAC9B,OAAIA,EACK,MAAM,QAAQA,CAAa,EAAIA,EAAgB,CAACA,CAAa,EAE/D,CAAC,CAAC,CAAC,CACZ,C,8DCvEA,MAAMwK,KAAwB,KAAa,CACzC,GAAI,gCACN,CAAC,C,gGCaD,MAAMC,EAA6B,IAAI,QACjCC,EAAqBC,GAAmB,CAC5C,MAAMC,KAAW,MAAO,GAAW,EAC7BC,KAAiB,MAAO,GAAiB,EACzC,CAACC,EAAUC,CAAW,KAAI,YAC9B,IAAMF,EAAe,eAAeF,CAAc,CACpD,EACMK,KAAa,WACjB,IAAMH,EAAe,aAAaF,CAAc,EAChD,CAACE,EAAgBF,CAAc,CACjC,EACMM,KAAU,eACb9W,GAAU,CACT,GAAI,CAACsW,EAAW,IAAIE,CAAc,EAAG,CACnC,MAAMO,EAAS,wCAAwCP,EAAe,EAAE,gBAAgBxW,CAAK,GAC7F,QAAQ,MAAM+W,CAAM,EACpBN,EAAS,KAAK,IAAI,MAAMM,CAAM,CAAC,EAC/BT,EAAW,IAAIE,CAAc,CAC/B,CACF,EACA,CAACC,EAAUD,CAAc,CAC3B,KACA,aAAU,IAAM,CACd,MAAMQ,EAAeH,EAAW,UAAU,CACxC,KAAKI,EAAM,CACLA,EAAK,OACPL,EAAYK,CAAI,CAEpB,EACA,MAAMjX,EAAO,CACX8W,EAAQ9W,CAAK,CACf,CACF,CAAC,EACD,MAAO,IAAM,CACXgX,EAAa,YAAY,CAC3B,CACF,EAAG,CAACH,EAAYC,CAAO,CAAC,EACxB,MAAMI,KAAmB,UAAO,EAAI,EAQpC,MAPA,aAAU,IAAM,CACVA,EAAiB,QACnBA,EAAiB,QAAU,GAE3BN,EAAYF,EAAe,eAAeF,CAAc,CAAC,CAE7D,EAAG,CAACE,EAAgBF,CAAc,CAAC,EAC/B,CAACG,EAAS,MACZ,MAAM,IAAI,QAASzW,GAAY,CAC7B,MAAM8W,EAAeH,EAAW,UAAU,CACxC,KAAKI,EAAM,CACLA,EAAK,QACPD,EAAa,YAAY,EACzB9W,EAAQ,EAEZ,EACA,MAAMF,EAAO,CACXgX,EAAa,YAAY,EACzBF,EAAQ9W,CAAK,EACbE,EAAQ,CACV,CACF,CAAC,CACH,CAAC,EAEH,MAAO,CAAE,EAAGyW,EAAS,CAAE,CACzB,C,kBCrDA,MAAMxO,EADK,SAAS,cAAc,oCAAoC,GACrD,aAAa,SAAS,EACnCA,IACF,IAA0BA,E,2JCxB5B,MAAMgP,EAAsB,2BACtBC,EAA8B,6BAC9BC,EAAiB,IAAM,QAC7B,KAAoBA,EAAgBD,EAA6B,EAAI,EACrE,MAAME,EAAoBvY,GACjB,GAAGoY,CAAmB,IAAIpY,EAAK,kBAAkB,OAAO,CAAC,GAElE,SAASwY,EAA6BrZ,EAAS,CAC7C,KAAM,CAAE,KAAAa,EAAM,UAAWyY,CAAc,EAAItZ,EAC3C,SAAO,MAAqB,CAC1B,KAAAa,EACA,UAAW,CACT,KAAO9C,MAA0B,OAAIub,EAAe,CAAE,GAAGvb,CAAM,CAAC,CAClE,EACA,KAAM,CACJ,CAACkb,CAAmB,EAAGjZ,EACvB,CAACoZ,EAAiBvY,CAAI,CAAC,EAAG,EAC5B,CACF,CAAC,CACH,CACA,MAAM0Y,EAAyB,CAACC,EAAY3Z,IACnC2Z,EAAW,sBAAsB,CAAE,IAAA3Z,CAAI,CAAC,EAAE,YAAY,EAAE,CAAC,EAE5D4Z,EAAwBD,GACrBA,EAAW,sBAAsB,CACtC,IAAKN,CACP,CAAC,EAAE,sBAAsB,CACvB,IAAKD,CACP,CAAC,EAEGS,EAA4BF,GACzBA,EAAW,sBAAsB,CACtC,IAAKN,CACP,CAAC,EAAE,kBAAkB,CACnB,IAAKD,CACP,CAAC,EAEGU,EAAoB,IAAM,CAC9B,MAAM7T,KAAO,MAAU,EACjB0T,KAAa,KAAiB1T,EAAM2T,CAAoB,EACxDzZ,KAAU,KAAiB8F,EAAM4T,CAAwB,EACzDE,KAAkB,eACrB7V,GAAS,CACR,GAAI,CAACyV,GAAc,CAACzV,EAAM,OAAO,KACjC,MAAM8V,EAAUT,EAAiBrV,EAAK,IAAI,EAC1C,OAAOwV,EAAuBC,EAAYK,CAAO,GAAK,IACxD,EACA,CAACL,CAAU,CACb,EACMM,KAAwB,eAC3BjZ,GAAS,CACR,MAAMkD,EAAO/D,EAAQ,KAAMgW,GAAWA,EAAO,OAASnV,CAAI,EAC1D,OAAOkD,EAAO6V,EAAgB7V,CAAI,EAAI,IACxC,EACA,CAAC/D,EAAS4Z,CAAe,CAC3B,EACMG,KAA6B,eAChC9N,GAAa,CACZ,MAAMlI,EAAO/D,EAAQ,OAAQgW,GAAWA,EAAO,WAAa/J,CAAQ,EACpE,OAAOlI,EAAK,OAASA,EAAK,IAAI6V,CAAe,EAAI,IACnD,EACA,CAAC5Z,EAAS4Z,CAAe,CAC3B,EACA,MAAO,CAAE,sBAAAE,EAAuB,2BAAAC,CAA2B,CAC7D,C,+HC7DA,MAAM/G,KAAY,KACfvE,IAAW,CACV,KAAM,CACJ,WAAY,YACZ,WAAY,MACZ,UAAW,OACX,YAAaA,EAAM,QAAQ,CAAC,CAC9B,EACA,QAAS,CACP,OAAQA,EAAM,QAAQ,CAAC,CACzB,CACF,GACA,CAAE,KAAM,qBAAsB,CAChC,EACMuL,EAAY,CAAC,CACjB,MAAAlY,EACA,QAAA0C,EACA,MAAAyV,EACA,SAAAzJ,CACF,IAAM,CACJ,MAAME,EAAUsC,EAAU,EAC1B,SAAuB,QAAK,IAAM,CAAE,MAAO,GAAM,SAAU,IACzC,QAAK,IAAU,CAAE,WAAY,aAAc,SAAU,IACnD,OACd,IACA,CACE,QAAS,CAAE,UAAWtC,EAAQ,IAAK,EACnC,QAAS,QACT,UAAW5O,CACb,CACF,KACgB,OAAI,IAAgB,CAAE,KAAMA,CAAM,CAAC,CACrD,CAAE,CAAC,KACa,QAAK,IAAU,CAAE,WAAY,aAAc,SAAU,IACnD,OACd,IACA,CACE,QAAS,CAAE,UAAW4O,EAAQ,IAAK,EACnC,QAAS,UACT,UAAWlM,CACb,CACF,KACgB,OAAI,IAAgB,CAAE,KAAMA,CAAQ,CAAC,CACvD,CAAE,CAAC,EACHyV,MAAyB,QAAK,IAAU,CAAE,WAAY,aAAc,SAAU,IAC5D,OACd,IACA,CACE,QAAS,CAAE,UAAWvJ,EAAQ,IAAK,EACnC,QAAS,cACT,UAAWuJ,CACb,CACF,KACgB,OAAI,IAAgB,CAAE,KAAMA,CAAM,CAAC,CACrD,CAAE,CAAC,EACHzJ,CACF,CAAE,CAAC,CACL,EACA,SAAS0J,EAAWnc,EAAO,CACzB,KAAM,CAAE,MAAAqL,EAAO,MAAAtH,EAAO,gBAAAqY,EAAiB,YAAAC,EAAa,SAAA5J,CAAS,EAAIzS,EACjE,SAAuB,OACrB,IACA,CACE,SAAU,QACV,MAAOqL,GAAStH,EAAM,QACtB,gBAAAqY,EACA,YAAAC,EACA,YAA0B,OACxBJ,EACA,CACE,MAAOlY,EAAM,KACb,QAASA,EAAM,QACf,MAAOA,EAAM,MACb,SAAA0O,CACF,CACF,CACF,CACF,CACF,C,8DCpFA,MAAM6J,KAAe,KACnB,iBACA,IAAM,OAAO,gBAAgB,CAC/B,C,+DCHA,MAAMC,KAAgB,KAAa,CACjC,GAAI,cACN,CAAC,C,qJCMD,MAAMC,KAAgB,KACpB,CACE,KAAM,CACJ,eAAgB,YAChB,OAAQ,SACV,CACF,EACA,CAAE,KAAM,mCAAoC,CAC9C,EAAE,GAAU,EACNC,KAAY,KAChB,CACE,KAAM,CACJ,eAAgB,YAChB,MAAO,SACT,CACF,EACA,CAAE,KAAM,+BAAgC,CAC1C,EAAE,GAAG,EACCC,KAAyB,KAC7B,CACE,KAAM,CACJ,UAAW,QACb,CACF,EACA,CAAE,KAAM,wBAAyB,CACnC,EAAE,GAAG,EACL,SAASC,EAAY3c,EAAO,CAC1B,KAAM,CAAE,SAAAyS,EAAU,GAAGhD,CAAU,EAAIzP,EAC7B,CAAC4c,EAAUC,CAAW,KAAI,YAAS,IAAI,EACvCC,EAAgB,WAAS,QAAQrK,CAAQ,EACzC,CAACsK,EAAWC,EAAY,GAAGC,CAAe,EAAIH,EAC9CI,EAAcD,EAAgB,OAASA,EAAgB,IAAI,EAAIH,EAAcA,EAAc,OAAS,CAAC,EACrGK,EAAuBL,EAAc,OAAS,EAC9C1J,EAAexP,IAAU,CAC7BiZ,EAAYjZ,GAAM,aAAa,CACjC,EACMwZ,EAAc,IAAM,CACxBP,EAAY,IAAI,CAClB,EACM5c,GAAO,EAAQ2c,EACrB,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,QAAK,IAAqB,CAAE,aAAc,aAAc,GAAGnN,EAAW,SAAU,CAC9FqN,EAAc,OAAS,MAAqB,OAAIL,EAAW,CAAE,MAAO,GAAM,SAAUM,CAAU,CAAC,EAC/FD,EAAc,OAAS,MAAqB,OAAIL,EAAW,CAAE,MAAO,GAAM,SAAUO,CAAW,CAAC,EAChGG,MAAwC,OAAIX,EAAe,CAAE,QAASpJ,EAAa,SAAU,KAAM,CAAC,KACpF,OAAIsJ,EAAwB,CAAE,SAAUQ,CAAY,CAAC,CACvE,CAAE,CAAC,KACa,OACd,KACA,CACE,KAAAjd,GACA,SAAA2c,EACA,QAASQ,EACT,aAAc,CACZ,SAAU,SACV,WAAY,MACd,EACA,gBAAiB,CACf,SAAU,MACV,WAAY,MACd,EACA,YAA0B,OAAI,IAAM,CAAE,SAAUH,EAAgB,IAAI,CAACI,GAAUC,QAA0B,OAAI,IAAU,CAAE,OAAQ,GAAM,YAA0B,OAAIb,EAAW,CAAE,MAAO,GAAM,SAAUY,EAAS,CAAC,CAAE,EAAGC,EAAK,CAAC,CAAE,CAAC,CACnO,CACF,CACF,CAAE,CAAC,CACL,C,gGCtEA,SAASC,EAAevd,EAAO,CAC7B,KAAM,CAAE,WAAAwd,EAAY,UAAAC,EAAW,GAAGC,CAAU,EAAI1d,EAChD,SAAuB,OAAI,WAAU,CAAE,SAAUwd,EAAW,IAAI,CAAC3d,EAAGoG,IAAM,CACxE,MAAM0X,EAAkB,OAAO9d,GAAM,SAAWA,KAAI,MAAmBA,CAAC,EACxE,SAAuB,QAAK,WAAY,CAAE,SAAU,CAClDoG,EAAI,GAAK,QACO,OAAI,IAAe,CAAE,GAAGyX,EAAW,UAAW7d,EAAG,SAAU4d,CAAU,CAAC,CACxF,CAAE,EAAG,GAAGxX,CAAC,IAAI0X,CAAe,EAAE,CAChC,CAAC,CAAE,CAAC,CACN,C,mFCXA,MAAMC,EAAc,aACdC,EAAsB,yBACtBC,EAAsB,oCAC5B,SAASC,EAA4B9V,EAAQ,CAC3C,MAAMyF,EAAOzF,EAAO,kBAAkB,MAAM,GAAK2V,EACjD,IAAII,EAAa/V,EAAO,kBAAkB,YAAY,EAClDgW,EAAahW,EAAO,kBAAkB,YAAY,EACtD,MAAM9D,EAAQ8D,EAAO,kBAAkB,OAAO,GAAG,KAAK,EAChDiW,EAAOjW,EAAO,uBAAuB,MAAM,GAAG,IAAKvF,IAAO,CAC9D,MAAOA,EAAE,UAAU,OAAO,EAC1B,SAAUA,EAAE,UAAU,UAAU,EAChC,aAAcA,EAAE,UAAU,cAAc,EACxC,cAAeA,EAAE,kBAAkB,eAAe,EAClD,WAAYA,EAAE,UAAU,YAAY,EACpC,0BAA2BA,EAAE,uBAC3B,2BACF,CACF,EAAE,EACF,GAAI,IAAC,MAAYgL,CAAI,EACnB,MAAM,IAAI,MACR,uCAAuCA,CAAI,uBAC7C,EAEF,OAAIsQ,EACFA,KAAa,WAAQA,EAAY,GAAG,EAC3BtQ,IAASkQ,IAClBI,EAAaH,GAEXI,EACFA,KAAa,WAAQA,EAAY,GAAG,EAC3BvQ,IAASkQ,IAClBK,EAAaH,GAER,CAAE,KAAApQ,EAAM,WAAAsQ,EAAY,WAAAC,EAAY,MAAA9Z,EAAO,KAAA+Z,CAAK,CACrD,CACA,SAASC,EAA6BC,EAAS,CAC7C,MAAM9X,EAAS8X,EAAQ,IAAIL,CAA2B,EACtD,OAAKzX,EAAO,KAAM5D,GAAMA,EAAE,OAASkb,CAAW,GAC5CtX,EAAO,KAAK,CACV,KAAMsX,EACN,WAAYC,EACZ,WAAYC,CACd,CAAC,EAEIxX,CACT,C,qFC5CA,MAAM+X,KAAyB,QAC7B,IAAM,6EAAsC,KAAMtU,IAAO,CACvD,QAASA,EAAE,kBACb,EAAE,CACJ,EACMuU,EAA4Bte,MACT,OAAI,WAAU,CAAE,YAA0B,OAAI,IAAU,CAAC,CAAC,EAAG,YAA0B,OAAIqe,EAAwB,CAAE,GAAGre,CAAM,CAAC,CAAE,CAAC,ECNrJue,KAAwB,QAC5B,IAAM,gCAAqC,KAAMxU,IAAO,CACtD,QAASA,EAAE,iBACb,EAAE,CACJ,EACMyU,EAA2Bxe,MACR,OAAI,WAAU,CAAE,YAA0B,OAAI,IAAU,CAAC,CAAC,EAAG,YAA0B,OAAIue,EAAuB,CAAE,GAAGve,CAAM,CAAC,CAAE,CAAC,ECNpJye,KAAwB,QAC5B,IAAM,kEAAqC,KAAM1U,IAAO,CACtD,QAASA,EAAE,iBACb,EAAE,CACJ,EACM2U,EAA2B1e,GAAU,CACzC,MAAM2e,EAAqB3e,EAAM,wBAAwB,IACtD4e,GAAWA,EAAO,kBAAkB,CACvC,EACA,SAAuB,OAAI,WAAU,CAAE,YAA0B,OAAI,IAAU,CAAC,CAAC,EAAG,YAA0B,OAC5GH,EACA,CACE,GAAGze,EACH,uBAAwB2e,CAC1B,CACF,CAAE,CAAC,CACL,E,0BChBA,MAAME,EAA2B7e,GAAU,CACzC,MAAM0Q,KAAQoO,EAAA,GAAS,EACvB,SAAuB,OACrB,IACA,CACE,YAAa,CAAE,gBAAiBpO,EAAM,QAAQ,WAAW,OAAQ,EACjE,KAAM1Q,EAAM,WACZ,SAAU,WACV,mBAAoB,EACtB,CACF,CACF,ECXM+e,EAA2B/e,GAAU,CACzC,KAAM,CAAE,WAAAgf,CAAW,EAAIhf,EACjB0Q,KAAQoO,EAAA,GAAS,EACvB,SAAuB,OACrB,IACA,CACE,YAAa,CAAE,gBAAiBpO,EAAM,QAAQ,WAAW,OAAQ,EACjE,KAAMsO,EACN,SAAU,aACV,mBAAoB,EACtB,CACF,CACF,ECTA,SAASC,GAA2B,CAClC,MAAO,CACL,CACE,KAAM,UACN,MAAO,UACP,YAAa,OACb,UAAYD,MAA+B,OAAIN,EAAyB,CAAE,WAAAM,CAAW,CAAC,CACxF,EACA,CACE,KAAM,WACN,MAAO,WACP,YAAa,OACb,UAAYA,MAA+B,OAAIV,EAA0B,CAAE,WAAAU,CAAW,CAAC,CACzF,EACA,CACE,KAAM,UACN,MAAO,UACP,YAAa,UACb,UAAYA,MAA+B,OAAIR,EAAyB,CAAE,WAAAQ,CAAW,CAAC,CACxF,EACA,CACE,KAAM,OACN,MAAO,OACP,UAAYA,MAA+B,OAAIH,EAAyB,CAAE,WAAAG,CAAW,CAAC,CACxF,EACA,CACE,KAAM,OACN,MAAO,OACP,UAAYA,MAA+B,OAAID,EAAyB,CAAE,WAAAC,CAAW,CAAC,CACxF,CACF,CACF,C,8DCpCA,MAAME,KAAuB,KAAuB,CAClD,GAAI,gBACJ,SAAU,GACV,cAAe,sBACjB,CAAC,C,gDCND,MAAMC,EAAyB,OAAO,OAAO,CAK3C,OAAQ,SAKR,UAAW,YAKX,SAAU,WAIV,eAAgB,iBAIhB,iBAAkB,mBAKlB,QAAS,SA8BX,CAAC,C,iFCxDD,MAAMC,KAAuB,KAAe,CAC1C,GAAI,eACN,CAAC,EACKC,KAAwB,KAAuB,CACnD,GAAI,iBACJ,OAAQ,CAAC,YAAa,OAAQ,MAAM,EACpC,SAAU,GACV,cAAe,uBACjB,CAAC,C,6HCLD,MAAMC,KAAmB,MACvB,gBACF,EACMC,EAAuBvf,GAAU,CACrC,KAAM,CAAE,SAAAyS,EAAU,OAAAhT,EAAQ,QAAAsX,EAAS,MAAAhT,EAAO,QAAAyb,CAAQ,EAAIxf,EAChD+B,EAAQ,CAAE,OAAAtC,EAAQ,QAAAsX,EAAS,MAAAhT,EAAO,QAAAyb,CAAQ,EAChD,SAAuB,OAAIF,EAAiB,SAAU,CAAE,SAAO,KAAwB,CAAE,EAAGvd,CAAM,CAAC,EAAG,YAA0B,OAC9H,IACA,CACE,WAAY,CACV,GAAGtC,EAAS,CAAE,aAAW,MAAmBA,CAAM,CAAE,EAAI,MAC1D,EACA,SAAAgT,CACF,CACF,CAAE,CAAC,CACL,EACMgN,EAAkBzf,GAA0B,IAChDuf,EACA,CACE,OAAQvf,EAAM,OACd,QAAS,CAASA,EAAM,OACxB,MAAO,OACP,QAAS,OACT,SAAUA,EAAM,QAClB,CACF,EACA,SAAS0f,GAAY,CACnB,MAAMC,KAAkB,MACtB,gBACF,EACA,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,iCAAiC,EAEnD,MAAM5d,EAAQ4d,EAAgB,UAAU,CAAC,EACzC,GAAI,CAAC5d,EACH,MAAM,IAAI,MAAM,gCAAgC,EAElD,GAAI,CAACA,EAAM,OACT,MAAM,IAAI,MACR,4JACF,EAEF,MAAO,CAAE,OAAQA,EAAM,MAAO,CAChC,CACA,SAAS6d,GAAiB,CACxB,MAAMD,KAAkB,MACtB,gBACF,EACA,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,iCAAiC,EAEnD,MAAM5d,EAAQ4d,EAAgB,UAAU,CAAC,EACzC,GAAI,CAAC5d,EACH,MAAM,IAAI,MAAM,gCAAgC,EAElD,KAAM,CAAE,OAAAtC,EAAQ,QAAAsX,EAAS,MAAAhT,EAAO,QAAAyb,CAAQ,EAAIzd,EAC5C,MAAO,CAAE,OAAAtC,EAAQ,QAAAsX,EAAS,MAAAhT,EAAO,QAAAyb,CAAQ,CAC3C,C,8FC1DA,MAAMvK,KAAY,KACfvE,IAAW,CACV,KAAM,CACJ,SAAU,cACV,SAAU,EACV,WAAYA,EAAM,QAAQ,CAAC,EAC3B,cAAeA,EAAM,QAAQ,CAAC,EAC9B,YAAaA,EAAM,QAAQ,CAAC,EAC5B,aAAcA,EAAM,QAAQ,CAAC,EAC7B,CAACA,EAAM,YAAY,GAAG,IAAI,CAAC,EAAG,CAC5B,YAAaA,EAAM,QAAQ,CAAC,EAC5B,aAAcA,EAAM,QAAQ,CAAC,CAC/B,CACF,EACA,QAAS,CACP,QAAS,OACT,cAAe,SACf,SAAU,CACZ,EACA,UAAW,CACT,QAAS,CACX,CACF,GACA,CAAE,KAAM,kBAAmB,CAC7B,EACA,SAASmP,EAAQ7f,EAAO,CACtB,KAAM,CAAE,UAAAwR,EAAW,QAAAsO,EAAS,UAAAC,EAAW,SAAAtN,EAAU,GAAGhD,CAAU,EAAIzP,EAC5D2S,EAAUsC,EAAU,EAC1B,SAAuB,OACrB,UACA,CACE,GAAGxF,EACH,UAAW,IAAWkD,EAAQ,KAAMnB,EAAW,CAC7C,CAACmB,EAAQ,OAAO,EAAGmN,EACnB,CAACnN,EAAQ,SAAS,EAAGoN,CACvB,CAAC,EACD,SAAAtN,CACF,CACF,CACF,C,2GCrCA,MAAMwC,EAAajV,MAAU,KAC1B0Q,IAAW,CACV,UAAW,CACT,MAAO,OACP,QAAS,OACT,cAAe,MACf,SAAU,OACV,eAAgB,WAChB,WAAY,SACZ,aAAcA,EAAM,QAAQ,CAAC,EAC7B,UAAW1Q,EAAM,SACnB,EACA,aAAc,CACZ,KAAM,WACN,SAAU,EACV,SAAU,SACZ,EACA,cAAe,CACb,KAAM,WACN,QAAS,OACT,cAAe,MACf,SAAU,OACV,WAAY,SACZ,WAAY0Q,EAAM,QAAQ,CAAC,EAC3B,SAAU,EACV,SAAU,SACZ,EACA,YAAa,CAAC,EACd,MAAO,CACL,QAAS,cACT,aAAc,CAChB,CACF,GACA,CAAE,KAAM,wBAAyB,CACnC,EACMsP,EAAqB,CAAC,CAAE,MAAA3U,EAAO,UAAAmG,CAAU,OAAsB,OACnE,IACA,CACE,QAAS,KACT,UAAW,KACX,UAAAA,EACA,cAAe,eACf,SAAUnG,CACZ,CACF,EACM4U,EAA2B,CAAC,CAChC,YAAAjT,EACA,UAAAwE,CACF,IAAMxE,KAA8B,OAClC,IACA,CACE,QAAS,QACT,UAAAwE,EACA,cAAe,qBACf,SAAUxE,CACZ,CACF,EAAI,KACJ,SAASkT,EAAclgB,EAAO,CAC5B,KAAM,CACJ,YAAAgN,EACA,MAAA3B,EACA,eAAgB8U,EAAiB,OACjC,SAAA1N,EACA,qBAAsB2N,EAAuB,OAC7C,UAAAC,EAAY,MACd,EAAIrgB,EACE2S,EAAUsC,EAAU,CAAE,UAAAoL,CAAU,CAAC,EAAE,EACnCC,EAAgBH,MAAkD,OAAIH,EAAoB,CAAE,MAAA3U,EAAO,UAAWsH,EAAQ,KAAM,CAAC,EAC7H4N,EAAsBH,MAA8D,OACxFH,EACA,CACE,YAAAjT,EACA,UAAW2F,EAAQ,WACrB,CACF,EACA,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAI,IAAQ,CAAE,MAAAtH,CAAM,CAAC,KACrB,QAAK,IAAK,CAAE,UAAWsH,EAAQ,UAAW,SAAU,IAClD,QAAK,IAAK,CAAE,UAAWA,EAAQ,aAAc,SAAU,CACrE2N,EACAC,CACF,CAAE,CAAC,KACa,OAAI,IAAK,CAAE,UAAW5N,EAAQ,cAAe,SAAAF,CAAS,CAAC,CACzE,CAAE,CAAC,CACL,CAAE,CAAC,CACL,C,gGCvFA,MAAM+N,EAAU9P,MAAU,KAAa,CACrC,KAAM,CACJ,QAAS,OACT,oBAAqB,uCACrB,aAAc,MACd,QAASA,EAAM,QAAQ,CAAC,CAC1B,CACF,CAAC,EACKuE,KAAY,KAAWuL,EAAQ,CAAE,KAAM,uBAAwB,CAAC,EACtE,SAASC,EAAazgB,EAAO,CAC3B,KAAM,CAAE,SAAAyS,EAAU,GAAGiO,CAAW,EAAI1gB,EAC9B2S,EAAUsC,EAAUyL,CAAU,EACpC,SAAuB,OAAI,IAAK,CAAE,UAAW/N,EAAQ,KAAM,GAAG+N,EAAY,SAAAjO,CAAS,CAAC,CACtF,C,kFCfA,MAAMzD,KAAe,KAAe,CAClC,GAAI,qBACN,CAAC,EACK2R,KAAmB,KAAe,CACtC,GAAI,uBACJ,OAAQ,CAAC,YAAa,OAAQ,MAAM,CACtC,CAAC,EACKC,KAA0B,KAAe,CAC7C,GAAI,8BACN,CAAC,C,oOCID,MAAMC,EAAgB7gB,GAAU,CAC9B,KAAM,CAAE,EAAAQ,CAAE,KAAI,KAAkB,GAAwB,EAClD,CACJ,SAAA2V,EACA,OAAQ,CACN,MAAA9K,EAAQ7K,EAAE,2BAA2B,EACrC,YAAAwM,EAAcxM,EAAE,iCAAiC,CACnD,EACA,SAAAqZ,EACA,SAAArK,GACA,UAAAsR,GACA,SAAA5K,GACA,SAAA6K,GACA,OAAAC,CACF,EAAIhhB,EACE4P,GAAgBqR,EAAmBzR,EAAQ,EAC3C0R,GAAc1R,GAAS,YAAY,GAAG,YACtCE,EAAmBF,GAAS,YAAY,GAAG,kBAAoB,OAC/DsH,EAAatH,KAAW,aAAa,GAAK,GAC1ClP,KAAa,MAAO,GAAa,EACjC6gB,KAAwB,MAAO,GAAwB,EACvD,CAAE,MAAOC,EAAU,QAAArK,CAAQ,KAAI,KAAS,SAAY,CACxD,MAAMsK,GAAS,CACb,gBACA,qBACA,iBACA,MACF,EACM,CAAE,MAAAC,EAAM,EAAI,MAAMhhB,EAAW,YACjCsP,GAAgB,CAAE,OAAQA,GAAe,OAAAyR,EAAO,EAAI,CAAE,OAAQ,OAAQ,OAAAA,EAAO,CAC/E,EACME,GAA0B,IAAI,IAClC,MAAM,QAAQ,IACZD,GAAM,IAAI,MAAO7e,GAAS,CACxB,MAAM+e,GAAe,MAAML,EAAsB,UAAU1e,CAAI,EAAE,QACjE,MAAO,IAAC,MAAmBA,CAAI,EAAG+e,EAAY,CAChD,CAAC,CACH,CACF,EACA,MAAO,CAAE,gBAAiBF,GAAO,wBAAAC,EAAwB,CAC3D,CAAC,EACKE,EAAuBjS,GAAS,YAAY,GAAG,sBAAwB,GACvEkS,KAAW,eACdC,IAAkB,CACjB,GAAI,CACF,MAAMC,MAAY,MAAeD,GAAe,CAC9C,YAAAT,GACA,iBAAAxR,CACF,CAAC,EACD,SAAO,MAAmBkS,EAAS,CACrC,MAAc,CACZ,OAAOD,EACT,CACF,EACA,CAACT,GAAaxR,CAAgB,CAChC,EACMmS,KAAW,eACf,CAACpK,GAAGzS,GAAK8c,KAAW,CAClB,GAAI,OAAO9c,IAAQ,SACjBmR,EAASnR,MAAM,MAAmBA,EAAG,EAAI,MAAM,UAE3C8c,KAAW,QAAUA,KAAW,gBAAiB,CACnD,IAAIC,EAAY/c,GAChB,GAAI,CACF+c,KAAY,SACV,MAAe/c,GAAK,CAClB,YAAAkc,GACA,iBAAAxR,CACF,CAAC,CACH,CACF,MAAc,CACd,EACIwG,KAAalR,IAAOyc,IACtBtL,EAAS4L,CAAS,CAEtB,CAEJ,EACA,CAAC5L,EAAUD,GAAUgL,GAAaxR,EAAkB+R,CAAoB,CAC1E,EACMO,GAAiBZ,GAAU,gBAAgB,KAAMthB,OAAM,MAAmBA,EAAC,IAAMoW,EAAQ,IAAMuL,GAAwBvL,GAAWwL,EAASxL,EAAQ,EAAI,IAC7J,sBAAU,IAAM,CACV2D,GAAY,CAAC4H,GAAwBL,GAAU,gBAAgB,SAAW,GAAKY,KAAmB,IACpG7L,KAAS,MAAmBiL,EAAS,gBAAgB,CAAC,CAAC,CAAC,CAE5D,EAAG,CAACA,EAAUjL,EAAU6L,GAAgBnI,EAAU4H,CAAoB,CAAC,KAChD,OACrB,IACA,CACE,UAAAX,GACA,eAAgB9T,EAChB,SAAA6M,EACA,SAAU/C,EACV,OAAAkK,EACA,YAA0B,OACxB,KACA,CACE,SAAUlK,GAAc+C,GAAY,CAAC4H,GAAwBL,GAAU,gBAAgB,SAAW,EAClG,GAAIL,IAAU,IACd,MAAOiB,GACP,QAAAjL,EACA,SAAU8K,EACV,QAAST,GAAU,iBAAmB,CAAC,EACvC,eAAiBnJ,IAEf,OAAOA,IAAW,SAAWA,GAASmJ,GAAU,wBAAwB,OAAI,MAAmBnJ,EAAM,CAAC,GAAG,UAE3G,WAAY,GACZ,SAAUwJ,EACV,YAAc/d,OAA2B,OACvC,IACA,CACE,GAAGA,GACH,MAAO2H,EACP,OAAQ,QACR,QAAS,WACT,SAAAwO,EACA,SAAU/C,EACV,WAAYpT,GAAO,UACrB,CACF,EACA,aAAeuU,OAA2B,OAAI,IAAmB,CAAE,UAAWA,EAAO,CAAC,EACtF,iBAAe,KAAoB,CACjC,UAAYA,IAAWmJ,GAAU,wBAAwB,OAAI,MAAmBnJ,EAAM,CAAC,GAAG,YAC5F,CAAC,EACD,iBAAkB,GACpB,CACF,CACF,CACF,CACF,EACA,SAASgK,EAAiBlgB,EAAO,CAC/B,OAAI,OAAOA,GAAU,UAAYA,EAAM,OAC9B,IAEFA,GAAO,SAAS,CACzB,CACA,SAASmgB,EAA4BC,EAAe,CAClD,MAAM5f,EAAQ,CAAC,EACf,SAAW,CAACT,EAAKC,CAAK,IAAK,OAAO,QAAQogB,CAAa,EACjD,MAAM,QAAQpgB,CAAK,EACrBQ,EAAMT,CAAG,EAAIC,EAEbQ,EAAMT,CAAG,EAAImgB,EAAiBlgB,CAAK,EAGvC,OAAOQ,CACT,CACA,SAAS0e,EAAmBzR,EAAU,CACpC,MAAMG,EAAeH,EAAS,YAAY,GAAG,aACvCI,EAAgBJ,EAAS,YAAY,GAAG,eAAiBG,GAAgB,CAAE,KAAMA,CAAa,EACpG,GAAKC,EAGL,OAAI,MAAM,QAAQA,CAAa,EACtBA,EAAc,IAAIsS,CAA2B,EAE/CA,EAA4BtS,CAAa,CAClD,C,oJC1KA,MAAMwS,UAA4B,WAAU,CAC1C,OAAO,yBAAyBre,EAAO,CACrC,MAAO,CAAE,MAAAA,CAAM,CACjB,CACA,MAAQ,CAAE,MAAO,MAAO,EACxB,iBAAmB,IAAM,CACvB,KAAK,SAAS,CAAE,MAAO,MAAO,CAAC,CACjC,EACA,QAAS,CACP,KAAM,CAAE,MAAAA,CAAM,EAAI,KAAK,MACjB,CAAE,IAAAse,EAAK,OAAAC,CAAO,EAAI,KAAK,MACvB,CAAE,sBAAAC,CAAsB,EAAIF,EAAI,cAAc,EACpD,OAAIte,KACqB,OACrBwe,EACA,CACE,MAAAxe,EACA,WAAY,KAAK,iBACjB,OAAAue,CACF,CACF,EAEK,KAAK,MAAM,QACpB,CACF,C,0BCdA,SAASE,EAAwBvgB,EAAS,CACxC,KAAM,CAAE,UAAAwgB,EAAW,WAAAC,EAAY,KAAA5f,CAAK,EAAIb,EACxC,OAAO0gB,EAAqB,CAC1B,UAAW,CACT,KAAM,IAAMF,EAAU,EAAE,KAAMG,GAAmB,CAC/C,MAAMC,EAA4B7iB,GAAU,CAC1C,MAAM8iB,KAAY,KAAa,EAC/B,GAAI,IACF,KAAYJ,CAAU,CACxB,OAAS3e,EAAO,CACd,GAAI,OAAOA,GAAU,UAAYA,IAAU,KAAM,CAC/C,KAAM,CAAE,QAAA0C,CAAQ,EAAI1C,EACpB,GAAI,OAAO0C,GAAY,UAAYA,EAAQ,WAAW,cAAc,EAClE,MAAM,IAAI,MACR,iDAAiDic,CAAU,oMAC7D,CAEJ,CACA,MAAM3e,CACR,CACA,sBAAU,IAAM,CACd+e,EAAU,aAAa,IAAgC,EAAE,CAC3D,EAAG,CAACA,CAAS,CAAC,KACS,OAAIF,EAAgB,CAAE,GAAG5iB,CAAM,CAAC,CACzD,EACM+iB,EAAgBjgB,GAAQ8f,EAAe,aAAeA,EAAe,MAAQ,gBACnF,OAAAC,EAAyB,YAAc,qBAAqBE,CAAa,IAClEF,CACT,CAAC,CACH,EACA,KAAM,CACJ,kBAAmBH,CACrB,EACA,KAAA5f,CACF,CAAC,CACH,CACA,SAASkgB,EAAyB/gB,EAAS,CACzC,KAAM,CAAE,UAAAwgB,EAAW,KAAA3f,CAAK,EAAIb,EAC5B,OAAO0gB,EAAqB,CAAE,UAAAF,EAAW,KAAA3f,CAAK,CAAC,CACjD,CACA,SAAS6f,EAAqB1gB,EAAS,CACrC,KAAM,CAAE,KAAA+D,EAAO,CAAC,EAAG,KAAAlD,CAAK,EAAIb,EACvBa,GACH,QAAQ,KACN,0KACF,EAEF,IAAImgB,EACJ,GAAI,SAAUhhB,EAAQ,UAAW,CAC/B,MAAMihB,EAAajhB,EAAQ,UAAU,KACrCghB,KAAY,QACV,IAAMC,EAAW,EAAE,KAChBT,IAAe,CAAE,QAASA,CAAU,GACpC1e,GAAU,CACT,MAAMof,EAAcrgB,EAAO,WAAWA,CAAI,aAAe,GACzD,MAAM,IAAI,KACR,sBAAsBqgB,CAAW,2BACjCpf,CACF,CACF,CACF,CACF,CACF,MACEkf,EAAYhhB,EAAQ,UAAU,KAEhC,MAAM8gB,EAAgBjgB,GAAQmgB,EAAU,aAAeA,EAAU,MAAQ,YACzE,MAAO,CACL,OAAOX,EAAQ,CACb,MAAMc,EAAUpjB,GAAU,CACxB,MAAMqiB,KAAM,KAAO,EACb,CAAE,SAAAgB,CAAS,EAAIhB,EAAI,cAAc,EACjCK,EAAa1c,IAAO,iBAAiB,EAC3C,SAAuB,OAAI,WAAU,CAAE,YAA0B,OAAIqd,EAAU,CAAC,CAAC,EAAG,YAA0B,OAAIjB,EAAqB,CAAE,IAAAC,EAAK,OAAAC,EAAQ,YAA0B,OAC9K,IACA,CACE,WAAY,CACV,SAAUA,EAAO,MAAM,EACvB,GAAGxf,GAAQ,CAAE,UAAWA,CAAK,EAC7B,GAAG4f,GAAc,CAAE,SAAUA,EAAW,EAAG,CAC7C,EACA,YAA0B,OAAIO,EAAW,CAAE,GAAGjjB,CAAM,CAAC,CACvD,CACF,CAAE,CAAC,CAAE,CAAC,CACR,KACA,KAAoBojB,EAAQ,cAAed,CAAM,KACjD,KAAoBc,EAAQ,qBAAsBtgB,CAAI,EACtD,SAAW,CAAChB,EAAKC,CAAK,IAAK,OAAO,QAAQiE,CAAI,KAC5C,KAAoBod,EAAQthB,EAAKC,CAAK,EAExC,OAAAqhB,EAAO,YAAc,aAAaL,CAAa,IACxCK,CACT,CACF,CACF,C,+FCtGA,SAASE,GAAe,CACtB,MAAM3D,KAAkB,MAAoB,aAAa,EACzD,GAAI,CAACA,EACH,MAAM,IAAI,KAAoB,8BAA8B,EAE9D,MAAM4D,EAAY5D,EAAgB,UAAU,CAAC,EAC7C,GAAI,CAAC4D,EACH,MAAM,IAAI,KAAoB,6BAA6B,EAE7D,OAAOA,CACT,CACA,SAASC,EAAOC,EAAQ,CAEtB,MAAMC,EADYJ,EAAa,EACT,IAAIG,CAAM,EAChC,GAAI,CAACC,EACH,MAAM,IAAI,KAAoB,mCAAmCD,CAAM,EAAE,EAE3E,OAAOC,CACT,CACA,SAASC,EAAS3b,EAAM,CACtB,OAAO,SAAyB4b,EAAkB,CAChD,MAAMC,EAAO7jB,GAAU,CACrB,MAAMujB,EAAYD,EAAa,EACzBQ,EAAQ,CAAC,EACf,UAAWhiB,KAAOkG,EAChB,GAAIA,EAAK,eAAelG,CAAG,EAAG,CAC5B,MAAMkD,EAAMgD,EAAKlG,CAAG,EACd4hB,EAAMH,EAAU,IAAIve,CAAG,EAC7B,GAAI,CAAC0e,EACH,MAAM,IAAI,oBACR,mCAAmC1e,CAAG,EACxC,EAEF8e,EAAMhiB,CAAG,EAAI4hB,CACf,CAEF,OAAuB,IAAIE,EAAkB,CAAE,GAAG5jB,EAAO,GAAG8jB,CAAM,CAAC,CACrE,EACMC,EAAcH,EAAiB,aAAeA,EAAiB,MAAQ,YAC7E,OAAAC,EAAI,YAAc,YAAYE,CAAW,IAClCF,CACT,CACF,C,6kBCzCA,MAAMG,GAAeC,GAAA,EACrB,SAASC,GAAQrhB,GAAMkf,GAAW,CAChC,GAAIlf,GACF,OAAOA,GAAK,kBAAkB,OAAO,EAEvC,GAAIkf,GACF,GAAI,CACF,SAAO,MAAeA,EAAS,EAAE,KAAK,kBAAkB,OAAO,CACjE,MAAQ,CACN,MACF,CAGJ,CACA,SAASoC,GAAQthB,GAAMkf,GAAW,CAChC,MAAMM,MAAM,KAAO,EACb+B,GAAaF,GAAQrhB,GAAMkf,EAAS,EAC1C,OAAKqC,IAGQ/B,GAAI,cAAc,QAAQ+B,EAAU,EAAE,GACpCJ,EACjB,CACA,SAASK,GAAerkB,GAAO,CAC7B,KAAM,CAAE,KAAA6C,GAAM,UAAAkf,GAAW,GAAGrB,EAAW,EAAI1gB,GACrCkS,GAAOiS,GAAQthB,GAAMkf,EAAS,EACpC,SAAuB,OAAI7P,GAAM,CAAE,GAAGwO,EAAW,CAAC,CACpD,C,gBCbA,MAAMzL,MAAYC,EAAA,GAAYxE,KAAW,CACvC,KAAM,CACJ,KAAMA,GAAM,QAAQ,KAAK,GAAG,EAC5B,OAAQA,GAAM,QAAQ,KAAK,GAAG,EAC9B,YAAa,CACX,KAAMA,GAAM,QAAQ,QAAQ,MAC5B,OAAQA,GAAM,QAAQ,QAAQ,KAChC,EACA,cAAe,CACb,KAAMA,GAAM,QAAQ,UAAU,MAC9B,OAAQA,GAAM,QAAQ,UAAU,KAClC,CACF,EACA,KAAM,CACJ,KAAMA,GAAM,QAAQ,gBAAgBA,GAAM,QAAQ,KAAK,GAAG,CAAC,EAC3D,YAAa,CACX,KAAMA,GAAM,QAAQ,QAAQ,YAC9B,EACA,cAAe,CACb,KAAMA,GAAM,QAAQ,UAAU,YAChC,EACA,YAAa,CACX,WAAY,MACd,CACF,EACA,UAAW,CACT,OAAQ,SACV,CACF,EAAE,EACF,SAAS4T,GAAYC,GAAM,CACzB,MAAMC,MAAgB,MAAO,GAAa,EACpCzC,MAAY,MAAmBwC,EAAI,EACnC,CAAE,QAAAxN,GAAS,MAAAhT,GAAO,MAAAhC,EAAM,KAAIkV,GAAA,GAAS,SAAY,CACrD,MAAMzU,GAAW,MAAMgiB,GAAc,mBAAmB,CAAE,UAAAzC,EAAU,CAAC,EAC/D0C,GAAQ,IAAI,MACZC,GAAQ,IAAI,MAClB,UAAWC,MAAWniB,GAAS,MAAO,CACpC,MAAMoiB,MAAa,MAAmBD,GAAQ,MAAM,EAC9CE,GAAaD,KAAepiB,GAAS,cAC3CiiB,GAAM,KAAK,CAAE,GAAIG,GAAY,KAAMC,GAAY,GAAGF,GAAQ,MAAO,CAAC,EAClE,UAAW7Y,MAAa6Y,GAAQ,iBAC9BD,GAAM,KAAK,CAAE,KAAME,GAAY,GAAI9Y,EAAU,CAAC,CAElD,CACA,MAAO,CAAE,MAAA2Y,GAAO,MAAAC,EAAM,CACxB,EAAG,CAAC3C,EAAS,CAAC,EACd,MAAO,CACL,QAAAhL,GACA,MAAAhT,GACA,MAAOhC,IAAO,OAAS,CAAC,EACxB,MAAOA,IAAO,OAAS,CAAC,CAC1B,CACF,CACA,SAAS+iB,GAAW,CAAE,KAAA/c,EAAK,EAAG,CAC5B,MAAM4K,GAAUsC,GAAU,EACpB/T,MAAW,OAAY,EACvB6jB,MAAc,KAAY,GAAc,EACxC,CAACC,GAAOC,EAAQ,KAAI,YAAS,CAAC,EAC9B,CAACC,GAAQC,EAAS,KAAI,YAAS,CAAC,EAChC9C,MAAM,KAAO,EACb+C,MAAQ,UAAO,IAAI,KACzB,mBAAgB,IAAM,CACpB,GAAIA,GAAM,QAAS,CACjB,GAAI,CAAE,OAAQC,GAAgB,MAAOC,EAAc,EAAIF,GAAM,QAAQ,QAAQ,EAC7EC,GAAiB,KAAK,MAAMA,EAAc,EAC1CC,GAAgB,KAAK,MAAMA,EAAa,GACpCD,KAAmBH,IAAUI,KAAkBN,MACjDC,GAASK,EAAa,EACtBH,GAAUE,EAAc,EAE5B,CACF,EAAG,CAACL,GAAOE,EAAM,CAAC,EAClB,MAAMK,GAAclD,GAAI,cACtB,QAAQta,GAAK,KAAK,kBAAkB,OAAO,CAAC,EAC9C,EACMyd,GAAU,GACVC,GAAWP,GACXQ,GAAkBH,GAAcE,GAAWD,GAAU,EACrDG,GAAcD,GAAkBV,GAAQQ,GAAU,EAClDI,GAAeV,GAASM,GAAU,EAClCK,GAAe9d,GAAK,SAAS,QAAUA,GAAK,MAAQA,GAAK,SAAS,MAAQA,GAAK,SAAS,aAAY,KAAkB,CAC1H,KAAMA,GAAK,KACX,KAAMA,GAAK,SAAS,KACpB,UAAWA,GAAK,SAAS,WAAa,EACxC,CAAC,EAAIA,GAAK,IACJwK,GAAU,IAAM,CACpBrR,GACE6jB,GAAY,CACV,KAAMhd,GAAK,KACX,UAAWA,GAAK,SAAS,WAAa,KACtC,KAAMA,GAAK,SAAS,IACtB,CAAC,CACH,CACF,EACA,SAAuB,QAAK,IAAK,CAAE,QAAAwK,GAAS,UAAWI,GAAQ,UAAW,SAAU,IAClE,OACd,OACA,CACE,UAAW,KACTA,GAAQ,KACR5K,GAAK,KAAO,YAAc,SAC5B,EACA,MAAO4d,GACP,OAAQC,GACR,GAAI,EACN,CACF,EACAL,OAA+B,OAC7BlB,GACA,CACE,KAAMtc,GAAK,KACX,EAAGyd,GACH,EAAGA,GACH,MAAOC,GACP,OAAQA,GACR,UAAW,KACT9S,GAAQ,KACR5K,GAAK,KAAO,YAAc,SAC5B,CACF,CACF,KACgB,OACd,OACA,CACE,IAAKqd,GACL,UAAW,KACTzS,GAAQ,KACR5K,GAAK,KAAO,YAAc,SAC5B,EACA,EAAG6d,GAAe,EAClB,EAAGF,IAAmBV,GAAQQ,GAAU,GAAK,EAC7C,WAAY,SACZ,kBAAmB,SACnB,SAAUK,EACZ,CACF,CACF,CAAE,CAAC,CACL,CACA,SAASC,GAAa9lB,GAAO,CAC3B,KAAM,CAAE,QAAA+W,GAAS,MAAAhT,GAAO,MAAA0gB,GAAO,MAAAC,EAAM,EAAIJ,GAAYtkB,GAAM,MAAM,EAC3D,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EAC1D,OAAIuW,MACqB,OAAI,IAAU,CAAC,CAAC,EAC9BhT,MACc,OAAI,IAAoB,CAAE,MAAAA,EAAM,CAAC,KAEnC,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIgiB,EAAA,EAAmB,CAAE,QAAS,KAAM,SAAUvlB,GAAE,wCAAwC,CAAE,CAAC,KAC/F,QAAKulB,EAAA,EAAmB,CAAE,aAAc,GAAM,SAAU,CACtE,0HACA,OACgB,OAAI,KAAM,CAAE,GAAI,wEAAyE,SAAU,oBAAqB,CAAC,EACzI,IACA,oIACF,CAAE,CAAC,KACa,OAAInQ,GAAA,EAAK,CAAE,GAAI,EAAG,YAA0B,OAC1D,IACA,CACE,MAAA6O,GACA,MAAAC,GACA,WAAYI,GACZ,UAAW,IAAqB,UAAU,WAC1C,KAAM,iBACR,CACF,CAAE,CAAC,CACL,CAAE,CAAC,CACL,C,iJC5KA,MAAM,MAAY5P,EAAA,GAAYxE,KAAW,CACvC,KAAM,CACJ,QAAS,OACT,cAAe,QACjB,EACA,UAAW,CACT,UAAWA,GAAM,QAAQ,CAAC,CAC5B,EACA,SAAU,CACR,WAAYA,GAAM,QAAQ,CAAC,EAC3B,MAAOA,GAAM,QAAQ,KAAK,QAC5B,EACA,UAAW,CACT,WAAY,WACd,CACF,EAAE,EACF,SAAS,GAAa1Q,GAAO,CAC3B,MAAM2S,GAAU,GAAU,EAC1B,SAAuB,OACrBqT,EAAA,EACA,CACE,GAAGhmB,GACH,uBAAwB,CAAE,UAAW2S,GAAQ,SAAU,EACvD,yBAA0B,CAAE,UAAWA,GAAQ,SAAU,CAC3D,CACF,CACF,CACA,SAAS,GAAc3S,GAAO,CAC5B,MAAM2S,GAAU,GAAU,EAC1B,SAAuB,OAAI,KAAkB,CAAE,UAAWA,GAAQ,UAAW,SAAU3S,GAAM,QAAS,CAAC,CACzG,CACA,SAASimB,GAAUjmB,GAAO,CACxB,SAAuB,OAAI4V,GAAA,EAAK,CAAE,GAAI,EAAG,YAA0B,OAAIsQ,GAAA,EAAM,CAAE,QAAS,WAAY,YAA0B,QAAKC,GAAA,EAAa,CAAE,SAAU,IAC1I,QAAKC,GAAA,EAAY,CAAE,QAAS,KAAM,aAAc,GAAM,SAAU,CAC9EpmB,GAAM,MACNA,GAAM,aAA4B,OAAIqmB,GAAU,CAAE,GAAIrmB,GAAM,QAAS,CAAC,CACxE,CAAE,CAAC,EACHA,GAAM,QACR,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CACX,CACA,SAASsmB,GAASvkB,GAAO,CACvB,GAAIA,GAAM,MAAM,kBAAkB,EAChC,OAAOA,GAAM,MAAM,CAAa,EAElC,GAAIA,GAAM,MAAM,cAAc,EAC5B,OAAOA,EAGX,CACA,SAASwkB,GAAiBvmB,GAAO,CAC/B,KAAM,CAAC8B,GAAKC,EAAK,EAAI/B,GAAM,MACrBwmB,GAAOF,GAASvkB,EAAK,EAC3B,SAAuB,QAAK0kB,GAAA,EAAU,CAAE,SAAU,CAChDzmB,GAAM,WAA0B,OAAI0mB,GAAA,EAAc,CAAC,CAAC,KACpC,OACd,GACA,CACE,QAAS5kB,GACT,UAAW0kB,MAAuB,OAAI,KAAM,CAAE,GAAIA,GAAM,SAAUzkB,EAAM,CAAC,EAAIA,EAC/E,CACF,CACF,CAAE,CAAC,CACL,CACA,SAASskB,GAASrmB,GAAO,CACvB,MAAM2S,GAAU,GAAU,EAC1B,SAAuB,OAAI,KAAM,CAAE,GAAI3S,GAAM,GAAI,UAAW2S,GAAQ,SAAU,YAA0B,OAAIgU,GAAA,EAAiB,CAAE,SAAU,SAAU,CAAC,CAAE,CAAC,CACzJ,CC7DA,MAAM,MAAYzR,EAAA,GAAW,CAC3B,KAAM,CACJ,QAAS,OACT,cAAe,QACjB,CACF,CAAC,EACD,SAAS0R,GAAannB,GAAQ,CAC5B,MAAMa,MAAa,MAAO,GAAa,EACjCumB,MAAmB,MAAmBpnB,EAAM,EAC5CyO,GAAWzO,GAAO,SAAS,cAAc,KAAmB,EAC5DqnB,GAASrnB,GAAO,SAAS,cAAc,KAA0B,EACjE,CAAE,QAAAsX,GAAS,MAAAhT,GAAO,MAAAhC,EAAM,KAAIkV,GAAA,GAAS,SACrC,CAAC/I,IAAY,CAAC4Y,GACT,CAAC,GAEO,MAAMxmB,GAAW,YAAY,CAC5C,OAAQ,CACN,GAAG4N,GAAW,CAAC,CAAE,CAAC,wBAAwB,KAAmB,EAAE,EAAGA,EAAS,CAAC,EAAI,CAAC,EACjF,GAAG4Y,GAAS,CAAC,CAAE,CAAC,wBAAwB,KAA0B,EAAE,EAAGA,EAAO,CAAC,EAAI,CAAC,CACtF,CACF,CAAC,GACe,MACf,CAAC5Y,GAAU4Y,EAAM,CAAC,EACrB,MAAO,CACL,QAAA/P,GACA,MAAAhT,GACA,SAAAmK,GACA,eAAgB4Y,GAChB,kBAAmB/kB,IAAO,OACvBglB,OAAc,MAAmBA,EAAS,IAAMF,EACnD,CACF,CACF,CACA,SAASG,GAAWhnB,GAAO,CACzB,SAAuB,QAAKinB,GAAA,EAAM,CAAE,MAAO,GAAM,SAAU,CACzDjnB,GAAM,WAA0B,OAAIumB,GAAkB,CAAE,MAAOvmB,GAAM,MAAO,EAAG,QAAQ,EACvFA,GAAM,SAAS,IAAKP,OAA2B,OAAIgnB,GAAA,EAAU,CAAE,YAA0B,OAAI,GAAc,CAAE,WAAyB,OAAI,IAAe,CAAE,UAAWhnB,EAAO,CAAC,CAAE,CAAC,CAAE,KAAG,MAAmBA,EAAM,CAAC,CAAC,CACnN,CAAE,CAAC,CACL,CACA,SAASynB,GAASlnB,GAAO,CACvB,KAAM,CAAE,OAAAP,EAAO,EAAIO,GACb,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EACpD,CAAE,QAAAuW,GAAS,MAAAhT,GAAO,SAAAmK,GAAU,eAAAiZ,GAAgB,kBAAAC,EAAkB,EAAIR,GAAannB,EAAM,EAC3F,GAAIsX,GACF,SAAuB,OAAI,IAAU,CAAC,CAAC,EAClC,GAAIhT,GACT,SAAuB,OAAI,IAAoB,CAAE,MAAAA,EAAM,CAAC,EAE1D,GAAI,CAACmK,IAAY,CAACiZ,GAChB,SAAuB,OAAI5lB,GAAA,EAAO,CAAE,SAAU,UAAW,SAAUf,GAAE,mDAAmD,CAAE,CAAC,EACtH,GAAI,CAAC4mB,IAAmB,OAC7B,SAAuB,OAAI7lB,GAAA,EAAO,CAAE,SAAU,OAAQ,SAAUf,GAAE,iDAAiD,CAAE,CAAC,EAExH,GAAI0N,KAAaiZ,GACf,SAAuB,OAAIH,GAAY,CAAE,SAAUI,EAAkB,CAAC,EAExE,MAAMC,GAAaD,GAAkB,OAClCtnB,IAAMA,GAAE,SAAS,cAAc,KAAmB,IAAMoO,EAC3D,EACMoZ,GAAWF,GAAkB,OAChCtnB,IAAMA,GAAE,SAAS,cAAc,KAA0B,IAAMqnB,EAClE,EACA,SAAuB,QAAK,WAAU,CAAE,SAAU,CAChDE,GAAW,OAAS,MAAqB,OACvCL,GACA,CACE,SAAUK,GACV,OAAQ,CAAC,uBAAwBnZ,EAAQ,CAC3C,CACF,EACAoZ,GAAS,OAAS,MAAqB,OACrCN,GACA,CACE,SAAUM,GACV,OAAQ,CAAC,qBAAsBH,EAAc,CAC/C,CACF,CACF,CAAE,CAAC,CACL,CACA,SAASI,EAAcvnB,GAAO,CAC5B,MAAM2S,GAAU,GAAU,EACpB,CAAE,EAAAnS,EAAE,KAAI,KAAkB,IAA0B,EAC1D,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIulB,EAAA,EAAmB,CAAE,QAAS,KAAM,SAAUvlB,GAAE,yCAAyC,CAAE,CAAC,KAChG,OAAIulB,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,+CAA+C,CAAE,CAAC,KACvF,OAAI,MAAO,CAAE,UAAWmS,GAAQ,KAAM,YAA0B,OAAIuU,GAAU,CAAE,OAAQlnB,GAAM,MAAO,CAAC,CAAE,CAAC,CAC3H,CAAE,CAAC,CACL,C,eCzGA,SAASwnB,EAASxhB,GAAM,CACtB,OAAO,OAAO,YACZ,CAAC,GAAG,OAAO,QAAQA,EAAI,CAAC,EAAE,KAAK,CAAC6B,GAAG0P,KAAM1P,GAAE,CAAC,EAAI0P,GAAE,CAAC,EAAI,GAAK,CAAC,CAC/D,CACF,CCGA,SAASkQ,EAASznB,GAAO,CACvB,KAAM,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EAC1D,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIulB,EAAA,EAAmB,CAAE,QAAS,KAAM,SAAUvlB,GAAE,oCAAoC,CAAE,CAAC,KAC3F,OAAIulB,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,0CAA0C,CAAE,CAAC,KAClF,OAAIulB,EAAA,EAAmB,CAAE,YAA0B,OAAI,MAAO,CAAE,MAAO,CAAE,SAAU,KAAM,EAAG,cAAe,eAAgB,YAA0B,OACnK,IACA,CACE,KAAM,KAAK,UAAUyB,EAASxnB,GAAM,MAAM,EAAG,OAAQ,CAAC,EACtD,SAAU,OACV,mBAAoB,EACtB,CACF,CAAE,CAAC,CAAE,CAAC,CACR,CAAE,CAAC,CACL,C,0ECDA,MAAM,MAAYkV,EAAA,GAAW,CAC3B,KAAM,CACJ,QAAS,OACT,cAAe,QACjB,CACF,CAAC,EACD,SAASwS,GAAa1nB,GAAO,CAC3B,MAAM2S,GAAU,GAAU,EACpB,CACJ,WAAAgV,GACA,KAAA9kB,GACA,SAAA+kB,GACA,KAAAC,GACA,UAAAC,GAAY,CAAC,EACb,OAAA1kB,GAAS,CAAC,CACZ,EAAIpD,GAAM,OACJ+nB,GAAmB,KACvB,KAAOD,GAAYjoB,IAAMA,GAAE,SAAS,EACpC,MACF,EACM,CAAE,EAAAW,EAAE,KAAI,KAAkB,IAA0B,EACpDuhB,MAAY,MAAmB/hB,GAAM,MAAM,EACjD,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAI+lB,EAAA,EAAmB,CAAE,QAAS,KAAM,SAAUvlB,GAAE,wCAAwC,CAAE,CAAC,KAC/F,QAAK,MAAO,CAAE,UAAWmS,GAAQ,KAAM,SAAU,IAC/C,OAAIsT,GAAW,CAAE,MAAO,WAAY,YAA0B,QAAKgB,GAAA,EAAM,CAAE,MAAO,GAAM,SAAU,IAChG,OAAIR,GAAA,EAAU,CAAE,YAA0B,OAAI,GAAc,CAAE,QAAS,aAAc,UAAWkB,EAAW,CAAC,CAAE,CAAC,KAC/G,OAAIlB,GAAA,EAAU,CAAE,YAA0B,OAAI,GAAc,CAAE,QAAS,OAAQ,UAAW5jB,EAAK,CAAC,CAAE,CAAC,EACnHglB,IAAM,SAAwB,OAAIpB,GAAA,EAAU,CAAE,YAA0B,OACtE,GACA,CACE,QAAS,YACT,UAAWoB,GAAK,MAAM,SAAS,CACjC,CACF,CAAE,CAAC,EACHD,GAAS,QAAuB,QAAKnB,GAAA,EAAU,CAAE,SAAU,IACzC,OAAI,GAAc,CAAE,QAAS,MAAO,UAAWmB,GAAS,GAAI,CAAC,KAC7D,OAAII,GAAA,EAAyB,CAAE,YAA0B,OAAI,KAAgB,CAAE,KAAMJ,GAAS,GAAI,CAAC,CAAE,CAAC,CACxH,CAAE,CAAC,EACHA,GAAS,SAAwB,QAAKnB,GAAA,EAAU,CAAE,SAAU,IAC1C,OAAI,GAAc,CAAE,QAAS,OAAQ,UAAWmB,GAAS,IAAK,CAAC,KAC/D,OAAII,GAAA,EAAyB,CAAE,YAA0B,OAAI,KAAgB,CAAE,KAAMJ,GAAS,IAAK,CAAC,CAAE,CAAC,CACzH,CAAE,CAAC,KACa,QAAKnB,GAAA,EAAU,CAAE,SAAU,IACzB,OAAI,GAAc,CAAE,QAAS,YAAa,UAAW1E,EAAU,CAAC,KAChE,OAAIiG,GAAA,EAAyB,CAAE,YAA0B,OAAI,KAAgB,CAAE,KAAMjG,EAAU,CAAC,CAAE,CAAC,CACrH,CAAE,CAAC,CACL,CAAE,CAAC,CAAE,CAAC,KACU,QAAKkE,GAAW,CAAE,MAAO,WAAY,SAAU,CAC7D,CAAC,CAAC,OAAO,KAAK2B,GAAS,aAAe,CAAC,CAAC,EAAE,WAA0B,OAClEX,GAAA,EACA,CACE,MAAO,GACP,aAA2B,QAAK,GAAe,CAAE,SAAU,CACzD,iBACgB,OAAIZ,GAAU,CAAE,GAAI,4EAA6E,CAAC,CACpH,CAAE,CAAC,EACH,SAAU,OAAO,QAAQuB,GAAS,WAAW,EAAE,IAAKK,OAA0B,OAAI1B,GAAkB,CAAE,OAAQ,GAAM,MAAA0B,EAAM,EAAGA,GAAM,CAAC,CAAC,CAAC,CACxI,CACF,EACA,CAAC,CAAC,OAAO,KAAKL,GAAS,QAAU,CAAC,CAAC,EAAE,WAA0B,OAAIX,GAAA,EAAM,CAAE,MAAO,GAAM,aAA2B,OAAI,GAAe,CAAE,SAAU,QAAS,CAAC,EAAG,SAAU,OAAO,QAAQW,GAAS,MAAM,EAAE,IAAKK,OAA0B,OAAI1B,GAAkB,CAAE,OAAQ,GAAM,MAAA0B,EAAM,EAAGA,GAAM,CAAC,CAAC,CAAC,CAAE,CAAC,EACnS,CAAC,CAACL,GAAS,MAAM,WAA0B,OAAIX,GAAA,EAAM,CAAE,MAAO,GAAM,aAA2B,OAAI,GAAe,CAAE,SAAU,MAAO,CAAC,EAAG,SAAUW,GAAS,KAAK,IAAI,CAACM,GAAK5K,QAA0B,QAAKmJ,GAAA,EAAU,CAAE,SAAU,IAC9M,OAAIC,GAAA,EAAc,CAAC,CAAC,KACpB,OAAI,GAAc,CAAE,QAASwB,EAAI,CAAC,CACpD,CAAE,EAAG,GAAGA,EAAG,IAAI5K,EAAK,EAAE,CAAC,CAAE,CAAC,CAC5B,CAAE,CAAC,EACH,CAAC,CAACwK,GAAU,WAA0B,OACpC7B,GACA,CACE,MAAO,YACP,SAAU,2EACV,SAAU,OAAO,QAAQ8B,EAAgB,EAAE,IACzC,CAAC,CAAClhB,GAAMshB,EAAc,EAAG7K,QAA0B,OAAI,MAAO,CAAE,YAA0B,OAAI2J,GAAA,EAAM,CAAE,MAAO,GAAM,aAA2B,OAAI,GAAe,CAAE,SAAUpgB,EAAK,CAAC,EAAG,SAAUshB,GAAe,IAAKC,OAA0B,OAAI3B,GAAA,EAAU,CAAE,YAA0B,OACtR,GACA,CACE,WAAyB,OAAI,IAAe,CAAE,UAAW2B,GAAM,SAAU,CAAC,CAC5E,CACF,CAAE,EAAGA,GAAM,SAAS,CAAC,CAAE,CAAC,CAAE,EAAG9K,EAAK,CACpC,CACF,CACF,EACA,CAAC,CAACla,GAAO,OAAO,WAA0B,OACxC6iB,GACA,CACE,MAAO,SACP,SAAU,0EACV,SAAU7iB,GAAO,MAAM,IAAI,CAACX,GAAM6a,QAA0B,QAAK,MAAO,CAAE,SAAU,IAClE,QAAK8I,GAAA,EAAY,CAAE,SAAU,CAC3C3jB,GAAK,MACL,KACAA,GAAK,IACP,CAAE,CAAC,KACa,OAAImT,GAAA,EAAK,CAAE,GAAI,EAAG,SAAUnT,GAAK,OAAQ,CAAC,CAC5D,CAAE,EAAG6a,EAAK,CAAC,CACb,CACF,CACF,CAAE,CAAC,CACL,CAAE,CAAC,CACL,C,gBC9GA,SAAS+K,GAASroB,GAAO,CACvB,KAAM,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EAC1D,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIulB,EAAA,EAAmB,CAAE,QAAS,KAAM,SAAUvlB,GAAE,oCAAoC,CAAE,CAAC,KAC3F,OAAIulB,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,0CAA0C,CAAE,CAAC,KAClF,OAAIulB,EAAA,EAAmB,CAAE,YAA0B,OAAI,MAAO,CAAE,MAAO,CAAE,SAAU,KAAM,EAAG,cAAe,eAAgB,YAA0B,OACnK,IACA,CACE,KAAM,gBAAeyB,EAASxnB,GAAM,MAAM,CAAC,EAC3C,SAAU,OACV,mBAAoB,EACtB,CACF,CAAE,CAAC,CAAE,CAAC,CACR,CAAE,CAAC,CACL,CCHA,MAAM,MAAYkV,EAAA,GAAYxE,KAAW,CACvC,iBAAkB,CAChB,OAAQ,mBACV,EACA,KAAM,CACJ,QAAS,OACT,SAAU,EACV,MAAO,OACP,gBAAiBA,GAAM,QAAQ,WAAW,KAC5C,EACA,KAAM,CACJ,YAAa,aAAaA,GAAM,QAAQ,OAAO,GAC/C,WAAY,CACd,EACA,YAAa,CACX,SAAU,EACV,UAAW,MACb,CACF,EAAE,EACF,SAAS4X,GAAStoB,GAAO,CACvB,KAAM,CAAE,SAAAyS,GAAU,MAAA1Q,GAAO,MAAAub,GAAO,GAAGiL,EAAM,EAAIvoB,GACvC2S,GAAU,GAAU,EAC1B,SAAuB,OACrB,MACA,CACE,KAAM,WACN,OAAQ5Q,KAAUub,GAClB,GAAI,qBAAqBA,EAAK,GAC9B,kBAAmB,gBAAgBA,EAAK,GACxC,UAAW3K,GAAQ,YACnB,GAAG4V,GACH,SAAUxmB,KAAUub,OAAyB,OAAI1H,GAAA,EAAK,CAAE,GAAI,EAAG,GAAI,EAAG,SAAAnD,EAAS,CAAC,CAClF,CACF,CACF,CACA,SAAS+V,GAAUlL,GAAO,CACxB,MAAO,CACL,GAAI,gBAAgBA,EAAK,GACzB,gBAAiB,qBAAqBA,EAAK,EAC7C,CACF,CACA,MAAMmL,GAAW,CACf,SAAU,WACV,SAAU,WACV,UAAW,YACX,KAAM,WACN,KAAM,UACR,EACMC,GAAO,OAAO,KAAKD,EAAQ,EACjC,SAASE,GAAoB3oB,GAAO,CAClC,MAAM2S,GAAU,GAAU,EACpB,CAACiW,GAAWC,EAAY,KAAI,YAChCC,GAAYJ,GAAM1oB,GAAM,UAAU,CACpC,EACM,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EAI1D,SAHA,aAAU,IAAM,CACdsoB,GAAYJ,GAAM1oB,GAAM,UAAU,CACpC,EAAG,CAACA,GAAM,KAAMA,GAAM,UAAU,CAAC,EAC5BA,GAAM,UAGY,QACrBY,GAAA,EACA,CACE,UAAW,GACX,SAAU,KACV,KAAMZ,GAAM,KACZ,QAASA,GAAM,QACf,kBAAmB,gCACnB,WAAY,CAAE,UAAW2S,GAAQ,gBAAiB,EAClD,SAAU,IACQ,OAAI9R,GAAA,EAAa,CAAE,GAAI,gCAAiC,SAAUL,GAAE,2BAA2B,CAAE,CAAC,KAClG,OAAIuoB,EAAA,EAAe,CAAE,SAAU,GAAM,YAA0B,QAAK,MAAO,CAAE,UAAWpW,GAAQ,KAAM,SAAU,IAC9G,OACdqW,EAAA,EACA,CACE,YAAa,WACb,QAAS,aACT,MAAOJ,GACP,SAAU,CAACnR,GAAGwR,KAAa,CACzBJ,GAAaI,EAAQ,EACrBjpB,GAAM,WAAW0oB,GAAKO,EAAQ,CAAC,CACjC,EACA,aAAc,oBACd,UAAWtW,GAAQ,KACnB,SAAU+V,GAAK,IAAI,CAACQ,GAAK5L,QAA0B,OAAI6L,GAAA,EAAK,CAAE,MAAOV,GAASS,EAAG,EAAG,GAAGV,GAAUlL,EAAK,CAAE,EAAG4L,EAAG,CAAC,CACjH,CACF,KACgB,OAAIZ,GAAU,CAAE,MAAOM,GAAW,MAAO,EAAG,YAA0B,OAAIlB,GAAc,CAAE,OAAQ1nB,GAAM,MAAO,CAAC,CAAE,CAAC,KACnH,OAAIsoB,GAAU,CAAE,MAAOM,GAAW,MAAO,EAAG,YAA0B,OAAI9C,GAAc,CAAE,OAAQ9lB,GAAM,MAAO,CAAC,CAAE,CAAC,KACnH,OAAIsoB,GAAU,CAAE,MAAOM,GAAW,MAAO,EAAG,YAA0B,OAAIrB,EAAe,CAAE,OAAQvnB,GAAM,MAAO,CAAC,CAAE,CAAC,KACpH,OAAIsoB,GAAU,CAAE,MAAOM,GAAW,MAAO,EAAG,YAA0B,OAAInB,EAAU,CAAE,OAAQznB,GAAM,MAAO,CAAC,CAAE,CAAC,KAC/G,OAAIsoB,GAAU,CAAE,MAAOM,GAAW,MAAO,EAAG,YAA0B,OAAIP,GAAU,CAAE,OAAQroB,GAAM,MAAO,CAAC,CAAE,CAAC,CACjI,CAAE,CAAC,CAAE,CAAC,KACU,OAAIc,GAAA,EAAe,CAAE,YAA0B,OAAIC,GAAA,EAAQ,CAAE,QAASf,GAAM,QAAS,MAAO,UAAW,SAAUQ,GAAE,sCAAsC,CAAE,CAAC,CAAE,CAAC,CACjL,CACF,CACF,EAtCS,IAuCX,CACA,SAASsoB,GAAYM,GAASC,GAAY,CACxC,OAAOA,GAAaD,GAAQ,QAAQC,EAAU,EAAI,CACpD,C,gBClHA,SAASC,GAA+B7pB,GAAQ,CAC9C,MAAMa,MAAa,MAAO,GAAa,EACjCipB,GAAc9pB,GAAO,SAAS,cAAc,KAA0B,EACtEiB,GAAMjB,GAAO,SAAS,IACtB+pB,GAAcD,KAAgB,sBAC9BE,MAAgBxS,GAAA,GAAS,SAAY,CACzC,MAAMyS,GAAkBppB,GAAW,iBAAiBipB,EAAW,EAC/D,IAAII,GACJ,GAAI,CAACJ,GACHI,GAA2B,QAAQ,QAAQ,CAAC,CAAC,MACxC,CACL,MAAMC,GAA2B,wBAAwB,KAA0B,GACnFD,GAA2BrpB,GAAW,YAAY,CAChD,OAAQ,CAAE,CAACspB,EAAwB,EAAGL,EAAY,EAClD,OAAQ,CACN,OACA,eACA,gBACA,oBACF,CACF,CAAC,EAAE,KAAM/mB,IAAaA,GAAS,KAAK,CACtC,CACA,OAAO,QAAQ,IAAI,CAACknB,GAAiBC,EAAwB,CAAC,EAAE,KAC9D,CAAC,CAACE,GAAWC,EAAkB,KAAO,CACpC,SAAUD,GACV,kBAAmBC,EACrB,EACF,CACF,EAAG,CAACxpB,GAAYb,EAAM,CAAC,EACjBsqB,MAAqB,eACzB,gBAAsC,CACpC,KAAM,CAAE,SAAUF,EAAU,EAAIJ,GAAc,MAC9C,MAAMnpB,GAAW,mBAAmBupB,GAAU,EAAE,CAClD,EACA,CAACvpB,GAAYmpB,EAAa,CAC5B,EACMO,MAAe,eACnB,gBAAgC,CAC9B,MAAM1pB,GAAW,kBAAkBI,EAAG,CACxC,EACA,CAACJ,GAAYI,EAAG,CAClB,EACA,GAAI8oB,GACF,MAAO,CAAE,KAAM,YAAa,SAAUD,GAAa,aAAAS,EAAa,EAElE,KAAM,CAAE,QAAAjT,GAAS,MAAAhT,GAAO,MAAAhC,EAAM,EAAI0nB,GAClC,GAAI1S,GACF,MAAO,CAAE,KAAM,SAAU,EACpB,GAAIhT,GACT,MAAO,CAAE,KAAM,QAAS,MAAAA,EAAM,EAEhC,KAAM,CAAE,SAAAmK,GAAU,kBAAAkZ,EAAkB,EAAIrlB,GACxC,OAAKmM,GAGE,CACL,KAAM,aACN,SAAUqb,GACV,kBAAmBnC,GAAkB,IAAI,IAAoB,EAC7D,mBAAA2C,GACA,aAAAC,EACF,EARS,CAAE,KAAM,cAAe,aAAAA,EAAa,CAS/C,C,wCC9CA,MAAM,MAAY9U,EAAA,GAAW,CAC3B,eAAgB,CACd,SAAU,OACZ,EACA,cAAe,CACb,QAAS,cACX,CACF,CAAC,EACK,GAAW,CAAC,CAChB,OAAAzV,GACA,UAAAU,GACA,QAAAD,EACF,IAAM,CACJ,MAAMK,MAAW,MAAO,IAAW,EAC7B2K,MAAY,MAAO,IAAY,EAC/ByH,GAAU,GAAU,EACpBnE,GAAQ8a,GAA+B7pB,EAAM,EAC7C,CAACwqB,GAAYC,EAAa,KAAI,YAAS,EAAK,EAC5C,CAAC9pB,GAAMC,EAAO,KAAI,YAAS,EAAK,EAChCsO,GAAWzD,GAAU,kBAAkB,WAAW,GAAK,YACvD,CAAE,EAAA1K,EAAE,KAAI,KAAkB,IAA0B,EACpD2pB,MAAe,eACnB,gBAAgC,CAC9B,GAAI,uBAAwB3b,GAAO,CACjCnO,GAAQ,EAAI,EACZ,GAAI,CACF,MAAMmO,GAAM,mBAAmB,EAC/BrO,GAAU,CACZ,OAASQ,GAAK,IACZ,MAAYA,EAAG,EACfJ,GAAS,KAAK,CAAE,QAASI,GAAI,OAAQ,CAAC,CACxC,QAAE,CACAN,GAAQ,EAAK,CACf,CACF,CACF,EACA,CAACE,GAAUJ,GAAWqO,EAAK,CAC7B,EACM/N,MAAW,eACf,gBAA4B,CAC1B,GAAI,iBAAkB+N,GAAO,CAC3BnO,GAAQ,EAAI,EACZ,GAAI,CACF,MAAMmO,GAAM,aAAa,EACzB,MAAM4b,GAAa3qB,GAAO,SAAS,OAASA,GAAO,SAAS,KAC5DU,GAAU,EACVI,GAAS,KAAK,CACZ,QAASC,GAAE,oDAAqD,CAC9D,WAAA4pB,EACF,CAAC,EACD,SAAU,UACV,QAAS,WACX,CAAC,CACH,OAASzpB,GAAK,IACZ,MAAYA,EAAG,EACfJ,GAAS,KAAK,CAAE,QAASI,GAAI,OAAQ,CAAC,CACxC,QAAE,CACAN,GAAQ,EAAK,CACf,CACF,CACF,EACA,CAACE,GAAUJ,GAAWqO,GAAO/O,GAAQe,EAAC,CACxC,EACM6pB,GAAqB,OAAsB,OAAIvpB,GAAA,EAAe,CAAE,UAAW6R,GAAQ,cAAe,YAA0B,OAAI5R,GAAA,EAAQ,CAAE,QAASb,GAAS,MAAO,UAAW,SAAUM,GAAE,0CAA0C,CAAE,CAAC,CAAE,CAAC,EAChP,OAAIgO,GAAM,OAAS,aACM,OAAI,IAAU,CAAC,CAAC,EAErCA,GAAM,OAAS,WACM,OAAI,IAAoB,CAAE,MAAOA,GAAM,KAAM,CAAC,EAEnEA,GAAM,OAAS,eACM,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIjN,GAAA,EAAO,CAAE,SAAU,OAAQ,SAAUf,GAAE,8CAA+C,CACxG,SAAAmO,GACA,SAAUH,GAAM,QAClB,CAAC,CAAE,CAAC,KACY,QAAKoH,GAAA,EAAK,CAAE,UAAW,EAAG,SAAU,CAClD,CAACqU,OAA8B,QAAK,WAAU,CAAE,SAAU,IACxC,OACdlpB,GAAA,EACA,CACE,QAAS,OACT,KAAM,QACN,MAAO,UACP,UAAW4R,GAAQ,eACnB,QAAS,IAAMuX,GAAc,EAAI,EACjC,SAAU1pB,GAAE,uDAAuD,CACrE,CACF,KACgB,OAAI6pB,GAAoB,CAAC,CAAC,CAC5C,CAAE,CAAC,EACHJ,OAA8B,QAAK,WAAU,CAAE,SAAU,IACvC,OAAIlE,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,2DAA2D,CAAE,CAAC,KACnG,OACdO,GAAA,EACA,CACE,QAAS,YACT,MAAO,YACP,SAAUX,GACV,QAASK,GACT,SAAUD,GAAE,0CAA0C,CACxD,CACF,KACgB,OAAI6pB,GAAoB,CAAC,CAAC,CAC5C,CAAE,CAAC,CACL,CAAE,CAAC,CACL,CAAE,CAAC,EAED7b,GAAM,OAAS,iBACM,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIuX,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,6CAA6C,CAAE,CAAC,KACrF,OACdO,GAAA,EACA,CACE,QAAS,YACT,MAAO,YACP,SAAUX,GACV,QAASK,GACT,SAAUD,GAAE,0CAA0C,CACxD,CACF,KACgB,OAAI6pB,GAAoB,CAAC,CAAC,CAC5C,CAAE,CAAC,EAED7b,GAAM,OAAS,gBACM,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIuX,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,8CAA8C,CAAE,CAAC,KACtF,OAAIulB,EAAA,EAAmB,CAAE,UAAW,KAAM,SAAUvX,GAAM,kBAAkB,IAAK1O,OAAsB,OAAI,KAAM,CAAE,YAA0B,OAAI,IAAe,CAAE,UAAWA,EAAE,CAAC,CAAE,EAAG,GAAGA,GAAE,IAAI,IAAIA,GAAE,SAAS,IAAIA,GAAE,IAAI,EAAE,CAAC,CAAE,CAAC,KAC7N,OAAIimB,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,iDAAiD,CAAE,CAAC,KACzF,OAAIulB,EAAA,EAAmB,CAAE,UAAW,KAAM,YAA0B,OAAI,KAAM,CAAE,SAAUvX,GAAM,QAAS,CAAC,CAAE,CAAC,KAC7G,OAAIuX,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,qDAAsD,CACzG,SAAAmO,EACF,CAAC,CAAE,CAAC,KACY,QAAKiH,GAAA,EAAK,CAAE,UAAW,EAAG,SAAU,IAClC,OACd7U,GAAA,EACA,CACE,QAAS,YACT,MAAO,YACP,SAAUX,GACV,QAAS+pB,GACT,SAAU3pB,GAAE,8DAA8D,CAC5E,CACF,EACA,CAACypB,OAA8B,OAAIrU,GAAA,EAAK,CAAE,UAAW,OAAQ,WAAY,EAAG,YAA0B,OACpG7U,GAAA,EACA,CACE,QAAS,OACT,KAAM,QACN,MAAO,UACP,UAAW4R,GAAQ,eACnB,QAAS,IAAMuX,GAAc,EAAI,EACjC,SAAU1pB,GAAE,wDAAwD,CACtE,CACF,CAAE,CAAC,CACL,CAAE,CAAC,EACHypB,OAA8B,QAAK,WAAU,CAAE,SAAU,IACvC,OAAIrU,GAAA,EAAK,CAAE,WAAY,EAAG,cAAe,EAAG,YAA0B,OAAI0U,GAAA,EAAS,CAAC,CAAC,CAAE,CAAC,KACxF,OAAIvE,EAAA,EAAmB,CAAE,SAAUvlB,GAAE,4DAA4D,CAAE,CAAC,KACpG,OACdO,GAAA,EACA,CACE,QAAS,YACT,MAAO,YACP,SAAUX,GACV,QAASK,GACT,SAAUD,GAAE,0CAA0C,CACxD,CACF,CACF,CAAE,CAAC,CACL,CAAE,CAAC,KAEkB,OAAIe,GAAA,EAAO,CAAE,SAAU,QAAS,SAAUf,GAAE,wCAAwC,CAAE,CAAC,CAChH,EACM+pB,GAA0BvqB,IAAU,CACxC,KAAM,CAAE,KAAAC,GAAM,UAAAE,GAAW,QAAAD,GAAS,OAAAT,EAAO,EAAIO,GACvC,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA0B,EAC1D,SAAuB,QAAKI,GAAA,EAAQ,CAAE,KAAAX,GAAM,QAAAC,GAAS,SAAU,IAC7C,OAAIW,GAAA,EAAa,CAAE,GAAI,0BAA2B,SAAUL,GAAE,8BAA8B,CAAE,CAAC,KAC/F,OAAIuoB,EAAA,EAAe,CAAE,YAA0B,OAAI,GAAU,CAAE,OAAAtpB,GAAQ,UAAAU,GAAW,QAAAD,EAAQ,CAAC,CAAE,CAAC,CAChH,CAAE,CAAC,CACL,E,4KCnMA,SAASsqB,GAAiBxqB,GAAO,CAC/B,KAAM,CACJ,wBAAAyqB,GACA,oBAAAC,GACA,mBAAAC,GACA,QAAAzqB,EACF,EAAIF,GACE,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAAqB,EAC/CoqB,GAAY,OAAOH,IAAyB,mBAAsB,UAClE3T,IAAc,CAAC4T,KAAwBE,GAAY,CAAC,CAACH,IAAyB,kBAAoBA,IAAyB,oBAAsB,aAAe,GACtK,IAAII,MAAmC,OAAI,WAAU,CAAC,CAAC,EACvD,OAAIJ,IAAyB,oBAAsB,WACjDI,MAAmC,QACjCC,GAAA,EACA,CACE,QAAS,IAAM,CACb5qB,GAAQ,EACRyqB,GAAmB,CACrB,EACA,SAAU7T,GACV,SAAU,IACQ,OAAI4P,GAAA,EAAc,CAAE,YAA0B,OAAIqE,GAAA,EAAY,CAAE,SAAU,OAAQ,CAAC,CAAE,CAAC,KACtF,OAAI/E,EAAA,EAAc,CAAE,QAASxlB,GAAE,uCAAuC,CAAE,CAAC,CAC3F,CACF,CACF,MAEqB,OAAI,WAAU,CAAE,SAAUqqB,EAAiB,CAAC,CACrE,C,uCCjCA,MAAMG,MAA2B,OAAuB,6BAA6B,EAC/EC,GAA6BjrB,IAAU,CAC3C,KAAM,CAAE,SAAAyS,GAAU,YAAAyY,EAAY,EAAIlrB,GAC5B+B,GAAQ,CAAE,YAAAmpB,EAAY,EAC5B,SAAuB,OACrBF,GAAyB,SACzB,CACE,SAAO,MAAwB,CAAE,EAAGjpB,EAAM,CAAC,EAC3C,SAAA0Q,EACF,CACF,CACF,ECSM,MAAYyC,EAAA,GACfxE,KACQ,CACL,OAAQ,CACN,MAAOA,GAAM,KAAK,SACpB,CACF,GAEF,CAAE,KAAM,gCAAiC,CAC3C,EACA,SAASya,GAAkBnrB,GAAO,CAChC,KAAM,CACJ,+BAAAorB,GACA,4BAAAC,GACA,iBAAAC,GACA,mBAAAX,GACA,gBAAAY,EACF,EAAIvrB,GACE,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAAqB,EAC/C,CAACoc,GAAUC,EAAW,KAAI,YAAS,EACnClK,GAAU,GAAU,EAIpB6Y,MAHuB,MAC3B,KACF,EACuC,QACjCC,GAAU7nB,IAAU,CACxBiZ,GAAYjZ,GAAM,aAAa,CACjC,EACM1D,GAAU,IAAM,CACpB2c,GAAY,MAAM,CACpB,EACMtc,MAAW,MAAO,IAAW,EAC7B,CAACmrB,GAAWC,EAAe,KAAIC,GAAA,GAAmB,KACxD,aAAU,IAAM,CACV,CAACF,GAAU,OAASA,GAAU,OAChCnrB,GAAS,KAAK,CACZ,QAASC,GAAE,iCAAiC,EAC5C,SAAU,OACV,QAAS,WACX,CAAC,CAEL,EAAG,CAACkrB,GAAWnrB,GAAUC,EAAC,CAAC,EAC3B,MAAMqrB,GAAaT,IAAkC,CACnD,GAAGA,GAA+B,IAAK3oB,OAAyB,QAC9DqoB,GAAA,EACA,CACE,QAAS,IAAM,CACb5qB,GAAQ,EACRuC,GAAK,QAAQ,CACf,EACA,SAAU,IACQ,OAAIikB,GAAA,EAAc,CAAE,YAA0B,OAAIjkB,GAAK,KAAM,CAAE,SAAU,OAAQ,CAAC,CAAE,CAAC,KACrF,OAAIujB,EAAA,EAAc,CAAE,QAASvjB,GAAK,KAAM,CAAC,CAC3D,CACF,EACAA,GAAK,KACP,CAAC,KACe,OAAI6nB,GAAA,EAAS,CAAC,EAAG,sBAAsB,CACzD,EACA,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIwB,GAAA,GAAS,CAAE,MAAOtrB,GAAE,mCAAmC,EAAG,MAAO,GAAM,YAA0B,OACnHurB,GAAA,EACA,CACE,aAAc,OACd,gBAAiB,YACjB,gBAAiB,OACjB,gBAAiB,CAAC,CAACnP,GACnB,KAAM,SACN,QAAS6O,GACT,cAAe,cACf,UAAW9Y,GAAQ,OACnB,GAAI,YACJ,YAA0B,OAAIqZ,GAAA,EAAU,CAAC,CAAC,CAC5C,CACF,CAAE,CAAC,KACa,OACdC,GAAA,GACA,CACE,KAAM,EAAQrP,GACd,QAAA1c,GACA,SAAA0c,GACA,aAAc,CAAE,SAAU,SAAU,WAAY,OAAQ,EACxD,gBAAiB,CAAE,SAAU,MAAO,WAAY,OAAQ,EACxD,kBAAmB,YACnB,WAAY,CACV,MAAO,CAAE,SAAU,GAAI,CACzB,EACA,YAA0B,QAAKsP,GAAA,EAAU,CAAE,cAAe,EAAQtP,GAAW,SAAU,CACrFiP,GACAP,KAAqB,UAAyB,QAAK,WAAU,CAAE,SAAU,IACvD,OACdd,GACA,CACE,wBAAyBa,GACzB,oBAAqBG,GACrB,mBAAAb,GACA,QAAAzqB,EACF,CACF,KACgB,QACd4qB,GAAA,EACA,CACE,QAAS,IAAM,CACb5qB,GAAQ,EACRqrB,GAAgB,CAClB,EACA,SAAU,IACQ,OAAI7E,GAAA,EAAc,CAAE,YAA0B,OAAIyF,GAAA,EAAe,CAAE,SAAU,OAAQ,CAAC,CAAE,CAAC,KACzF,OACdnG,EAAA,EACA,CACE,QAASxlB,GAAE,oCAAoC,CACjD,CACF,CACF,CACF,CACF,KACgB,QACdsqB,GAAA,EACA,CACE,QAAS,IAAM,CACb5qB,GAAQ,EACRyrB,GAAgB,OAAO,SAAS,SAAS,CAAC,CAC5C,EACA,SAAU,IACQ,OAAIjF,GAAA,EAAc,CAAE,YAA0B,OAAI0F,GAAA,EAAqB,CAAE,SAAU,OAAQ,CAAC,CAAE,CAAC,KAC/F,OACdpG,EAAA,EACA,CACE,QAASxlB,GAAE,oCAAoC,CACjD,CACF,CACF,CACF,CACF,CACF,CAAE,CAAC,KAAoB,OAAIyqB,GAA2B,CAAE,YAAa/qB,GAAS,SAAUorB,EAAiB,CAAC,CAC5G,CAAE,CAAC,CACL,CACF,CACF,CAAE,CAAC,CACL,CCnJA,MAAMe,GAAU,mCACVC,GAAQ,IAAM,QACpB,KAAoBA,GAAOD,GAAS,EAAI,KACxC,KAAoBC,GAAO,yBAA0B,EAAI,EACzD,SAASC,GAAkBvsB,GAAO,CAChC,KAAM,CAAE,OAAAP,GAAQ,MAAA4L,EAAM,EAAIrL,GAC1B,SAAuB,QAAK4V,GAAA,EAAK,CAAE,QAAS,cAAe,WAAY,SAAU,OAAQ,MAAO,SAAU,OAAQ,SAAU,IAC1G,OACdA,GAAA,EACA,CACE,UAAW,OACX,aAAc,WACd,WAAY,SACZ,SAAU,SACV,SAAUnW,MAAyB,OAAI,IAAmB,CAAE,UAAWA,GAAQ,SAAU,EAAK,CAAC,EAAI4L,EACrG,CACF,EACA5L,OAA0B,OAAI,IAAgB,CAAE,OAAAA,EAAO,CAAC,CAC1D,CAAE,CAAC,CACL,CACA,SAAS+sB,GAAYC,GAAWC,GAAgBC,GAAWltB,GAAQ,CACjE,MAAMoD,GAAO4pB,IAAahtB,IAAQ,MAAQ,GACpCmD,GAAY8pB,IAAkBjtB,IAAQ,SAAS,WAAa,GAElE,MAAO,CACL,YAAa,GAFFA,IAAQ,SAAS,OAASktB,IAAaltB,IAAQ,SAAS,MAAQ,EAEvD,GAAGmD,IAAaA,KAAc,KAAoB,OAAOA,EAAS,GAAK,EAAE,GAC7F,YAAa,IAAM,CACjB,IAAIpC,GAAIqC,GAAK,kBAAkB,OAAO,EACtC,OAAIpD,IAAUA,GAAO,MAAQ,SAAUA,GAAO,OAC5Ce,IAAK,WACLA,IAAKf,GAAO,KAAK,KAAK,kBAAkB,OAAO,GAE1Ce,EACT,GAAG,CACL,CACF,CACA,SAASosB,GAAa5sB,GAAO,CAC3B,KAAM,CAAE,OAAAP,EAAO,EAAIO,GACb6sB,MAAmB,KAAmBptB,GAAQ,IAAiB,EAC/D,CAAE,EAAAe,EAAE,KAAI,KAAkB,IAAqB,EACrD,SAAuB,QAAK,WAAU,CAAE,SAAU,CAChDqsB,GAAiB,OAAS,MAAqB,OAC7C,IACA,CACE,MAAOrsB,GAAE,yBAAyB,EAClC,8BAA+B,IAC/B,SAAuB,OACrB,IACA,CACE,WAAYqsB,GACZ,YAAa,QACb,MAAO,SACT,CACF,CACF,CACF,EACAptB,GAAO,MAAM,cAA6B,OACxC,IACA,CACE,MAAOe,GAAE,6BAA6B,EACtC,MAAOf,GAAO,KAAK,WAAW,SAAS,CACzC,CACF,CACF,CAAE,CAAC,CACL,CACA,SAASqtB,GAAmBC,GAAkB,CAAC,EAAGC,GAAgB,CAAC,EAAG,CACpE,UAAWnmB,MAAQmmB,GAAe,CAChC,MAAMC,GAAgBF,GAAgB,KACnCG,IAAaA,GAAS,OAASrmB,EAClC,EACA,GAAIomB,GACF,OAAOA,EAEX,CACA,OAAO,IACT,CACA,MAAM,MAAY/X,EAAA,GAAYxE,KAAW,CACvC,YAAa,CACX,MAAOA,GAAM,KAAK,UAClB,SAAUA,GAAM,WAAW,QAAQ,SACnC,cAAe,YACf,UAAWA,GAAM,QAAQ,CAAC,EAC1B,QAAS,GACT,UAAW,CACT,MAAOA,GAAM,KAAK,UAClB,eAAgB,YAChB,oBAAqB,KACvB,CACF,CACF,EAAE,EACIyc,GAAgBntB,IAAU,CAC9B,KAAM,CACJ,+BAAAorB,GACA,4BAAAC,GACA,SAAA5Y,GACA,kBAAA2a,GACA,sBAAAC,EACF,EAAIrtB,GACE2S,GAAU,GAAU,EACpB,CAAE,KAAA9P,GAAM,UAAAD,GAAW,KAAAE,EAAK,KAAI,KAAkB,GAAc,EAC5D,CAAE,OAAArD,GAAQ,QAAAsX,GAAS,MAAAhT,EAAM,KAAI,MAAe,EAC5CmK,MAAW,OAAY,EACvBof,MAAS,KACb7a,GACC3B,IAAaA,GAAS,sBAAsB,CAC3C,IAAKub,GACL,gBAAiB,qDACnB,CAAC,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAE,MAAOkB,EAAa,IAAM,CACpD,GAAK9tB,IAEE,GAAI8tB,GAAa,IAAM,CAACA,GAAa,GAAG9tB,EAAM,EACnD,MAAO,CAAC,MAFR,OAAO,CAAC,EAIV,MAAO,CACL,CACE,KAAM8tB,GAAa,KACnB,MAAOA,GAAa,MACpB,SAAUA,GAAa,SACvB,SAAUA,GAAa,QACzB,CACF,CACF,CAAC,EACD,CAAC9tB,EAAM,CACT,EACM,CAAE,YAAA+tB,GAAa,WAAAC,EAAW,EAAIjB,GAClC3pB,GACAD,GACAE,GACArD,EACF,EACM,CAAC2B,GAAwBC,EAAyB,KAAI,YAAS,EAAK,EACpEH,MAAW,OAAY,EACvB,CAACwsB,GAAcC,EAAe,KAAI,OAAgB,EAClDC,MAAe,KAAY,KAAY,EACvCC,MAA0B,KAAY,KAA0B,EAChE,CAAE,EAAArtB,EAAE,KAAI,KAAkB,IAAqB,EAC/Cc,GAAsB,SAAY,CACtCD,GAA0B,EAAK,EAC/BH,GACE2sB,GAA0BA,GAAwB,EAAID,GAAa,CACrE,CACF,EACME,GAAehB,GACnBrtB,IAAQ,WAAa,CAAC,EACtB4tB,IAAyB,CAAC,CAC5B,EACM/sB,MAAa,MAAO,GAAa,EACjC,CAAE,MAAOytB,EAAe,KAAI9W,GAAA,GAAS,SACrC6W,GACKhB,IACJ,MAAMxsB,GAAW,eAAewtB,IAAc,SAAS,IAAI,UAC5DT,EACF,EAEK,KACN,CAACS,EAAY,CAAC,KACjB,aAAU,IAAM,CACdzsB,GAA0B,EAAK,CACjC,EAAG,CAAC6M,GAAS,QAAQ,CAAC,EACtB,MAAM8f,GAAqBN,GAAa,IAAI,SAAS,EAC/CO,GAAiB,OAAOD,IAAuB,SACrD,SAAuB,QAAK,IAAM,CAAE,QAASvuB,IAAQ,MAAM,MAAM,SAAS,GAAK,OAAQ,SAAU,IAC/E,OACd,IACA,CACE,SAAuB,OAAI8sB,GAAmB,CAAE,MAAOiB,GAAa,OAAA/tB,EAAO,CAAC,EAC5E,kBAAmB+tB,GACnB,KAAMC,GACN,SAAUK,OAAgC,QAAK,IAAa,CAAE,UAAW,IAAK,UAAWnb,GAAQ,YAAa,SAAU,CACtHob,OAAkC,OAChC,IACA,CACE,UAAWA,GAAe,UAC1B,eAAgB,EAClB,CACF,KACgB,OACd,IACA,CACE,UAAWD,GAAa,UACxB,eAAgB,EAClB,CACF,EACAhrB,EACF,CAAE,CAAC,EACH,SAAUrD,OAA0B,QAAK,WAAU,CAAE,SAAU,IAC7C,OAAImtB,GAAc,CAAE,OAAAntB,EAAO,CAAC,KAC5B,OACd0rB,GACA,CACE,+BAAAC,GACA,4BAAAC,GACA,mBAAoB,IAAMhqB,GAA0B,EAAI,EACxD,gBAAiB,IAAMssB,GAAgB,SAAS,CAClD,CACF,CACF,CAAE,CAAC,CACL,CACF,EACA5W,OAA2B,OAAI,IAAU,CAAC,CAAC,EAC3CtX,OAA0B,OAAI,IAAY,CAAE,OAAA6tB,EAAO,CAAC,EACpDvpB,OAAyB,OAAI,IAAS,CAAE,YAA0B,OAAIxC,GAAA,EAAO,CAAE,SAAU,QAAS,SAAUwC,GAAM,SAAS,CAAE,CAAC,CAAE,CAAC,EACjI,CAACgT,IAAW,CAAChT,IAAS,CAACtE,OAA0B,OAAI,IAAS,CAAE,SAAU2tB,OAAwD,QAAK,IAAc,CAAE,MAAO5sB,GAAE,gCAAgC,EAAG,SAAU,CAC3M,eACAqC,GACA,sBACA,OACgB,OAAI,KAAM,CAAE,GAAI,iEAAkE,SAAU,2BAA4B,CAAC,EACzI,GACF,CAAE,CAAC,CAAE,CAAC,EACNorB,OAAkC,OAChCtF,GACA,CACE,OAAAlpB,GACA,WAAYuuB,IAAsB,OAClC,SAAWE,IAAWP,GAAgB,WAAWO,EAAM,EAAE,EACzD,KAAM,GACN,QAAS,IAAMP,GAAgB,CACjC,CACF,KACgB,OACdpD,GACA,CACE,KAAMnpB,GACN,OAAA3B,GACA,UAAW6B,GACX,QAAS,IAAMD,GAA0B,EAAK,CAChD,CACF,CACF,CAAE,CAAC,CACL,EACA8rB,GAAa,MAAQb,E,+DCrPrB,SAAS6B,EAAuBC,EAAcC,EAAiB,CAC7D,MAAO,CACL,OAAQ,CACN,eAAa,MAAgBD,CAAY,EACzC,UAAWC,KAAkB,MAAgBA,CAAe,EAAI,MAClE,EACA,KAAM,KACN,cAAe,KACf,OAAQ,OACR,QAAS,MACX,CACF,C,uGCTA,MAAMC,KAAwB,MAAuB,mBAAmB,EAClEC,EAAsB,IAAM,CAChC,MAAMC,KAAa,cAAWF,CAAqB,EACnD,GAAIE,IAAe,OACjB,MAAO,CACL,SAAU,UACV,SAAU,OACV,UAAW,KACb,EAEF,MAAMC,EAAWD,EAAW,UAAU,CAAC,EACvC,GAAIC,IAAa,OACf,MAAM,IAAI,MAAM,iCAAiC,EAEnD,OAAOA,CACT,EACMC,EAAoBzsB,GAAY,CACpC,KAAM,CAAE,WAAA0sB,EAAY,SAAAlc,CAAS,EAAIxQ,EAE3B2sB,EAAgB,CACpB,GAFmBL,EAAoB,EAGvC,GAAGI,CACL,EACME,KAAyB,KAAwB,CAAE,EAAGD,CAAc,CAAC,EAC3E,SAAuB,OAAIN,EAAsB,SAAU,CAAE,MAAOO,EAAwB,SAAApc,CAAS,CAAC,CACxG,C,+DC3BA,MAAMqc,KAAmB,KAAa,CACpC,GAAI,+BACN,CAAC,C,qFCgBD,MAAMC,KAhB+B,KACnC,IAAE,OAAO,EACT,IAAE,OAAO,CACP,aAAc,IAAE,MAAM,IAAE,OAAO,CAAC,EAAE,SAAS,EAAE,SAC3C,2FACF,EACA,YAAa,IAAE,OAAO,EAAE,SAAS,EAAE,SACjC,qEACF,EACA,qBAAsB,IAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,yDAAyD,EAC/G,iBAAkB,IAAE,MAAM,CAAC,IAAE,OAAO,EAAG,IAAE,QAAQ,EAAK,CAAC,CAAC,EAAE,SAAS,EAAE,SACnE,0EACF,EACA,cAAe,IAAE,MAAM,IAAiC,EAAE,GAAG,IAAiC,EAAE,SAAS,EAAE,SAAS,kDAAkD,CACxK,CAAC,CACH,EAC6D,M,+DClB7D,MAAMC,KAAe,KAAa,CAChC,GAAI,4BACN,CAAC,EACD,MAAMC,CAAc,CAClB,YAAYC,EAAe,CACzB,KAAK,cAAgBA,CACvB,CACA,OAAQ,CACN,OAAO,QAAQ,QAAQ,KAAK,eAAiB,CAAE,QAAS,CAAC,CAAE,CAAC,CAC9D,CACF,C,uGCRA,MAAMC,KAAiB,KACrB,2BACA,OAAM,KAAe,CACnB,GAAI,iBACJ,OAAQ,CAAC,YAAa,OAAQ,MAAM,CACtC,CAAC,CACH,EACA,SAASC,EAAkBC,EAAaptB,EAAS,CAC/C,IAAIY,EACAD,EACAE,EACJ,GAAI,OAAOusB,GAAgB,SAAU,CACnC,MAAMC,KAAS,MAAeD,CAAW,EACzCxsB,EAAOysB,EAAO,KACd1sB,EAAY0sB,EAAO,UACnBxsB,EAAOwsB,EAAO,IAChB,KAAW,aAAcD,GACvBxsB,EAAOwsB,EAAY,KACnBzsB,EAAYysB,EAAY,SAAS,UACjCvsB,EAAOusB,EAAY,SAAS,OAE5BxsB,EAAOwsB,EAAY,KACnBzsB,EAAYysB,EAAY,UACxBvsB,EAAOusB,EAAY,MAErBxsB,EAAOA,EAAK,kBAAkB,OAAO,EACrCD,EAAYA,GAAW,kBAAkB,OAAO,GAAK,KACrD,KAAM,CAAE,aAAA2sB,EAAe,EAAM,EAAIttB,GAAW,CAAC,EAC7C,OAAIstB,IACF1sB,EAAO,mBAAmBA,CAAI,EAC9BD,EAAY,mBAAmBA,CAAS,EACxCE,EAAO,mBAAmBA,CAAI,GAEzB,CACL,KAAAD,EACA,UAAAD,EACA,KAAAE,CACF,CACF,C,qLC/BA,MAAMmS,KAAY,KACfvE,IAAW,CACV,UAAW,CACT,QAAS,EACT,eAAgB,CACd,cAAe,CACjB,CACF,EACA,mBAAoB,CAClB,QAAS,OACT,WAAY,UACd,EACA,OAAQ,CACN,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,GAAG,CACrC,EACA,YAAa,CACX,WAAYA,EAAM,WAAW,cAC/B,EACA,gBAAiB,CACf,WAAYA,EAAM,QAAQ,CAAC,CAC7B,EACA,aAAc,CAAC,EACf,aAAc,CAAC,EACf,cAAe,CAAC,EAChB,UAAW,CACT,QAAS,MACX,CACF,GACA,CAAE,KAAM,mBAAoB,CAC9B,EACM8e,KAAsB,KACzB9e,IAAW,CACV,KAAM,CACJ,QAAS,eACT,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,CAAC,EACjC,MAAO,OACT,CACF,GACA,CAAE,KAAM,sCAAuC,CACjD,EAAE,GAAW,EACP+e,EAAiB,CACrB,KAAM,CACJ,KAAM,CACJ,QAAS,OACT,cAAe,QACjB,EACA,WAAY,CACV,QAAS,OACT,cAAe,SACf,OAAQ,MACV,EACA,SAAU,CACR,QAAS,OACT,cAAe,SACf,OAAQ,oBAER,aAAc,OACd,YAAa,aACb,eAAgB,CACd,OAAQ,MACV,CACF,CACF,EACA,YAAa,CACX,WAAY,CACV,KAAM,CACR,EACA,SAAU,CACR,KAAM,CACR,CACF,CACF,EACA,SAASC,EAAS1vB,EAAO,CACvB,KAAM,CACJ,MAAAqL,EACA,UAAAskB,EACA,QAAAC,EAAU,GACV,SAAAC,EACA,aAAAC,EACA,mBAAAC,EACA,QAAAC,EACA,aAAAC,EAAe,SACf,SAAAxd,EACA,YAAAyd,GACA,YAAA1D,GACA,KAAA2D,GACA,OAAA9c,GACA,iBAAA+c,EACA,QAAAC,GACA,cAAAC,GACA,gBAAAC,EACA,UAAA/e,EACA,UAAAuO,EACA,qBAAAyQ,EACA,yBAAAC,CACF,EAAIzwB,EACE2S,EAAUsC,EAAU,EAC1B,IAAIyb,EAAkB,CAAC,EACnBC,EAAsB,CAAC,EACvBX,GACeA,EAAQ,MAAM,QAAQ,EAC9B,QAASltB,IAAS,CACzB4tB,EAAkB,CAChB,GAAGA,EACH,GAAGjB,EAAe,KAAK3sB,EAAI,CAC7B,EACA6tB,EAAsB,CACpB,GAAGA,EACH,GAAGlB,EAAe,YAAY3sB,EAAI,CACpC,CACF,CAAC,EAEH,MAAM8tB,EAAe,IACf,CAACjB,GAAa,CAACQ,GACV,QAEc,QAAK,MAAO,CAAE,cAAe,sBAAuB,SAAU,CACnFR,MAA6B,OAAI,MAAO,CAAE,UAAWhd,EAAQ,UAAW,SAAUgd,CAAU,CAAC,EAC7FQ,EACF,CAAE,CAAC,EAECU,GAAWd,IAAuBD,EAAe,CAAE,aAAAA,CAAa,EAAI,CAAC,GAC3E,SAAuB,OAAI,IAAM,CAAE,MAAOY,EAAiB,UAAAlf,EAAW,YAA0B,QAAK,IAAe,CAAE,GAAGqf,GAAU,SAAU,CAC3IxlB,MAAyB,OACvB,IACA,CACE,QAAS,CACP,KAAM,IAAWsH,EAAQ,MAAM,EAC/B,MAAOA,EAAQ,YACf,UAAWA,EAAQ,gBACnB,OAAQA,EAAQ,aAChB,OAAQA,EAAQ,aAChB,QAASA,EAAQ,aACnB,EACA,MAAAtH,EACA,UAAWulB,EAAa,EACxB,OAAAvd,GACA,MAAO,CAAE,GAAG6c,EAAY,EACxB,qBAAAM,EACA,yBAAAC,EACA,GAAGjE,EACL,CACF,EACA+D,MAAmC,OAAIf,EAAqB,CAAE,SAAUe,CAAgB,CAAC,EACzFX,MAA2B,OAAI,IAAS,CAAC,CAAC,KAC1B,OACd,IACA,CACE,UAAW,IAAWU,GAAe,CACnC,CAAC3d,EAAQ,SAAS,EAAGoN,EACrB,CAACpN,EAAQ,kBAAkB,EAAGsd,IAAiB,QACjD,CAAC,EACD,MAAOU,EACP,SAAAle,CACF,CACF,EACA4d,OAA2B,OAAI,IAAa,CAAE,UAAWD,EAAkB,SAAUC,EAAQ,CAAC,EAC9FR,MAA4B,OAAI,IAAY,CAAE,GAAGA,CAAS,CAAC,CAC7D,CAAE,CAAC,CAAE,CAAC,CACR,C,wHCvKA,SAASiB,EAAYpjB,EAAM,CACzB,MAAMqjB,EAAQ,IAAI,IAAI,oBAAoB,EAC1C,OAAAA,EAAM,KAAOrjB,EACNqjB,EAAM,OAASrjB,CACxB,CACA,SAASsjB,EAAW/tB,EAAK,CACvB,GAAI,CACF,WAAI,IAAIA,CAAG,EACJ,EACT,MAAQ,CACN,MAAO,EACT,CACF,CACA,SAASguB,EAAkBC,EAAcC,EAAS,CAChD,MAAO,CACL,MAAO,CACL,OAAOD,CACT,EACA,MAAMjuB,EAAK,CACT,GAAI,CACF,MAAMqsB,EAAS,OAAOrsB,GAAQ,SAAW,IAAI,IAAIA,CAAG,EAAIA,EACxD,OAAOiuB,EAAa,KAAMjrB,GAAMkrB,EAAQlrB,CAAC,IAAMqpB,EAAO,IAAI,CAC5D,MAAQ,CACN,MACF,CACF,EACA,OAAO5hB,EAAM,CACX,OAAOwjB,EAAa,KAAMjrB,GAAMkrB,EAAQlrB,CAAC,IAAMyH,CAAI,CACrD,CACF,CACF,CACA,SAAS0jB,EAAqBnvB,EAAS,CACrC,KAAM,CAAE,IAAAgB,EAAK,KAAAouB,EAAM,WAAAC,CAAW,EAAIrvB,EAClC,GAAI,CACF,WAAI,IAAIgB,CAAG,EACJA,CACT,MAAQ,CACR,CACA,IAAIsuB,EACJ,GAAItuB,EAAI,WAAW,GAAG,EAAG,CACvB,KAAM,CAAE,KAAAuuB,EAAM,SAAAC,CAAS,EAAI,IAAYJ,CAAI,EAC3CE,EAAU,IAAI,IAAIC,CAAI,EACtB,MAAME,KAAe,WACnBH,EAAQ,SAAS,UAAU,EAAGA,EAAQ,SAAS,OAASE,EAAS,MAAM,EACvE,GACF,EACAF,EAAQ,SAAW,GAAGG,CAAY,GAAGzuB,CAAG,EAC1C,MACEsuB,EAAU,IAAI,IAAItuB,EAAKouB,CAAI,EAE7B,OAAAE,EAAQ,OAAS,IAAI,IAAIF,CAAI,EAAE,OAC3BC,IACFC,EAAQ,KAAO,IAAID,CAAU,IAExBC,EAAQ,SAAS,CAC1B,C,6MC7CA,MAAMI,EAAqB3xB,GAAU,CACnC,KAAM,CACJ,SAAAmW,EACA,OAAQ,CAAE,MAAA9K,EAAQ,SAAU,YAAA2B,EAAc,4BAA6B,EACvE,SAAA6M,EACA,SAAArK,EACA,UAAAsR,EACA,SAAA5K,EACA,SAAA6K,EACF,EAAI/gB,EACE4P,GAAgBqR,EAAmBzR,CAAQ,EAC3C0R,GAAc1R,EAAS,YAAY,GAAG,YACtCE,GAAmBF,EAAS,YAAY,GAAG,kBAAoB,OAC/DsH,EAAatH,IAAW,aAAa,GAAK,GAC1C,CAACoiB,GAAmBC,EAAoB,KAAI,YAAS,CAAC,EACtDvxB,KAAa,MAAO,GAAa,EACjC6gB,KAAwB,MAAO,GAAwB,EACvD,CAAE,MAAOC,EAAU,QAAArK,CAAQ,KAAI,KAAS,SAAY,CACxD,KAAM,CAAE,MAAAuK,CAAM,EAAI,MAAMhhB,EAAW,YACjCsP,GAAgB,CAAE,OAAQA,EAAc,EAAI,MAC9C,EACM2R,EAA0B,IAAI,IAClC,MAAM,QAAQ,IACZD,EAAM,IAAI,MAAO7e,IAAS,CACxB,MAAM+e,GAAe,MAAML,EAAsB,UAAU1e,EAAI,EAAE,QACjE,MAAO,IAAC,MAAmBA,EAAI,EAAG+e,EAAY,CAChD,CAAC,CACH,CACF,EACA,MAAO,CAAE,SAAUF,EAAO,wBAAAC,CAAwB,CACpD,CAAC,EACKE,EAAuBjS,EAAS,YAAY,GAAG,sBAAwB,GACvEsiB,EAAW9xB,EAAM,OAAO,SACxB6hB,KAAW,eACf,CAACpK,EAAGsa,EAAMjQ,KAAW,CACnB,MAAM5e,GAAS6uB,EAAK,IAAK/sB,IAAQ,CAC/B,GAAI,OAAOA,IAAQ,SACjB,OAAOA,MAAM,MAAmBA,EAAG,EAAI,OAEzC,GAAI8c,KAAW,QAAUA,KAAW,gBAAiB,CACnD,IAAIC,GAAY/c,GAChB,GAAI,CACF+c,MAAY,SACV,MAAe/c,GAAK,CAClB,YAAAkc,GACA,iBAAAxR,EACF,CAAC,CACH,CACF,MAAc,CACd,CACA,GAAIwG,GAAU,SAASlR,EAAG,GAAKyc,EAC7B,OAAOM,EAEX,CAEF,CAAC,EAAE,OAAQ/c,IAAQA,KAAQ,MAAM,EACjC6sB,GAAqB3uB,GAAO,MAAM,EAClCiT,EAASjT,EAAM,CACjB,EACA,CAACiT,EAAUD,EAAUgL,GAAaxR,GAAkB+R,CAAoB,CAC1E,EACA,sBAAU,IAAM,CACV5H,GAAY,CAAC4H,GAAwBL,GAAU,UAAU,SAAW,GACtEjL,EAAS,IAAC,MAAmBiL,GAAU,SAAS,CAAC,CAAC,CAAC,CAAC,CAExD,EAAG,CAACA,EAAUjL,EAAU0D,EAAU4H,CAAoB,CAAC,KAChC,OACrB,IACA,CACE,OAAQ,SACR,SAAA5H,EACA,MAAOiH,GAAW,OAAS,GAAK,CAAC5K,EACjC,YAA0B,OACxB,KACA,CACE,SAAU,GACV,sBAAuB,GACvB,SAAUY,GAAc+C,GAAY,CAAC4H,GAAwBL,GAAU,UAAU,SAAW,EAC5F,GAAIL,IAAU,IACd,aAAc7K,EACd,QAAAa,EACA,SAAU8K,EACV,QAAST,GAAU,UAAY,CAAC,EAChC,aAAenJ,MAA2B,OAAI,IAAmB,CAAE,UAAWA,CAAO,CAAC,EACtF,eAAiBA,GAEf,OAAOA,GAAW,SAAWA,EAASmJ,GAAU,wBAAwB,OAAI,MAAmBnJ,CAAM,CAAC,GAAG,UAE3G,kBAAoBhM,GAAa6lB,EAAWF,IAAqBE,EAAW,GAC5E,WAAY,GACZ,SAAUrQ,EACV,YAAc/d,MAA2B,OACvC,IACA,CACE,GAAGA,EACH,MAAO2H,EACP,SAAUyL,EACV,OAAQ,QACR,WAAY9J,EACZ,oBAAqB,CACnB,OAAQ,QACR,MAAO,CAAE,WAAY,CAAE,CACzB,EACA,QAAS,WACT,SAAA6M,EACA,WAAY,CACV,GAAGnW,EAAO,WACV,SAAUwS,GAAU,SAAW,GAAK2D,CACtC,CACF,CACF,EACA,iBAAkB,GACpB,CACF,CACF,CACF,CACF,EACMmY,EAAsC,CAAC9uB,EAAQ+uB,IAAe,CAClE/uB,EAAO,QAASnB,GAAU,CACxB,GAAI,IACF,MAAeA,CAAK,CACtB,MAAQ,CACNkwB,EAAW,SAAS,GAAGlwB,CAAK,4BAA4B,CAC1D,CACF,CAAC,CACH,EACA,SAASkgB,EAAiBlgB,EAAO,CAC/B,OAAI,OAAOA,GAAU,UAAYA,EAAM,OAC9B,IAEFA,GAAO,SAAS,CACzB,CACA,SAASmgB,EAA4BC,EAAe,CAClD,MAAM5f,EAAQ,CAAC,EACf,SAAW,CAACT,EAAKC,CAAK,IAAK,OAAO,QAAQogB,CAAa,EACjD,MAAM,QAAQpgB,CAAK,EACrBQ,EAAMT,CAAG,EAAIC,EAEbQ,EAAMT,CAAG,EAAImgB,EAAiBlgB,CAAK,EAGvC,OAAOQ,CACT,CACA,SAAS0e,EAAmBzR,EAAU,CACpC,MAAMI,EAAgBJ,EAAS,YAAY,GAAG,cAC9C,GAAKI,EAGL,OAAI,MAAM,QAAQA,CAAa,EACtBA,EAAc,IAAIsS,CAA2B,EAE/CA,EAA4BtS,CAAa,CAClD,C,2EClKA,MAAMsiB,EAAoC,IAAE,OAC1C,IAAE,OAAO,EAAE,GAAG,IAAE,OAAO,CAAE,OAAQ,IAAE,QAAQ,EAAE,SAAS,CAAE,CAAC,CAAC,EAAE,GAAG,IAAE,MAAM,IAAE,OAAO,CAAC,CAAC,CACpF,EAcMC,KAb+B,KACnC,IAAE,MAAM,IAAE,OAAO,CAAC,EAClB,IAAE,OAAO,CACP,YAAa,IAAE,OAAO,EAAE,SAAS,EAAE,SACjC,qEACF,EACA,qBAAsB,IAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,yDAAyD,EAC/G,iBAAkB,IAAE,MAAM,CAAC,IAAE,OAAO,EAAG,IAAE,QAAQ,EAAK,CAAC,CAAC,EAAE,SAAS,EAAE,SACnE,0EACF,EACA,cAAe,IAAE,MAAMD,CAAiC,EAAE,GAAGA,CAAiC,EAAE,SAAS,EAAE,SAAS,kDAAkD,CACxK,CAAC,CACH,EAC6D,M,8HCZ7D,MAAMjd,KAAY,KAChB,KAAO,CACL,KAAM,CACJ,MAAO,UACP,OAAQ,UACR,QAAS,aACX,EACA,WAAY,CACV,MAAO,UACP,OAAQ,UACR,QAAS,aACX,CACF,GACA,CAAE,KAAM,6BAA8B,CACxC,EACA,SAASmd,EAAmBpyB,EAAO,CACjC,KAAM,CAAE,WAAAqyB,CAAW,EAAIryB,EACjB2S,EAAUsC,EAAU,EAC1B,SAAuB,OACrB,IACA,CACE,UAAW,OACX,UAAWod,EAAa1f,EAAQ,KAAOA,EAAQ,WAC/C,SAAU0f,KAA6B,OAAI,KAAU,CAAC,CAAC,KAAoB,OAAI,KAAe,CAAC,CAAC,CAClG,CACF,CACF,CACA,SAASC,EAAetyB,EAAO,CAC7B,KAAM,CACJ,GAAA2B,EACA,MAAA0J,EACA,WAAYtJ,EACZ,SAAUoU,EACV,GAAGoc,CACL,EAAIvyB,EACJ,SAAuB,OAAI,KAAS,CAAE,GAAA2B,EAAI,MAAA0J,EAAO,YAA0B,OACzE,IACA,CACE,aAAcA,EACd,GAAA1J,EACA,QAAS,IAAMwU,EAAS,CAACpU,CAAK,EAC9B,MAAO,UACP,GAAGwwB,EACH,YAA0B,OAAIH,EAAoB,CAAE,WAAYrwB,CAAM,CAAC,CACzE,CACF,CAAE,CAAC,CACL,C,gDCrDA,MAAMywB,EAAwB,OAAO,IAEnC,wDACF,C,0ECEA,MAAMC,KAAc,KAAa,CAC/B,GAAI,YACN,CAAC,C,6FCJD,MAAMC,KAAqB,KAAa,CACtC,GAAI,gBACJ,OAAQ,CACN,aAAc,GAChB,EACA,eAAgB,CACd,cAAe,GACjB,CACF,CAAC,ECPKC,EAAyBD,EAAmB,WAChD,MAAyB,CACvB,KAAM,yBACN,UAAW,CACT,KAAM,IAAM,gCAAqD,KAAM3oB,GAAMA,EAAE,gBAAgB,CACjG,CACF,CAAC,CACH,EACM6oB,EAAmBF,EAAmB,WAC1C,MAAwB,CACtB,KAAM,mBACN,UAAW,IAAM,+BAAqD,KAAM3oB,GAAMA,EAAE,gBAAgB,EACpG,WAAY,GACd,CAAC,CACH,C,iICVA,MAAMkL,KAAY,KACfvE,IAAW,CACV,KAAM,CACJ,SAAU,cACV,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,GAAG,CACrC,EACA,SAAU,CACR,OAAQ,EACR,MAAOA,EAAM,QAAQ,UACvB,EACA,MAAO,CACL,MAAOA,EAAM,QAAQ,UACvB,CACF,GACA,CAAE,KAAM,qBAAsB,CAChC,EACA,SAASmiB,EAAW7yB,EAAO,CACzB,KAAM,CAAE,KAAAwmB,EAAM,MAAAnb,EAAO,QAAAkH,CAAQ,EAAIvS,EAC3B2S,EAAUsC,EAAU,EAC1B,SAAuB,QAAK,IAAK,CAAE,SAAU,IAC3B,OAAI,IAAS,CAAC,CAAC,KACf,OAAI,KAAM,CAAE,GAAIuR,EAAM,QAAAjU,EAAS,UAAW,OAAQ,YAA0B,QAAK,IAAK,CAAE,QAAS,OAAQ,WAAY,SAAU,UAAWI,EAAQ,KAAM,SAAU,IAChK,OAAI,IAAK,CAAE,UAAWA,EAAQ,SAAU,WAAY,iBAAkB,EAAG,EAAG,YAA0B,OAAI,IAAY,CAAE,YAA0B,OAAI,SAAU,CAAE,SAAUtH,CAAM,CAAC,CAAE,CAAC,CAAE,CAAC,KACzL,OAAI,IAAW,CAAE,UAAWsH,EAAQ,KAAM,CAAC,CAC7D,CAAE,CAAC,CAAE,CAAC,CACR,CAAE,CAAC,CACL,C,yNCxBA,MAAMmgB,EAA4B,CAAC,CACjC,SAAA3c,EACA,MAAA3H,EACA,UAAAsS,EACA,YAAAiS,EACA,WAAAjc,EACA,SAAA+C,CACF,IAAM,CACJ,KAAM,CAAE,KAAAnM,EAAM,UAAAslB,GAAW,WAAAjmB,GAAY,OAAAkmB,EAAO,EAAIzkB,EAC1C,CAAC0kB,GAAmBC,CAAoB,KAAI,YAAS,CAAC,CAAC,EACvDC,MAAgB,MAAO,GAAgB,EACvCC,MAA0B,eAAY,IAAM,CAChD,GAAI,CAACD,GAAc,cAAgB,CAACJ,IAAa,CAACjmB,IAAc,CAACgmB,GAAerlB,IAAS,gBAAiB,CACxGylB,EAAqB,CAAC,CAAC,EACvB,MACF,CACAC,GAAc,aAAa,CACzB,MAAOL,EACP,SAAU,WACV,QAAS,CAAE,UAAAC,GAAW,WAAAjmB,EAAW,EACjC,SAAU,iBACZ,CAAC,EAAE,KAAK,CAAC,CAAE,QAAAxI,CAAQ,IAAM,CACvB4uB,EAAqB5uB,EAAQ,IAAK1E,GAAMA,EAAE,EAAE,CAAC,CAC/C,CAAC,EAAE,MAAM,IAAM,CACbszB,EAAqB,CAAC,CAAC,CACzB,CAAC,CACH,EAAG,CAACzlB,EAAMslB,GAAWjmB,GAAYgmB,EAAaK,EAAa,CAAC,EAC5D,SAAAE,EAAA,GAAYD,GAAyB,IAAK,CAACA,EAAuB,CAAC,KAC5C,QACrBtb,EAAA,EACA,CACE,OAAQ,SACR,SAAA8B,EACA,MAAOiH,GAAW,OAAS,GAAK,CAACmS,GACjC,SAAU,IACQ,OACdjb,EAAA,GACA,CACE,MAAOib,GACP,SAAU,CAAC,EAAG9Z,IAAa,CACzBhD,EAAS,CAAE,OAAQgD,GAAY,EAAG,CAAC,CACrC,EACA,SAAUrC,EACV,QAASoc,GACT,YAAcxvB,MAA2B,OACvCwU,EAAA,EACA,CACE,GAAGxU,EACH,MAAO,SACP,SAAUoT,EACV,SAAA+C,CACF,CACF,EACA,SAAU,GACV,WAAY,EACd,CACF,KACgB,OAAI0Z,EAAA,EAAgB,CAAE,SAAU,8BAA+B,CAAC,CAClF,CACF,CACF,CACF,EClEMC,EAA0B,CAAC,CAC/B,SAAArd,EACA,MAAA3H,EACA,UAAAsS,EACA,WAAAhK,EACA,SAAA+C,CACF,IAAM,CACJ,KAAM,CAAE,OAAAoZ,CAAO,EAAIzkB,EACnB,SAAuB,QACrBuJ,EAAA,EACA,CACE,OAAQ,SACR,SAAA8B,EACA,MAAOiH,GAAW,OAAS,GAAK,CAACmS,EACjC,SAAU,IACQ,OACd/a,EAAA,EACA,CACE,GAAI,cACJ,MAAO,SACP,SAAUpB,EACV,SAAWhX,GAAMqW,EAAS,CAAE,OAAQrW,EAAE,OAAO,KAAM,CAAC,EACpD,MAAOmzB,CACT,CACF,KACgB,OAAIM,EAAA,EAAgB,CAAE,SAAU,8BAA+B,CAAC,CAClF,CACF,CACF,CACF,ECxBME,EAAyB,CAAC,CAC9B,SAAAtd,EACA,MAAA3H,EACA,UAAAsS,EACA,YAAAiS,EACA,WAAAjc,EACA,SAAA+C,CACF,IAAM,CACJ,KAAM,CAAE,KAAAnM,EAAM,MAAAvC,GAAO,WAAA4B,GAAY,OAAAkmB,EAAO,EAAIzkB,EACtC,CAAC0kB,GAAmBC,CAAoB,KAAI,YAAS,CAAC,CAAC,EACvDC,MAAgB,MAAO,GAAgB,EACvCC,MAA0B,eAAY,IAAM,CAChD,GAAI,CAACD,GAAc,cAAgB,CAACjoB,IAAS,CAAC4B,IAAc,CAACgmB,GAAe,CAACrlB,EAAM,CACjFylB,EAAqB,CAAC,CAAC,EACvB,MACF,CACAC,GAAc,aAAa,CACzB,MAAOL,EACP,SAAU,WACV,QAAS,CAAE,KAAArlB,EAAM,MAAAvC,GAAO,WAAA4B,EAAW,EACnC,SAAU,QACZ,CAAC,EAAE,KAAK,CAAC,CAAE,QAAAxI,CAAQ,IAAM,CACvB4uB,EAAqB5uB,EAAQ,IAAK1E,GAAMA,EAAE,EAAE,CAAC,CAC/C,CAAC,EAAE,MAAM,IAAM,CACbszB,EAAqB,CAAC,CAAC,CACzB,CAAC,CACH,EAAG,CAACzlB,EAAMvC,GAAO4B,GAAYgmB,EAAaK,EAAa,CAAC,EACxD,SAAAE,EAAA,GAAYD,GAAyB,IAAK,CAACA,EAAuB,CAAC,KAC5C,QACrBtb,EAAA,EACA,CACE,OAAQ,SACR,SAAA8B,EACA,MAAOiH,GAAW,OAAS,GAAK,CAACmS,GACjC,SAAU,IACQ,OACdjb,EAAA,GACA,CACE,MAAOib,GACP,SAAU,CAAC,EAAG9Z,IAAa,CACzBhD,EAAS,CAAE,OAAQgD,GAAY,EAAG,CAAC,CACrC,EACA,SAAUrC,EACV,QAASoc,GACT,YAAcxvB,MAA2B,OACvCwU,EAAA,EACA,CACE,GAAGxU,EACH,MAAO,SACP,SAAUoT,EACV,SAAA+C,CACF,CACF,EACA,SAAU,GACV,WAAY,EACd,CACF,KACgB,OAAI0Z,EAAA,EAAgB,CAAE,SAAU,8BAA+B,CAAC,CAClF,CACF,CACF,CACF,EC1DMG,EAAoB1zB,GAAU,CAClC,KAAM,CACJ,SAAAwP,EACA,SAAA2G,EACA,UAAA2K,EACA,SAAA5K,EACA,OAAA9P,EACA,YAAAutB,EACA,SAAA9Z,EACF,EAAI7Z,EACE,CACJ,SAAU,CAAE,QAAAuN,EAAQ,CACtB,EAAIomB,EACE,CAACnlB,GAAOolB,EAAQ,KAAI,YAAS,CACjC,OAAQ1d,GAAY,EACtB,CAAC,EACK,CAAE,KAAAxI,EAAM,OAAAulB,EAAO,EAAIzkB,GACnBqlB,MAAiB,MAAO,GAAqB,EAC7C5oB,KAAa,MAAO,GAAa,EACjC,CAAE,QAAA9H,EAAS,WAAA2wB,CAAW,KAAI,KAAmB,KACnDR,EAAA,GACE,SAAY,CACV,KAAM,CAAE,uBAAAS,CAAuB,EAAIvkB,IAAW,YAAY,GAAK,CAAC,EAIhE,GAHI,CAACukB,GAA0B,CAACrmB,GAG5BvK,EAAQ4wB,EAAuB,UAAU,EAC3C,OAEF,KAAM,CAAE,MAAA5vB,CAAM,EAAI,MAAM8G,EAAW,eAAe,CAChD,IAAK,WAAWyC,CAAI,GACpB,gBAAiB,CACf,UAAW,GACX,aAAcqmB,EAAuB,gBACvC,CACF,CAAC,EACDD,EAAW,CAAE,CAACC,EAAuB,UAAU,EAAG5vB,CAAM,CAAC,CAC3D,EACA,IACA,CAACuJ,EAAM8B,CAAQ,CACjB,KACA,aAAU,IAAM,CACd,GAAIjC,GAAS,CACX,MAAMtK,EAAM,IAAI,IAAI,WAAWsK,EAAO,EAAE,EACxCqmB,GAAUI,IAAe,CACvB,GAAGA,EACH,KAAM/wB,EAAI,KACV,UAAWA,EAAI,aAAa,IAAI,WAAW,GAAK,GAChD,WAAYA,EAAI,aAAa,IAAI,MAAM,GAAK,GAC5C,MAAOA,EAAI,aAAa,IAAI,OAAO,GAAK,EAC1C,EAAE,CACJ,CACF,EAAG,CAACsK,EAAO,CAAC,KACZ,aAAU,IAAM,CACd4I,EAAS8c,EAAM,CACjB,EAAG,CAACA,GAAQ9c,CAAQ,CAAC,EACrB,MAAM8d,KAAmB,eACtBC,GAAa,CACZN,GAAUI,IAAe,CAAE,GAAGA,EAAW,GAAGE,CAAS,EAAE,CACzD,EACA,CAACN,EAAQ,CACX,EACMO,GAAYzmB,GAAQmmB,GAAe,OAAOnmB,CAAI,GAAG,OAAS,KAC1D0mB,EAAyB,IAAM,CACnC,OAAQD,EAAU,CAChB,IAAK,YACH,SAAuB,OACrBrB,EACA,CACE,SAAUmB,EACV,MAAAzlB,GACA,UAAAsS,EACA,YAAatR,IAAW,YAAY,GAAG,wBAAwB,YAAcrM,EAAQqM,EAAS,YAAY,EAAE,uBAAuB,UAAU,EAC7I,WAAYA,IAAW,aAAa,GAAK,GACzC,SAAAqK,EACF,CACF,EACF,IAAK,SACH,SAAuB,OACrB4Z,EACA,CACE,SAAUQ,EACV,MAAAzlB,GACA,UAAAsS,EACA,YAAatR,IAAW,YAAY,GAAG,wBAAwB,YAAcrM,EAAQqM,EAAS,YAAY,EAAE,uBAAuB,UAAU,EAC7I,WAAYA,IAAW,aAAa,GAAK,GACzC,SAAAqK,EACF,CACF,EACF,QACE,SAAuB,OACrB2Z,EACA,CACE,SAAUS,EACV,MAAAzlB,GACA,UAAAsS,EACA,WAAYtR,IAAW,aAAa,GAAK,GACzC,SAAAqK,EACF,CACF,CACJ,CACF,EACA,SAAuB,QAAK,WAAU,CAAE,SAAU,CAChDzT,EAAO,UAAyB,QAAKwP,EAAA,EAAK,CAAE,GAAI,EAAG,SAAU,IAC3C,OAAIwQ,EAAA,EAAY,CAAE,QAAS,KAAM,SAAUhgB,EAAO,KAAM,CAAC,KACzD,OAAIkkB,EAAA,EAAS,CAAC,CAAC,CACjC,CAAE,CAAC,EACHlkB,EAAO,gBAA+B,OAAIggB,EAAA,EAAY,CAAE,QAAS,QAAS,SAAUhgB,EAAO,WAAY,CAAC,EACxGguB,EAAuB,CACzB,CAAE,CAAC,CACL,C,gICnHA,SAASC,EAAahF,EAAa,CACjC,OAAO,OAAOA,GAAgB,SAAWA,KAAc,MAAmBA,CAAW,CACvF,CACA,SAASiF,EAAiBjF,EAAa,CACrC,MAAMkF,KAAqB,MAAO,GAAqB,EACjD,CAACC,EAAiBC,CAAkB,KAAI,YAAS,EAAK,EAC5D,sBAAU,IAAM,CACd,MAAM1Z,EAAewZ,EAAmB,gBAAgB,EAAE,UAAU,CAClE,KAAKG,EAAiB,CACpBD,EAAmBC,EAAgB,IAAIL,EAAahF,CAAW,CAAC,CAAC,CACnE,CACF,CAAC,EACD,MAAO,IAAM,CACXtU,EAAa,YAAY,CAC3B,CACF,EAAG,CAACsU,EAAakF,CAAkB,CAAC,EAK7B,CACL,uBAL0B,eAC1B,IAAMA,EAAmB,cAAcF,EAAahF,CAAW,CAAC,EAAE,KAAK,EACvE,CAACA,EAAakF,CAAkB,CAClC,EAGE,gBAAAC,CACF,CACF,C,qCCzBA,MAAMG,EAAkB30B,GAAU,CAChC,KAAM,CAAE,oBAAA40B,EAAqB,gBAAAJ,CAAgB,EAAIF,EAC/Ct0B,EAAM,MACR,EACM,CAAE,EAAAQ,CAAE,KAAI,KAAkB,GAA0B,EACpD6K,EAA0B7K,EAAlBg0B,EAAoB,qCAA0C,+BAAN,EAChE7yB,EAAK,eAAY,MAAmB3B,EAAM,MAAM,EAAE,QACtD,kBACA,GACF,CAAC,GACD,SAAuB,OACrB,IACA,CACE,MAAAqL,EACA,GAAA1J,EACA,WAAY6yB,EACZ,SAAUI,EACV,GAAG50B,CACL,CACF,CACF,C,sHCpBA,MAAMiV,KAAY,KACfvE,IAAW,CACV,SAAU,CACR,UAAW,CACT,eAAgB,WAChB,OAAQ,aAAaA,EAAM,QAAQ,MAAM,EAC3C,EACA,aAAc,CACZ,OAAQ,aAAaA,EAAM,QAAQ,MAAM,GACzC,QAASA,EAAM,QAAQ,CAAC,CAC1B,EACA,OAAQ,CACN,UAAW,aACX,SAAU,SACV,cAAe,SACf,WAAY,IACZ,OAAQ,EACR,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,GAAG,EACnC,aAAc,CAChB,EACA,OAAQ,CACN,gBAAiBA,EAAM,QAAQ,WAAW,KAC5C,EACA,OAAQ,CACN,gBAAiBA,EAAM,QAAQ,WAAW,KAC5C,EACA,sBAAuB,CACrB,gBAAiBA,EAAM,QAAQ,WAAW,OAC5C,EACA,MAAO,CACL,MAAOA,EAAM,QAAQ,IACvB,EACA,QAAS,CACP,SAAU,MACZ,CACF,CACF,GACA,CAAE,KAAM,0BAA2B,CACrC,EACMmkB,EAAU,CAAC1iB,EAAM4B,IAChBA,EACE,OAAOA,GAAU,SAAW5B,EAAO4B,EAAQ,WAAS,QAAQA,EAAM,MAAM,QAAQ,EAAE,OAAO8gB,EAAS1iB,CAAI,EAD1FA,EAGf2iB,EAAkB,CAAC,CAAE,MAAAC,EAAO,SAAAtiB,CAAS,IAAM,CAG/C,MAAMuiB,EAFgB,WAAS,QAAQviB,CAAQ,EACpB,OAAOoiB,EAAS,EAAE,EAC3B,kBAAkB,OAAO,EAAE,QAAQ,MAAO,GAAG,EAC/D,SAAO,iBAAc,IAAIE,CAAK,GAAI,CAAE,GAAIC,CAAK,EAAGviB,CAAQ,CAC1D,EACMwiB,EAAa,CACjB,KAAM,CAAC,CAAE,OAAAC,EAAQ,UAAA1jB,EAAW,SAAAiB,EAAU,GAAGzS,CAAM,IAAM,CACnD,MAAMmS,EAAO,OAAOM,CAAQ,EAAE,QAAQ,OAAQ,EAAE,EAC1C0iB,EAAQ,iBAAiB,KAAK3jB,GAAa,EAAE,EACnD,MAAO,CAAC0jB,GAAUC,KAAwB,OAAI,IAAa,CAAE,SAAUA,EAAM,CAAC,EAAG,KAAAhjB,CAAK,CAAC,KAAoB,OAAI,OAAQ,CAAE,UAAAX,EAAW,GAAGxR,EAAO,SAAAyS,CAAS,CAAC,CAC1J,EACA,GAAIqiB,EACJ,GAAIA,EACJ,GAAIA,EACJ,GAAIA,EACJ,GAAIA,EACJ,GAAIA,CACN,EACA,SAASM,EAAgBp1B,EAAO,CAC9B,KAAM,CACJ,QAAAiT,EACA,QAAAoiB,EAAU,MACV,WAAAC,EACA,iBAAAC,EACA,kBAAAC,EACA,UAAAhkB,CACF,EAAIxR,EACE2S,EAAUsC,EAAU,EAC1B,SAAuB,OACrB,IACA,CACE,cAAeogB,IAAY,MAAQ,CAAC,GAAG,EAAI,CAAC,EAC5C,UAAW,GAAG1iB,EAAQ,QAAQ,IAAInB,GAAa,EAAE,GAAG,KAAK,EACzD,SAAUyB,EACV,WAAAgiB,EACA,WAAAK,EACA,iBAAAC,EACA,kBAAAC,CACF,CACF,CACF,C,gDC3FA,MAAMC,CAAW,CACf,YAAYxtB,EAAQ,CAGlB,GAFA,KAAK,OAASA,EAEV,CADUA,EAAO,GAAG,MAAM,GAAG,EAAE,QAAS+F,GAASA,EAAK,MAAM,GAAG,CAAC,EAAE,MAAOA,GAASA,EAAK,MAAM,kBAAkB,CAAC,EAElH,MAAM,IAAI,MACR,yFAAyF/F,EAAO,EAAE,GACpG,CAEJ,CACA,IAAI,IAAK,CACP,OAAO,KAAK,OAAO,EACrB,CAEA,IAAI,GAAI,CACN,MAAM,IAAI,MAAM,6BAA6B,IAAI,EAAE,CACrD,CACA,UAAW,CACT,MAAO,UAAU,KAAK,OAAO,EAAE,GACjC,CACF,CACA,SAASytB,EAAaztB,EAAQ,CAC5B,OAAO,IAAIwtB,EAAWxtB,CAAM,CAC9B,C,oXCdA,MAAM0tB,MAAkBzgB,EAAA,GACrBxE,IAAW,CACV,KAAM,CACJ,OAAQ,OACR,MAAO,QACP,QAAS,OACT,cAAe,SACf,YAAaA,EAAM,QAAQ,CAAC,CAC9B,EACA,MAAO,CACL,WAAY,OACZ,SAAU,EACZ,EACA,OAAQ,CACN,QAAS,OACT,WAAY,SACZ,OAAQA,EAAM,QAAQ,GAAG,EACzB,eAAgB,gBAChB,aAAc,aAAaA,EAAM,QAAQ,KAAK,GAAG,CAAC,EACpD,EACA,QAAS,CACP,QAAS,OACT,cAAe,SACf,QAAS,CACP,UAAWA,EAAM,QAAQ,CAAC,CAC5B,CACF,CACF,GACA,CAAE,KAAM,uBAAwB,CAClC,EACMklB,EAAW51B,GAAU,CACzB,MAAM2S,GAAUgjB,GAAgB,EAC1B,CAAE,gBAAAE,EAAgB,EAAI71B,EACtB,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA4B,EACtD,CAACs1B,GAAiBC,EAAkB,KAAI,YAAS,CACrD,GAAG/1B,EAAM,eACX,CAAC,EACK,CAACg2B,GAAOC,EAAY,KAAI,YAAS,EAAK,EACtC7iB,GAAc,IAAM,CACxB2iB,GAAmB,CAAC,CAAC,EACrBE,GAAcC,IAAO,CAACA,EAAE,CAC1B,EACA,sBAAU,IAAM,CACdL,GAAgBC,EAAe,CACjC,EAAG,CAACA,GAAiBD,EAAe,CAAC,KACd,QAAKjgB,EAAA,EAAK,CAAE,UAAWjD,GAAQ,KAAM,SAAU,IACpD,QAAKiD,EAAA,EAAK,CAAE,UAAWjD,GAAQ,OAAQ,SAAU,IAC/C,OAAIiD,EAAA,EAAK,CAAE,UAAWjD,GAAQ,MAAO,SAAUnS,GAAE,oBAAoB,CAAE,CAAC,KACxE,OAAIO,GAAA,EAAQ,CAAE,MAAO,UAAW,QAASqS,GAAa,SAAU5S,GAAE,uBAAuB,CAAE,CAAC,CAC9G,CAAE,CAAC,KACa,OAAIoV,EAAA,EAAK,CAAE,UAAWjD,GAAQ,QAAS,SAAU3S,EAAM,SAAS,QAAUA,EAAM,QAAQ,IAAKL,OAA2B,OACtI,KACA,CACE,aAAcq2B,GACd,GAAGr2B,GAAO,QACV,SAAUm2B,GAAgBn2B,GAAO,QAAQ,KAAK,EAC9C,SAAWu2B,IAAOH,GAAmB,CACnC,GAAGD,GACH,CAACn2B,GAAO,QAAQ,KAAK,EAAGu2B,EAC1B,CAAC,CACH,EACAv2B,GAAO,QAAQ,KACjB,CAAC,CAAE,CAAC,CACN,CAAE,CAAC,CACL,E,gBCrEA,SAASw2B,GAAiBn2B,EAAO,CAC/B,SAAuB,OAAI,QAAS,CAAE,cAAe,oBAAqB,YAA0B,OAAI,KAAM,CAAE,YAA0B,OAAI,KAAM,CAAE,QAASA,EAAM,QAAS,YAA0B,OACtM4V,EAAA,EACA,CACE,GAAI,CACF,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,MAAO,OACP,UAAW,OACb,EACA,YAA0B,OAAIwgB,GAAA,EAAkB,CAAE,KAAM,MAAO,CAAC,CAClE,CACF,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CACX,CCUA,MAAMC,EAAa,CACjB,OAAK,cAAW,CAACr2B,EAAOgF,QAAwB,OAAIsxB,EAAA,EAAQ,CAAE,GAAGt2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC9E,SAAO,cAAW,CAAChF,EAAOgF,QAAwB,OAAIuxB,EAAA,EAAO,CAAE,GAAGv2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC/E,SAAO,cAAW,CAAChF,EAAOgF,QAAwB,OAAIwxB,EAAA,EAAO,CAAE,GAAGx2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC/E,UAAQ,cAAW,CAAChF,EAAOgF,QAAwB,OAAIyxB,EAAA,EAAe,CAAE,GAAGz2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACxF,eAAa,cAAW,CAAChF,EAAOgF,QAAwB,OAAI0xB,EAAA,EAAc,CAAE,GAAG12B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC5F,QAAM,cAAW,CAAChF,EAAOgF,QAAwB,OAAI2xB,EAAA,EAAM,CAAE,GAAG32B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC7E,UAAQ,cAAW,CAAChF,EAAOgF,QAAwB,OAAI4xB,EAAA,EAAS,CAAE,GAAG52B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAClF,UAAQ,cAAW,CAAChF,EAAOgF,QAAwB,OAAI6xB,EAAA,EAAY,CAAE,GAAG72B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACrF,aAAW,cAAW,CAAChF,EAAOgF,QAAwB,OAAI8xB,EAAA,EAAW,CAAE,GAAG92B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACvF,YAAU,cAAW,CAAChF,EAAOgF,QAAwB,OAAI+xB,EAAA,EAAU,CAAE,GAAG/2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACrF,YAAU,cAAW,CAAChF,EAAOgF,QAAwB,OAAI0xB,EAAA,EAAc,CAAE,GAAG12B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACzF,gBAAc,cAAW,CAAChF,EAAOgF,QAAwB,OAAIgyB,EAAA,EAAiB,CAAE,GAAGh3B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAChG,eAAa,cAAW,CAAChF,EAAOgF,QAAwB,OAAIwxB,EAAA,EAAO,CAAE,GAAGx2B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACrF,UAAQ,cAAW,CAAChF,EAAOgF,QAAwB,OAAIiyB,EAAA,EAAQ,CAAE,GAAGj3B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACjF,aAAW,cAAW,CAAChF,EAAOgF,QAAwB,OAAIkyB,EAAA,EAAa,CAAE,GAAGl3B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EACzF,mBAAiB,cAAW,CAAChF,EAAOgF,QAAwB,OAAImyB,EAAA,EAAQ,CAAE,GAAGn3B,EAAO,IAAAgF,EAAI,CAAC,CAAC,EAC1F,cAAY,cAAW,CAAChF,EAAOgF,QAAwB,OAAIoyB,EAAA,EAAY,CAAE,GAAGp3B,EAAO,IAAAgF,EAAI,CAAC,CAAC,CAC3F,EACA,SAASqyB,EAAoBrxB,EAAMsxB,GAAO,CACxC,MAAMprB,GAAOorB,GAAM,MAAM,GAAG,EAC5B,IAAIv1B,GAAQiE,EAAKkG,GAAK,CAAC,CAAC,EACxB,QAASjG,GAAI,EAAGA,GAAIiG,GAAK,OAAQ,EAAEjG,GAAG,CACpC,GAAIlE,KAAU,OACZ,OAAOA,GAET,MAAMw1B,GAAIrrB,GAAKjG,EAAC,EAChBlE,GAAQA,GAAMw1B,EAAC,CACjB,CACA,OAAOx1B,EACT,CACA,MAAMy1B,KAAqBC,EAAA,GACxB/mB,IAAW,CACV,OAAQ,CACN,QAASA,EAAM,QAAQ,EAAG,EAAG,EAAG,GAAG,EACnC,UAAW,aAAaA,EAAM,QAAQ,KAAK,IAAI,GAC/C,aAAc,aAAaA,EAAM,QAAQ,KAAK,IAAI,GAElD,WAAYA,EAAM,WAAW,eAC7B,SAAU,SACV,UAAW,SACX,cAAe,WACjB,CACF,GACA,CAAE,KAAM,sBAAuB,CACjC,EAAE,IAAY,EACRgnB,KAAsBD,EAAA,GACzB/mB,IAAW,CACV,KAAM,CACJ,QAASA,EAAM,QAAQ,EAAG,EAAG,IAAK,GAAG,CACvC,EACA,MAAO,CACL,SAAU,CACR,WAAYA,EAAM,WAAW,cAC/B,CACF,EACA,YAAa,CACX,aAAcA,EAAM,QAAQ,CAAC,CAC/B,CACF,GACA,CAAE,KAAM,uBAAwB,CAClC,EAAE,IAAa,EACT,KAAkBwE,EAAA,GACrBxE,IAAW,CACV,KAAM,CACJ,QAAS,OACT,WAAY,SACZ,eAAgB,eAClB,EACA,MAAO,CACL,WAAYA,EAAM,WAAW,eAC7B,SAAU,GACV,WAAY,QACd,CACF,GACA,CAAE,KAAM,gCAAiC,CAC3C,EACMinB,KAAiBziB,EAAA,GACrB,KAAO,CACL,KAAM,CACJ,QAAS,OACT,WAAY,OACd,CACF,GACA,CAAE,KAAM,gBAAiB,CAC3B,EACA,SAAS0iB,EAAeC,EAASnnB,GAAO,CACtC,OAAOmnB,EAAQ,IAAKC,IAAW,CAC7B,MAAM5H,GAAc4H,GAAO,aAAe,CAAC,EAC3C,IAAIC,GAAYD,GAAO,WAAa,CAAC,EACrC,GAAIA,GAAO,UAET,GADA5H,GAAY,MAAQxf,GAAM,QAAQ,aAC9B,OAAOqnB,IAAc,SACvBA,GAAU,WAAarnB,GAAM,WAAW,mBACnC,CACL,MAAMsnB,GAAcD,GACpBA,GAAY,CAAC/xB,GAAMiyB,GAASC,MAEnB,CAAE,GADKF,GAAYhyB,GAAMiyB,GAASC,EAAS,EAC/B,WAAYxnB,GAAM,WAAW,cAAe,EAEnE,CAEF,MAAO,CACL,GAAGonB,GACH,YAAA5H,GACA,UAAA6H,EACF,CACF,CAAC,CACH,CACA,SAASI,EAAoB3pB,EAAO4pB,GAAc,CAChD,SAAO,aAAU5pB,EAAO,CAAClI,GAAQvE,GAAOD,KAAQ,IACzC,WAAQC,GAAOq2B,GAAat2B,EAAG,CAAC,IACnCwE,GAAOxE,EAAG,EAAIC,GAElB,CAAC,CACH,CACA,MAAMs2B,EAAsB,CAC1B,OAAQ,GACR,YAAa,GACb,QAAS,CAAC,CACZ,EACA,SAASC,GAAaC,EAAc,CAClC,KAAM,CACJ,WAAAC,GACA,UAAAC,GACA,WAAAC,GACA,sBAAAC,GACA,cAAAC,EACF,EAAIL,EACE,CAAE,EAAA/3B,EAAE,KAAI,KAAkB,IAA4B,EACtDq4B,GAAiB,EAAgB,EACjCC,MAAkB,eACrBC,IAAe,CACdR,EAAa,gBAAgBQ,EAAU,EACvCN,GAAUM,EAAU,CACtB,EACA,CAACR,EAAcE,EAAS,CAC1B,EACA,OAAIC,MACqB,QAAK9iB,EAAA,EAAK,CAAE,UAAWijB,GAAe,KAAM,SAAU,IAC3D,QAAKjjB,EAAA,EAAK,CAAE,UAAWijB,GAAe,KAAM,SAAU,IACpD,OAAI9M,EAAA,EAAY,CAAE,QAAS6M,GAAe,aAAc,cAAe,YAA0B,OAAI/B,EAAA,EAAY,CAAC,CAAC,CAAE,CAAC,KACtH,QAAKzQ,EAAA,EAAY,CAAE,UAAWyS,GAAe,MAAO,SAAU,CAC5Er4B,GAAE,oBAAoB,EACtB,KACAm4B,GACA,GACF,CAAE,CAAC,CACL,CAAE,CAAC,KACa,OACdjB,EACA,CACE,GAAGa,EACH,IAAKC,GACL,gBAAAM,EACF,CACF,CACF,CAAE,CAAC,KAEkB,OACrBpB,EACA,CACE,GAAGa,EACH,IAAKC,GACL,gBAAAM,EACF,CACF,CACF,CACA,SAASE,GAAMh5B,EAAO,CACpB,KAAM,CACJ,KAAAgG,GACA,QAAA6xB,GACA,aAAAoB,GACA,QAAAh3B,GACA,MAAAoJ,GACA,SAAA6tB,GACA,aAAAC,GACA,QAAAC,GACA,aAAAC,GACA,cAAAC,GACA,WAAArE,GACA,UAAWle,GACX,MAAAxF,GACA,GAAG9B,EACL,EAAIzP,EACE,CAAE,EAAAQ,EAAE,KAAI,KAAkB,IAA4B,EACtD+4B,GAAe5B,EAAe,EAC9BjnB,MAAQoO,EAAA,GAAS,EACjB0a,GAAyB,CAAE,GAAGnB,EAAqB,GAAGgB,EAAa,EACnE,CAACI,EAAaC,EAAc,KAAI,YACpCF,GAAuB,WACzB,EACMZ,MAAgB,eACpB,IAAMc,GAAgB/xB,GAAM,CAACA,CAAC,EAC9B,CAAC+xB,EAAc,CACjB,EACM,CAAC5D,GAAiBC,EAAkB,KAAI,YAC5CyD,GAAuB,OACzB,EACM,CAACtlB,GAAQukB,EAAS,KAAI,YAASe,GAAuB,MAAM,KAClE,aAAU,IAAM,CACd,GAAIF,GAAe,CACjB,MAAM9qB,EAAQ2pB,EACZ,CACE,OAAAjkB,GACA,YAAAulB,EACA,QAAS3D,EACX,EACAuC,CACF,EACAiB,GAAc9qB,CAAK,CACrB,CACF,EAAG,CAAC0F,GAAQulB,EAAa3D,GAAiBwD,EAAa,CAAC,EACxD,MAAMK,MAAkB,eACrBC,GAAe/B,GAAQ,KAAM3B,GAAOA,EAAG,QAAU0D,CAAU,GAAG,MAC/D,CAAC/B,EAAO,CACV,EACMgC,MAAY,WAAQ,IAAM,CAC9B,GAAI,OAAO7zB,IAAS,YAAc,CAAC8vB,GACjC,OAAO9vB,GAET,MAAM8zB,EAAuB,OAAO,OAAOhE,EAAe,EAC1D,OAAI9vB,IAAQ8zB,EAAqB,KAAK,EAAE,OACtB9zB,GAAK,OAClBkwB,GAAO,CAAC,CAAC,OAAO,QAAQJ,EAAe,EAAE,OAAO,CAAC,CAAC,CAAE/zB,CAAK,IAAM,CAAC,CAACA,EAAM,MAAM,EAAE,MAAM,CAAC,CAACD,EAAKi4B,EAAW,IAAM,CAC5G,MAAMC,GAAa3C,EACjBnB,EACAyD,GAAgB73B,CAAG,CACrB,EACA,OAAI,MAAM,QAAQk4B,EAAU,GAAK,MAAM,QAAQD,EAAW,EACjDC,GAAW,KAAMryB,IAAMoyB,GAAY,SAASpyB,EAAC,CAAC,EAC5C,MAAM,QAAQqyB,EAAU,EAC1BA,GAAW,SAASD,EAAW,EAC7B,MAAM,QAAQA,EAAW,EAC3BA,GAAY,SAASC,EAAU,EAEjCA,KAAeD,EACxB,CAAC,CACH,EAGK/zB,EACT,EAAG,CAACA,GAAM8vB,GAAiB6D,EAAe,CAAC,EACrChB,GAAwB,OAAO,OAAO7C,EAAe,EAAE,KAAK,EAAE,OAC9D4C,GAAa,CAAC,CAACU,IAAS,OACxBa,MAAU,eACb1B,MACwB,OACrBD,GACA,CACE,UAAAG,GACA,WAAAC,GACA,sBAAAC,GACA,cAAAC,GACA,GAAGL,CACL,CACF,EAEF,CAACK,GAAeF,GAAYC,GAAuBF,EAAS,CAC9D,EACMyB,GAAY,OAAOl0B,IAAS,YAAcA,GAAK,SAAW,EAC1Dm0B,GAActC,GAAQ,OACtBuC,MAAO,WACX,IAAMC,GAAS,CAAE,UAAAH,GAAW,aAAAjB,GAAc,YAAAkB,GAAa,QAAApjB,EAAQ,CAAC,EAChE,CAACmjB,GAAWjB,GAAckB,GAAapjB,EAAO,CAChD,EACA,SAAuB,QAAKnB,EAAA,EAAK,CAAE,UAAW2jB,GAAa,KAAM,SAAU,CACzEE,GAAezzB,IAAQ,OAAOA,IAAS,YAAcozB,IAAS,WAA0B,OACtFxD,EACA,CACE,QAAS0E,GAAiBlB,GAASpzB,GAAM6xB,GAASr3B,EAAC,EACnD,gBAAAs1B,GACA,gBAAiBC,EACnB,CACF,KACgB,OACd,KACA,CACE,WAAY,CACV,OAAQyB,EACR,KAAA4C,GACA,QAAAH,GACA,GAAGhF,EACL,EACA,QAAAhzB,GACA,QAAS21B,EAAeC,GAASnnB,EAAK,EACtC,MAAO2lB,EACP,SAAuB,QAAK,WAAU,CAAE,SAAU,IAChC,OAAIjQ,EAAA,EAAY,CAAE,QAAS,KAAM,UAAW,KAAM,SAAU/a,EAAM,CAAC,EACnF6tB,OAA4B,OAAI9S,EAAA,EAAY,CAAE,MAAO,gBAAiB,QAAS,QAAS,SAAU8S,EAAS,CAAC,CAC9G,CAAE,CAAC,EACH,KAAMW,GACN,MAAO,CAAE,MAAO,OAAQ,GAAGtoB,EAAM,EACjC,aAAc,CACZ,GAAG4nB,GACH,KAAM,CACJ,uBAAwB34B,GAAE,mCAAmC,EAC7D,GAAG24B,IAAc,IACnB,EACA,WAAY,CACV,aAAc34B,GAAE,+BAA+B,EAC/C,mBAAoBA,GAAE,qCAAqC,EAC3D,gBAAiBA,GAAE,kCAAkC,EACrD,YAAaA,GAAE,8BAA8B,EAC7C,YAAaA,GAAE,8BAA8B,EAC7C,gBAAiBA,GAAE,kCAAkC,EACrD,GAAG24B,IAAc,UACnB,EACA,QAAS,CACP,kBAAmB34B,GAAE,sBAAsB,EAC3C,cAAeA,GAAE,sBAAsB,EACvC,GAAG24B,IAAc,OACnB,CACF,EACA,GAAG1pB,EACL,CACF,CACF,CAAE,CAAC,CACL,CACAupB,GAAM,MAAQ,OAAO,OAAO3C,CAAU,EACtC,SAASgE,GAAS,CAChB,YAAAF,EACA,aAAAlB,GACA,UAAAiB,GACA,QAAAnjB,EACF,EAAG,CACD,OAAQwjB,IACFxjB,MACqB,OAAIof,GAAkB,CAAE,QAASgE,CAAY,CAAC,EAEnElB,IAAgBiB,MACK,OAAI,QAAS,CAAE,YAA0B,OAAI,KAAM,CAAE,YAA0B,OAAI,KAAM,CAAE,QAASC,EAAa,SAAUlB,EAAa,CAAC,CAAE,CAAC,CAAE,CAAC,KAEjJ,OAAI,KAAY,CAAE,GAAGsB,EAAU,CAAC,CAE3D,CACA,SAASD,GAAiBE,EAAcC,GAAW5C,GAASr3B,GAAG,CAC7D,MAAMk6B,GAAyBpD,IAAU,CACvC,MAAMqD,GAAiC,IAAI,IACrCC,GAAY74B,IAAU,CACFA,IAAU,MAChC44B,GAAe,IAAI54B,EAAK,CAE5B,EACA,OAAI04B,IACFA,GAAU,QAASvE,IAAO,CACxB,MAAMn0B,GAAQs1B,EACZnB,GACA2B,GAAQ,KAAMn1B,IAAMA,GAAE,QAAU40B,EAAK,GAAG,KAC1C,EACI,MAAM,QAAQv1B,EAAK,EACrBA,GAAM,QAAQ64B,EAAQ,EAEtBA,GAAS74B,EAAK,CAElB,CAAC,EAEI44B,EACT,EACME,GAAmBl7B,KAChB,CACL,YAAaa,GAAE,0BAA0B,EACzC,MAAOb,GAAO,OACd,SAAUA,GAAO,OAAS,kBAC1B,MAAO,CAAC,GAAG+6B,GAAsB/6B,GAAO,MAAM,CAAC,EAAE,KAAK,EAAE,IAAKoC,KAAW,CACtE,MAAOA,GACP,MAAAA,EACF,EAAE,CACJ,GAEF,OAAOy4B,EAAa,IAAK76B,KAAY,CACnC,KAAMA,GAAO,KACb,QAASk7B,GAAgBl7B,EAAM,CACjC,EAAE,CACJ,C,wEChZA,MAAMm7B,CAAyB,CAU7B,OAAO,yBAAyB/4B,EAAOg5B,EAAWC,EAAeC,EAAe,CAC9E,GAAI,OAAOl5B,GAAU,SACnB,MAAO,GAET,MAAM6F,EAAQ7F,EAAM,MAAMg5B,CAAS,EACnC,OAAInzB,EAAM,SAAW,EACZqzB,EAAcrzB,EAAM,CAAC,CAAC,EACpBA,EAAM,SAAW,EACnBozB,EAAcpzB,EAAM,CAAC,CAAC,GAAKqzB,EAAcrzB,EAAM,CAAC,CAAC,EAEnD,EACT,CAMA,OAAO,WAAW7F,EAAO,CACvB,GAAI,CACF,OAAO,YAAeA,EAAO,KAAK,MAAM,KAAK,UAAUA,CAAK,CAAC,CAAC,CAChE,MAAQ,CACN,MAAO,EACT,CACF,CAOA,OAAO,oBAAoBA,EAAO,CAChC,OAAO,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,KAAOA,EAAM,MAAM,GAAG,EAAE,MAAM+4B,EAAyB,eAAe,CACjJ,CAOA,OAAO,gBAAgB/4B,EAAO,CAC5B,OAAO,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,IAAM,+BAA+B,KAAKA,CAAK,CAC1H,CAOA,OAAO,WAAWA,EAAO,CACvB,OAAO,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,IAAM,gCAAgC,KAAKA,CAAK,CAC3H,CAMA,OAAO,WAAWA,EAAO,CACvB,GAAI,OAAOA,GAAU,SACnB,MAAO,GAET,GAAI,CACF,WAAI,IAAIA,CAAK,EACN,EACT,MAAQ,CACN,MAAO,EACT,CACF,CAOA,OAAO,cAAcA,EAAO,CAC1B,OAAO,OAAOA,GAAU,UAAYA,GAAO,KAAK,GAAG,QAAU,CAC/D,CAMA,OAAO,iBAAiBA,EAAO,CAC7B,OAAO,OAAOA,GAAU,UAAYA,GAAO,KAAK,GAAG,QAAU,CAC/D,CACF,CC9FA,MAAMm5B,CAA6B,CACjC,OAAO,kBAAkBn5B,EAAO,CAC9B,OAAO+4B,EAAyB,yBAC9B/4B,EACA,IACA+4B,EAAyB,oBACxBK,GAAMA,EAAE,QAAU,GAAKA,EAAE,QAAU,IAAM,iBAAiB,KAAKA,CAAC,CACnE,CACF,CACA,OAAO,YAAYp5B,EAAO,CACxB,OAAO,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,IAAM,yBAAyB,KAAKA,CAAK,CACpH,CACA,OAAO,kBAAkBA,EAAO,CAC9B,OAAO,OAAOA,GAAU,UAAYA,EAAM,QAAU,GAAKA,EAAM,QAAU,IAAM,6CAA6C,KAAKA,CAAK,CACxI,CACA,OAAO,iBAAiBA,EAAO,CAC7B,OAAO+4B,EAAyB,gBAAgB/4B,CAAK,CACvD,CACA,OAAO,gBAAgBA,EAAO,CAC5B,OAAO+4B,EAAyB,yBAC9B/4B,EACA,IACA+4B,EAAyB,oBACzBI,EAA6B,iBAC/B,CACF,CACA,OAAO,kBAAkBn5B,EAAO,CAC9B,OAAOA,IAAU,IAAMm5B,EAA6B,kBAAkBn5B,CAAK,CAC7E,CACA,OAAO,qBAAqBA,EAAO,CACjC,OAAO+4B,EAAyB,yBAC9B/4B,EACA,IACA+4B,EAAyB,oBACzBI,EAA6B,iBAC/B,CACF,CACA,OAAO,uBAAuBn5B,EAAO,CACnC,OAAO,OAAOA,GAAU,QAC1B,CACF,C,+DCxCA,MAAMq5B,KAAgB,KAAa,CACjC,GAAI,wBACN,CAAC,C,+DCFD,MAAMC,KAA2B,KAAqB,CACpD,GAAI,aACJ,SAAU,CACR,YAAa,CACX,MAAO,oBACP,UAAW,yBACX,SAAU,kDACV,QAAS,CACP,WAAY,CACV,MAAO,4BACP,YAAa,kFACf,EACA,uBAAwB,sBAC1B,EACA,OAAQ,CACN,MAAO,QACP,OAAQ,SACR,SAAU,UACZ,CACF,EACA,OAAQ,CACN,iBAAkB,CAChB,MAAO,OACP,YAAa,8BACf,EACA,aAAc,CACZ,MAAO,SACP,YAAa,4BACf,EACA,iBAAkB,CAChB,MAAO,OACP,YAAa,sHACf,EACA,eAAgB,CACd,MAAO,SACP,YAAa,4BACf,EACA,kBAAmB,CACjB,MAAO,SACP,YAAa,4BACf,EACA,YAAa,CACX,MAAO,QACP,YAAa,4BACf,EACA,gBAAiB,CACf,aAAc,CACZ,MAAO,eACP,YAAa,gDACf,EACA,QAAS,CACP,MAAO,UACP,YAAa,2CACf,CACF,EACA,oBAAqB,CACnB,WAAY,CACV,MAAO,qBACP,WAAY,aACZ,YAAa,6CACf,EACA,QAAS,CACP,MAAO,mBACP,WAAY,WACZ,YAAa,2CACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,QACP,YAAa,qCACf,EACA,OAAQ,CACN,MAAO,SACP,YAAa,iDACf,CACF,EACA,gBAAiB,CACf,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,kIACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,iEACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,mIACf,CACF,EACA,cAAe,CACb,KAAM,CACJ,MAAO,OACP,YAAa,+CACf,EACA,WAAY,CACV,MAAO,yBACP,WAAY,aACZ,YAAa,4BACf,CACF,CACF,EACA,aAAc,CACZ,MAAO,sBACP,UAAW,kBACX,SAAU,mCACV,QAAS,CACP,WAAY,CACV,MAAO,4BACP,YAAa,sEACf,EACA,WAAY,QACZ,UAAW,CACT,OAAQ,UACR,SAAU,WACV,QAAS,UACT,MAAO,QACP,OAAQ,QACV,CACF,CACF,EACA,gBAAiB,CACf,MAAO,aACP,QAAS,CACP,MAAO,QACP,IAAK,KACP,CACF,EACA,YAAa,CACX,MAAO,SACP,UAAW,CACT,gBAAiB,0BACjB,eAAgB,gBAClB,EACA,SAAU,kBACV,kBAAmB,SACnB,iBAAkB,QAClB,qBAAsB,aACtB,oBAAqB,YACrB,oBAAqB,YACrB,YAAa,CACX,SAAU,YACV,SAAU,YACV,cAAe,kBACf,MAAO,QACP,cAAe,kBACf,UAAW,aACX,OAAQ,QACV,CACF,EACA,mBAAoB,CAClB,QAAS,CACP,UAAW,0DACb,CACF,EACA,aAAc,CACZ,UAAW,CACT,KAAM,OACN,MAAO,QACP,YAAa,cACb,KAAM,MACR,EACA,UAAW,mBACb,EACA,mBAAoB,CAClB,MAAO,YACT,EACA,kBAAmB,CACjB,MAAO,mBACP,SAAU,gEACZ,EACA,iBAAkB,CAChB,MAAO,kBACP,SAAU,4CACZ,EACA,wBAAyB,CACvB,MAAO,wBACP,SAAU,0CACZ,EACA,mBAAoB,CAClB,MAAO,kBACP,SAAU,0DACV,cAAe,CACb,MAAO,iBACT,EACA,kBAAmB,CACjB,MAAO,sBACP,oBAAqB,mBACrB,kBAAmB,eACrB,EACA,kBAAmB,CACjB,IAAK,CACH,MAAO,QACP,IAAK,MACL,OAAQ,QACV,CACF,EACA,kBAAmB,CACjB,iBAAkB,SACpB,EACA,oBAAqB,CACnB,iBAAkB,gCAClB,UAAW,CACT,MAAO,gBACP,iBAAkB,OACpB,EACA,aAAc,CACZ,MAAO,eACT,EACA,QAAS,CACP,MAAO,eACT,CACF,EACA,sBAAuB,CACrB,oBAAqB,6CACrB,gBAAiB,iBACjB,kBAAmB,mBACnB,iBAAkB,iBACpB,EACA,oBAAqB,CACnB,MAAO,mDACP,UAAW,CACT,MAAO,0B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","sources":["webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/utils/getEntityRelations.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/DeleteEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/EntityOrphanWarning.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/globalObject.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/createScaffolderFieldExtension.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/api.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionDataRef.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/frontend-internal/src/wiring/createExtensionDataContainer.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/resolveInputOverrides.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/schema/createSchemaFromZod.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/opaque-internal/src/OpaqueType.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/frontend-internal/src/wiring/InternalExtensionDefinition.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtension.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionBlueprint.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/blueprints/ApiBlueprint.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionInput.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/blueprints/FormDecoratorBlueprint.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/alpha/api/FormDecoratorsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/ExternalRouteRef.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/components/helpers.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedValue.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/GitHub.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureRepoApiClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureDevops.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/serialization/error.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/OwnerPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Items.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/localStorage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Page.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/makeValidator.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/EntityTagsPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchPagination/SearchPagination.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/StarredEntitiesApi/StarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/useTranslationRef.esm.js","webpack://app/../../node_modules/@backstage/cli/config/webpack-public-path.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/addons.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuthApi.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Breadcrumbs/Breadcrumbs.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLinks.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/config.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/ApiDefinitionCard/ApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Content/Content.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ContentHeader/ContentHeader.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ItemCard/ItemCardGrid.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/EntityPicker.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/PluginErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/extensions.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/useApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/EntityKindIcon.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/AncestryPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/common.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/ColocatedPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/util.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/JsonPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/OverviewPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/YamlPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/InspectEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/useUnregisterEntityDialogState.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/UnregisterEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/UnregisterEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/context/EntityContextMenuContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/EntityContextMenu.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityLayout/EntityLayout.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/utils.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/AnalyticsContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/InfoCard/InfoCard.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/MultiEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/FavoriteToggle/FavoriteToggle.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ErrorApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/BottomLink/BottomLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/BitbucketRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/DefaultRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/GitHubRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/RepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useStarredEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/FavoriteEntity/FavoriteEntity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/MarkdownContent/MarkdownContent.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/ApiRef.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Filters.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/TableLoadingBody.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Table.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/CommonValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/KubernetesValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/config.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/alpha/api/ref.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CopyTextButton/CopyTextButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/MissingAnnotationEmptyState/MissingAnnotationEmptyState.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/auth.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesBackendClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesProxyClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/GoogleKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/ServerSideAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/OidcKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/AksKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/KubernetesAuthProviders.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/AksClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/EksClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/GkeClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/StandardClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/OpenshiftClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/RancherClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesClusterLinkFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchBar/SearchBar.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AlertApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/MyGroupsPicker.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/OAuthRequestApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/useUserProfileInfo.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/AzureRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/BitbucketRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GerritRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GiteaRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GithubRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GitlabRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerHost.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerRepoName.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLink.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebar.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Bar.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/DefaultResultListItem/DefaultResultListItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/apis/PermissionApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/EntitySwitch.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/MicDrop.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/StackDetails.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/ErrorPage.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/schema/openapi/generated/pluginId.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/schema/openapi/generated/apis/Api.client.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/CatalogClient.esm.js","webpack://app/../../node_modules/@backstage/types/dist/time.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/defaults.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/migration.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderTabs/HeaderTabs.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/util.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/InternalAppContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityDisplayName/EntityDisplayName.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useUpdatingObservable.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/auth.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useKubernetesObjects.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useMatchingErrors.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ErrorReporting/ErrorReporting.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/util/response.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/PodNamesWithErrors.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/GroupedResponses.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodExecTerminalEnabled.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/resources.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDialog/KubernetesDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodExecTerminalSupported.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminalAttachAddon.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminal.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminalDialog.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ProgressBars/Gauge.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ProgressBars/LinearGauge.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ResourceUtilization/ResourceUtilization.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DismissableBanner/DismissableBanner.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/usePodLogs.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/PodLogs.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/PodLogsDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/ContainerCard.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/ManifestYaml.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/KubernetesDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDelete/usePodDelete.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDelete/PodDeleteButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/PendingPodContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/Events/useEvents.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/Events/Events.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/FixDialog/FixDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/ErrorList/ErrorList.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/usePodMetrics.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodDeleteEnabled.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/PodDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/Cluster.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/pod.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodsTable.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DeploymentsAccordions/DeploymentDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/owner.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DeploymentsAccordions/DeploymentsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/StatefulSetsAccordions/StatefulSetDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/StatefulSetsAccordions/StatefulSetsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/IngressesAccordions/IngressDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/IngressesAccordions/IngressesAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ServicesAccordions/ServiceDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ServicesAccordions/ServicesAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/JobsAccordions/JobsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/JobsAccordions/JobsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CronJobsAccordions/CronJobsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/crons.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CronJobsAccordions/CronJobsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/RolloutDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/StepsProgress.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/Rollout.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/DefaultCustomResourceDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/DefaultCustomResource.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/CustomResources.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DaemonSetsAccordions/DaemonSetsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DaemonSetsAccordions/DaemonSetsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Cluster/Cluster.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/common.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/pods.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/deployments.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/hpas.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/error-detection.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/permissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/alpha/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/RequireKubernetesPermissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/KubernetesContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/catalog-entity-constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/Router.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/icons/PendingIcon.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/icons/RunningIcon.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/icons/AbortedIcon.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/Status.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/Tracker.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/SubvalueCell.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/plugin/Plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/HighlightedSearchResultText/HighlightedSearchResultText.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isReactRouterBeta.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/useAnalytics.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/humanize.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ConfigApi.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppRouter.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/constants.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/AwsS3Integration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/AwsCodeCommitIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureUrl.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/BitbucketCloudIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/BitbucketIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/BitbucketServerIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/GerritIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/GiteaIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/HarnessIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azureBlobStorage/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azureBlobStorage/AzureBlobStorageIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/ScmIntegrations.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmIntegrationsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntityPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/Settings.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/alpha/translation.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/GithubIntegration.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarGroup.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/LoginRequestListItem.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/OAuthRequestDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/types.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FlatRoutes.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/DiscoveryApi.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CodeSnippet/CodeSnippet.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/validation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/TabbedLayout/RoutedTabs.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchResult/SearchResult.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ExpandableNavigation/ExpandableNavigation.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/IssueLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/ReportIssueContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/ReportIssue.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/TextSize/TextSize.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/LightBox/LightBox.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/client.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderLabel/HeaderLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarPinStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyStateImage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyState.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorBoundary/ErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/context.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/LogViewer.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/assertion.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/StructuredMetadataTable/MetadataTable.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/StructuredMetadataTable/StructuredMetadataTable.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppThemeApi.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/hooks/useSupportConfig.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/status.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityProcessingErrorsPanel/EntityProcessingErrorsPanel.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/components/ScaffolderField/ScaffolderField.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/serialization/response.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/ResponseError.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-common/dist/permissions.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRef.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/node_modules/uuid/dist/esm-browser/native.js","webpack://app/../../node_modules/@backstage/plugin-search-react/node_modules/uuid/dist/esm-browser/rng.js","webpack://app/../../node_modules/@backstage/plugin-search-react/node_modules/uuid/dist/esm-browser/stringify.js","webpack://app/../../node_modules/@backstage/plugin-search-react/node_modules/uuid/dist/esm-browser/v4.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.Autocomplete.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/DiscoveryApi/UrlPatternDiscovery.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/DiscoveryApi/FrontendHostDiscovery.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/subjects.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AlertApi/AlertApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AnalyticsApi/NoOpAnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorAlerter.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/UnhandledErrorForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/StorageApi/WebStorage.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/createFetchApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/IdentityAuthInjectorFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/PluginProtocolResolverFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/FetchMiddlewares.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthPendingRequests.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthRequestManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/loginPopup.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthConnector/DefaultAuthConnector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/common.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/SessionStateTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/oauth2/OAuth2.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/google/GoogleAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/microsoft/MicrosoftAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/github/GithubAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/okta/OktaAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/gitlab/GitlabAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/onelogin/OneLoginAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucket/BitbucketAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucketServer/BitbucketServerAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/atlassian/AtlassianAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/vmwareCloud/VMwareCloudAuth.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/node_modules/uuid/dist/esm-browser/native.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/node_modules/uuid/dist/esm-browser/rng.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/node_modules/uuid/dist/esm-browser/stringify.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/node_modules/uuid/dist/esm-browser/v4.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/PermissionClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/apis/IdentityPermissionApi.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/apis.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/components.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/icons.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/UnifiedThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/palettes.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/pageTheme.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/createBaseThemeOptions.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/v5/defaultComponentThemes.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/overrides.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/UnifiedTheme.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/themes.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/themes.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiAggregator.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiFactoryRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppThemeApi/AppThemeSelector.esm.js","webpack://app/../../node_modules/@backstage/config/dist/reader.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/extensions/traversal.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/plugins/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FeatureFlagged.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RoutingProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/validation.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/startCookieAuthRefresh.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/AppIdentityProxy.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/defaultConfigLoader.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/resolveRouteBindings.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/TranslationApi/I18nextTranslationApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/overrideBaseUrlConfigs.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isProtectedApp.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/createSpecializedApp.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/createApp.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/components/RequirePermission.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenuItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/components/MyGroupsSidebarItem/MyGroupsSidebarItem.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Link/Link.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/keys.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenu.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuth.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRefParams.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/useElementFilter.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarOpenStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/AlertDisplay/AlertDisplay.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/RouteRef.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/validation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityRelationWarning/EntityRelationWarning.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/ref.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Header/Header.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/EntityNamePicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/createPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultNode.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/constants.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Node.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Edge.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DependencyGraph.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/ClosedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/OpenedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/Select.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Page/Page.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/utils.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/StorageApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Accordion.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Tabs.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/conditions.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/componentData.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/hooks.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/GitLabIntegration.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FeatureFlagsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/apis.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LinkButton/LinkButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/General/UserSettingsSignInAvatar.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/TranslationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/context/SearchContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/SubRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebarContext.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/CustomErrorBase.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/common.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/GuestUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/LegacyUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/UserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/styles.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/commonProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/ProxiedSignInIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/guestProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/customProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/IdentityApiSignOutProxy.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/providers.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/SignInPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/config.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppLanguageApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/hooks/usePermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/EntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/icons/icons.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/IdentityApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FetchApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/app/useApp.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/VirtualizedListbox.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/defaultEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Progress/Progress.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/kinds/relations.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/secrets/SecretsContext.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/annotation.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/WarningPanel/WarningPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ResponseErrorPanel/ResponseErrorPanel.esm.js"],"sourcesContent":["import { parseEntityRef } from '@backstage/catalog-model';\n\nfunction getEntityRelations(entity, relationType, filter) {\n  let entityNames = entity?.relations?.filter((r) => r.type === relationType).map((r) => parseEntityRef(r.targetRef)) || [];\n  if (filter?.kind) {\n    entityNames = entityNames.filter(\n      (e) => e.kind.toLocaleLowerCase(\"en-US\") === filter.kind.toLocaleLowerCase(\"en-US\")\n    );\n  }\n  return entityNames;\n}\n\nexport { getEntityRelations };\n//# sourceMappingURL=getEntityRelations.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { useState } from 'react';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { assertError } from '@backstage/errors';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction DeleteEntityDialog(props) {\n  const { open, onClose, onConfirm, entity } = props;\n  const [busy, setBusy] = useState(false);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const onDelete = async () => {\n    setBusy(true);\n    try {\n      const uid = entity.metadata.uid;\n      await catalogApi.removeEntityByUid(uid);\n      onConfirm();\n    } catch (err) {\n      assertError(err);\n      alertApi.post({ message: err.message });\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /* @__PURE__ */ jsxs(Dialog, { open, onClose, children: [\n    /* @__PURE__ */ jsx(DialogTitle, { id: \"responsive-dialog-title\", children: t(\"deleteEntity.dialogTitle\") }),\n    /* @__PURE__ */ jsxs(DialogActions, { children: [\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: busy,\n          onClick: onDelete,\n          children: t(\"deleteEntity.deleteButtonTitle\")\n        }\n      ),\n      /* @__PURE__ */ jsx(Button, { onClick: onClose, color: \"primary\", children: t(\"deleteEntity.cancelButtonTitle\") })\n    ] })\n  ] });\n}\n\nexport { DeleteEntityDialog };\n//# sourceMappingURL=DeleteEntityDialog.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { DeleteEntityDialog } from './DeleteEntityDialog.esm.js';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes.esm.js';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction isOrphan(entity) {\n  return entity?.metadata?.annotations?.[\"backstage.io/orphan\"] === \"true\";\n}\nfunction EntityOrphanWarning() {\n  const navigate = useNavigate();\n  const catalogLink = useRouteRef(rootRouteRef);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const { entity } = useEntity();\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(catalogLink());\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Alert, { severity: \"warning\", onClick: () => setConfirmationDialogOpen(true), children: t(\"deleteEntity.description\") }),\n    /* @__PURE__ */ jsx(\n      DeleteEntityDialog,\n      {\n        open: confirmationDialogOpen,\n        entity,\n        onConfirm: cleanUpAfterRemoval,\n        onClose: () => setConfirmationDialogOpen(false)\n      }\n    )\n  ] });\n}\n\nexport { EntityOrphanWarning, isOrphan };\n//# sourceMappingURL=EntityOrphanWarning.esm.js.map\n","function getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nexport { getOrCreateGlobalSingleton };\n//# sourceMappingURL=globalObject.esm.js.map\n","import { attachComponentData } from '@backstage/core-plugin-api';\nimport { FIELD_EXTENSION_WRAPPER_KEY, FIELD_EXTENSION_KEY } from './keys.esm.js';\n\nfunction createScaffolderFieldExtension(options) {\n  return {\n    expose() {\n      const FieldExtensionDataHolder = () => null;\n      attachComponentData(\n        FieldExtensionDataHolder,\n        FIELD_EXTENSION_KEY,\n        options\n      );\n      return FieldExtensionDataHolder;\n    }\n  };\n}\nconst ScaffolderFieldExtensions = () => null;\nattachComponentData(\n  ScaffolderFieldExtensions,\n  FIELD_EXTENSION_WRAPPER_KEY,\n  true\n);\n\nexport { ScaffolderFieldExtensions, createScaffolderFieldExtension };\n//# sourceMappingURL=createScaffolderFieldExtension.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\nimport qs from 'qs';\nimport ObservableImpl from 'zen-observable';\n\nclass ScaffolderClient {\n  discoveryApi;\n  scmIntegrationsApi;\n  fetchApi;\n  identityApi;\n  useLongPollingLogs;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi ?? { fetch };\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.useLongPollingLogs = options.useLongPollingLogs ?? false;\n    this.identityApi = options.identityApi;\n  }\n  async listTasks(options) {\n    if (!this.identityApi) {\n      throw new Error(\n        \"IdentityApi is not available in the ScaffolderClient, please pass through the IdentityApi to the ScaffolderClient constructor in order to use the listTasks method\"\n      );\n    }\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const { userEntityRef } = await this.identityApi.getBackstageIdentity();\n    const query = qs.stringify({\n      createdBy: options.filterByOwnership === \"owned\" ? userEntityRef : void 0,\n      limit: options.limit,\n      offset: options.offset\n    });\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/tasks?${query}`);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async getIntegrationsList(options) {\n    const integrations = [\n      ...this.scmIntegrationsApi.azure.list(),\n      ...this.scmIntegrationsApi.bitbucket.list().filter(\n        (item) => !this.scmIntegrationsApi.bitbucketCloud.byHost(item.config.host) && !this.scmIntegrationsApi.bitbucketServer.byHost(item.config.host)\n      ),\n      ...this.scmIntegrationsApi.bitbucketCloud.list(),\n      ...this.scmIntegrationsApi.bitbucketServer.list(),\n      ...this.scmIntegrationsApi.gerrit.list(),\n      ...this.scmIntegrationsApi.gitea.list(),\n      ...this.scmIntegrationsApi.github.list(),\n      ...this.scmIntegrationsApi.gitlab.list()\n    ].map((c) => ({ type: c.type, title: c.title, host: c.config.host })).filter((c) => options.allowedHosts.includes(c.host));\n    return {\n      integrations\n    };\n  }\n  async getTemplateParameterSchema(templateRef) {\n    const { namespace, kind, name } = parseEntityRef(templateRef, {\n      defaultKind: \"template\"\n    });\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const templatePath = [namespace, kind, name].map((s) => encodeURIComponent(s)).join(\"/\");\n    const url = `${baseUrl}/v2/templates/${templatePath}/parameter-schema`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const schema = await response.json();\n    return schema;\n  }\n  async scaffold(options) {\n    const { templateRef, values, secrets = {} } = options;\n    const url = `${await this.discoveryApi.getBaseUrl(\"scaffolder\")}/v2/tasks`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        templateRef,\n        values: { ...values },\n        secrets\n      })\n    });\n    if (response.status !== 201) {\n      const status = `${response.status} ${response.statusText}`;\n      const body = await response.text();\n      throw new Error(`Backend request failed, ${status} ${body.trim()}`);\n    }\n    const { id } = await response.json();\n    return { taskId: id };\n  }\n  async getTask(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  streamLogs(options) {\n    if (this.useLongPollingLogs) {\n      return this.streamLogsPolling(options);\n    }\n    return this.streamLogsEventStream(options);\n  }\n  async dryRun(options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/dry-run`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        template: options.template,\n        values: options.values,\n        secrets: options.secrets,\n        directoryContents: options.directoryContents\n      })\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  streamLogsEventStream({\n    isTaskRecoverable,\n    taskId,\n    after\n  }) {\n    return new ObservableImpl((subscriber) => {\n      const params = new URLSearchParams();\n      if (after !== void 0) {\n        params.set(\"after\", String(Number(after)));\n      }\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then(\n        (baseUrl) => {\n          const url = `${baseUrl}/v2/tasks/${encodeURIComponent(\n            taskId\n          )}/eventstream`;\n          const processEvent = (event) => {\n            if (event.data) {\n              try {\n                subscriber.next(JSON.parse(event.data));\n              } catch (ex) {\n                subscriber.error(ex);\n              }\n            }\n          };\n          const ctrl = new AbortController();\n          void fetchEventSource(url, {\n            fetch: this.fetchApi.fetch,\n            signal: ctrl.signal,\n            onmessage(e) {\n              if (e.event === \"log\") {\n                processEvent(e);\n                return;\n              } else if (e.event === \"completion\" && !isTaskRecoverable) {\n                processEvent(e);\n                subscriber.complete();\n                ctrl.abort();\n                return;\n              }\n              processEvent(e);\n            },\n            onerror(err) {\n              subscriber.error(err);\n            }\n          });\n        },\n        (error) => {\n          subscriber.error(error);\n        }\n      );\n    });\n  }\n  streamLogsPolling({\n    taskId,\n    after: inputAfter\n  }) {\n    let after = inputAfter;\n    return new ObservableImpl((subscriber) => {\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then(async (baseUrl) => {\n        while (!subscriber.closed) {\n          const url = `${baseUrl}/v2/tasks/${encodeURIComponent(\n            taskId\n          )}/events?${qs.stringify({ after })}`;\n          const response = await this.fetchApi.fetch(url);\n          if (!response.ok) {\n            await new Promise((resolve) => setTimeout(resolve, 1e3));\n            continue;\n          }\n          const logs = await response.json();\n          for (const event of logs) {\n            after = Number(event.id);\n            subscriber.next(event);\n            if (event.type === \"completion\") {\n              subscriber.complete();\n              return;\n            }\n          }\n        }\n      });\n    });\n  }\n  async listActions() {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/actions`);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async listTemplatingExtensions() {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await this.fetchApi.fetch(\n      `${baseUrl}/v2/template-extensions`\n    );\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  async cancelTask(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/cancel`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async retry(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/retry`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async autocomplete({\n    token,\n    resource,\n    provider,\n    context\n  }) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/autocomplete/${provider}/${resource}`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        token,\n        context: context ?? {}\n      })\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { results } = await response.json();\n    return { results };\n  }\n}\n\nexport { ScaffolderClient };\n//# sourceMappingURL=api.esm.js.map\n","function createExtensionDataRef() {\n  const createRef = (refId) => Object.assign(\n    (value) => ({\n      $$type: \"@backstage/ExtensionDataValue\",\n      id: refId,\n      value\n    }),\n    {\n      id: refId,\n      $$type: \"@backstage/ExtensionDataRef\",\n      config: {},\n      optional() {\n        return {\n          ...this,\n          config: { ...this.config, optional: true }\n        };\n      },\n      toString() {\n        const optional = Boolean(this.config.optional);\n        return `ExtensionDataRef{id=${refId},optional=${optional}}`;\n      }\n    }\n  );\n  return {\n    with(options) {\n      return createRef(options.id);\n    }\n  };\n}\n\nexport { createExtensionDataRef };\n//# sourceMappingURL=createExtensionDataRef.esm.js.map\n","function createExtensionDataContainer(values, declaredRefs) {\n  const container = /* @__PURE__ */ new Map();\n  const verifyRefs = declaredRefs && new Map(declaredRefs.map((ref) => [ref.id, ref]));\n  for (const output of values) {\n    if (verifyRefs) {\n      if (!verifyRefs.delete(output.id)) {\n        throw new Error(\n          `extension data '${output.id}' was provided but not declared`\n        );\n      }\n    }\n    container.set(output.id, output);\n  }\n  const remainingRefs = verifyRefs && Array.from(verifyRefs.values()).filter((ref) => !ref.config.optional);\n  if (remainingRefs && remainingRefs.length > 0) {\n    throw new Error(\n      `missing required extension data value(s) '${remainingRefs.map((ref) => ref.id).join(\", \")}'`\n    );\n  }\n  return {\n    get(ref) {\n      return container.get(ref.id)?.value;\n    },\n    [Symbol.iterator]() {\n      return container.values();\n    }\n  };\n}\n\nexport { createExtensionDataContainer };\n//# sourceMappingURL=createExtensionDataContainer.esm.js.map\n","import { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\nimport '../frontend-internal/src/wiring/InternalExtensionDefinition.esm.js';\nimport '../frontend-internal/src/wiring/InternalFrontendPlugin.esm.js';\n\nfunction expectArray(value) {\n  return value;\n}\nfunction expectItem(value) {\n  return value;\n}\nfunction resolveInputOverrides(declaredInputs, inputs, inputOverrides) {\n  if (!declaredInputs || !inputs || !inputOverrides) {\n    return inputs;\n  }\n  const newInputs = {};\n  for (const name in declaredInputs) {\n    if (!Object.hasOwn(declaredInputs, name)) {\n      continue;\n    }\n    const declaredInput = declaredInputs[name];\n    const providedData = inputOverrides[name];\n    if (declaredInput.config.singleton) {\n      const originalInput = expectItem(inputs[name]);\n      if (providedData) {\n        const providedContainer = createExtensionDataContainer(\n          providedData,\n          declaredInput.extensionData\n        );\n        if (!originalInput) {\n          throw new Error(\n            `attempted to override data of input '${name}' but it is not present in the original inputs`\n          );\n        }\n        newInputs[name] = Object.assign(providedContainer, {\n          node: originalInput.node\n        });\n      }\n    } else {\n      const originalInput = expectArray(inputs[name]);\n      if (!Array.isArray(providedData)) {\n        throw new Error(\n          `override data provided for input '${name}' must be an array`\n        );\n      }\n      if (providedData.length === 0) {\n        newInputs[name] = [];\n      } else {\n        const withNodesCount = providedData.filter((d) => \"node\" in d).length;\n        if (withNodesCount === 0) {\n          if (originalInput.length !== providedData.length) {\n            throw new Error(\n              `override data provided for input '${name}' must match the length of the original inputs`\n            );\n          }\n          newInputs[name] = providedData.map((data, i) => {\n            const providedContainer = createExtensionDataContainer(\n              data,\n              declaredInput.extensionData\n            );\n            return Object.assign(providedContainer, {\n              node: originalInput[i].node\n            });\n          });\n        } else if (withNodesCount === providedData.length) {\n          newInputs[name] = providedData;\n        } else {\n          throw new Error(\n            `override data for input '${name}' may not mix forwarded inputs with data overrides`\n          );\n        }\n      }\n    }\n  }\n  return newInputs;\n}\n\nexport { resolveInputOverrides };\n//# sourceMappingURL=resolveInputOverrides.esm.js.map\n","import { z } from 'zod';\nimport zodToJsonSchema from 'zod-to-json-schema';\n\nfunction createSchemaFromZod(schemaCreator) {\n  const schema = schemaCreator(z);\n  return {\n    // TODO: Types allow z.array etc here but it will break stuff\n    parse: (input) => {\n      const result = schema.safeParse(input);\n      if (result.success) {\n        return result.data;\n      }\n      throw new Error(result.error.issues.map(formatIssue).join(\"; \"));\n    },\n    // TODO: Verify why we are not compatible with the latest zodToJsonSchema.\n    schema: zodToJsonSchema(schema)\n  };\n}\nfunction formatIssue(issue) {\n  if (issue.code === \"invalid_union\") {\n    return formatIssue(issue.unionErrors[0].issues[0]);\n  }\n  let message = issue.message;\n  if (message === \"Required\") {\n    message = `Missing required value`;\n  }\n  if (issue.path.length) {\n    message += ` at '${issue.path.join(\".\")}'`;\n  }\n  return message;\n}\n\nexport { createSchemaFromZod };\n//# sourceMappingURL=createSchemaFromZod.esm.js.map\n","class OpaqueType {\n  /**\n   * Creates a new opaque type.\n   *\n   * @param options.type The type identifier of the opaque type\n   * @param options.versions The available versions of the opaque type\n   * @returns A new opaque type helper\n   */\n  static create(options) {\n    return new OpaqueType(options.type, new Set(options.versions));\n  }\n  #type;\n  #versions;\n  constructor(type, versions) {\n    this.#type = type;\n    this.#versions = versions;\n  }\n  /**\n   * The internal version of the opaque type, used like this: `typeof MyOpaqueType.TPublic`\n   *\n   * @remarks\n   *\n   * This property is only useful for type checking, its runtime value is `undefined`.\n   */\n  TPublic = void 0;\n  /**\n   * The internal version of the opaque type, used like this: `typeof MyOpaqueType.TInternal`\n   *\n   * @remarks\n   *\n   * This property is only useful for type checking, its runtime value is `undefined`.\n   */\n  TInternal = void 0;\n  /**\n   * @param value Input value expected to be an instance of this opaque type\n   * @returns True if the value matches this opaque type\n   */\n  isType = (value) => {\n    return this.#isThisInternalType(value);\n  };\n  /**\n   * @param value Input value expected to be an instance of this opaque type\n   * @throws If the value is not an instance of this opaque type or is of an unsupported version\n   * @returns The internal version of the opaque type\n   */\n  toInternal = (value) => {\n    if (!this.#isThisInternalType(value)) {\n      throw new TypeError(\n        `Invalid opaque type, expected '${this.#type}', but got '${this.#stringifyUnknown(value)}'`\n      );\n    }\n    if (!this.#versions.has(value.version)) {\n      const versions = Array.from(this.#versions).map(this.#stringifyVersion);\n      if (versions.length > 1) {\n        versions[versions.length - 1] = `or ${versions[versions.length - 1]}`;\n      }\n      const expected = versions.length > 2 ? versions.join(\", \") : versions.join(\" \");\n      throw new TypeError(\n        `Invalid opaque type instance, got version ${this.#stringifyVersion(\n          value.version\n        )}, expected ${expected}`\n      );\n    }\n    return value;\n  };\n  /**\n   * Creates an instance of the opaque type, returning the public type.\n   *\n   * @param version The version of the instance to create\n   * @param value The remaining public and internal properties of the instance\n   * @returns An instance of the opaque type\n   */\n  createInstance(version, props) {\n    return Object.assign(props, {\n      $$type: this.#type,\n      ...version && { version }\n    });\n  }\n  #isThisInternalType(value) {\n    if (value === null || typeof value !== \"object\") {\n      return false;\n    }\n    return value.$$type === this.#type;\n  }\n  #stringifyUnknown(value) {\n    if (typeof value !== \"object\") {\n      return `<${typeof value}>`;\n    }\n    if (value === null) {\n      return \"<null>\";\n    }\n    if (\"$$type\" in value) {\n      return String(value.$$type);\n    }\n    return String(value);\n  }\n  #stringifyVersion = (version) => {\n    return version ? `'${version}'` : \"undefined\";\n  };\n}\n\nexport { OpaqueType };\n//# sourceMappingURL=OpaqueType.esm.js.map\n","import { OpaqueType } from '../../../opaque-internal/src/OpaqueType.esm.js';\n\nconst OpaqueExtensionDefinition = OpaqueType.create({\n  type: \"@backstage/ExtensionDefinition\",\n  versions: [\"v1\", \"v2\"]\n});\n\nexport { OpaqueExtensionDefinition };\n//# sourceMappingURL=InternalExtensionDefinition.esm.js.map\n","import { resolveInputOverrides } from './resolveInputOverrides.esm.js';\nimport { createSchemaFromZod } from '../schema/createSchemaFromZod.esm.js';\nimport { OpaqueExtensionDefinition } from '../frontend-internal/src/wiring/InternalExtensionDefinition.esm.js';\nimport { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\nimport '../frontend-internal/src/wiring/InternalFrontendPlugin.esm.js';\n\nconst ctxParamsSymbol = Symbol(\"params\");\nfunction createExtension(options) {\n  const schemaDeclaration = options.config?.schema;\n  const configSchema = schemaDeclaration && createSchemaFromZod(\n    (innerZ) => innerZ.object(\n      Object.fromEntries(\n        Object.entries(schemaDeclaration).map(([k, v]) => [k, v(innerZ)])\n      )\n    )\n  );\n  return OpaqueExtensionDefinition.createInstance(\"v2\", {\n    T: void 0,\n    kind: options.kind,\n    name: options.name,\n    attachTo: options.attachTo,\n    disabled: options.disabled ?? false,\n    inputs: options.inputs ?? {},\n    output: options.output,\n    configSchema,\n    factory: options.factory,\n    toString() {\n      const parts = [];\n      if (options.kind) {\n        parts.push(`kind=${options.kind}`);\n      }\n      if (options.name) {\n        parts.push(`name=${options.name}`);\n      }\n      parts.push(\n        `attachTo=${[options.attachTo].flat().map((a) => `${a.id}@${a.input}`).join(\"+\")}`\n      );\n      return `ExtensionDefinition{${parts.join(\",\")}}`;\n    },\n    override(overrideOptions) {\n      if (!Array.isArray(options.output)) {\n        throw new Error(\n          \"Cannot override an extension that is not declared using the new format with outputs as an array\"\n        );\n      }\n      if (overrideOptions.output && !overrideOptions.factory) {\n        throw new Error(\n          \"Refused to override output without also overriding factory\"\n        );\n      }\n      if (overrideOptions.params && overrideOptions.factory) {\n        throw new Error(\n          \"Refused to override params and factory at the same time\"\n        );\n      }\n      return createExtension({\n        kind: options.kind,\n        name: options.name,\n        attachTo: overrideOptions.attachTo ?? options.attachTo,\n        disabled: overrideOptions.disabled ?? options.disabled,\n        inputs: { ...overrideOptions.inputs, ...options.inputs },\n        output: overrideOptions.output ?? options.output,\n        config: options.config || overrideOptions.config ? {\n          schema: {\n            ...options.config?.schema,\n            ...overrideOptions.config?.schema\n          }\n        } : void 0,\n        factory: ({ node, apis, config, inputs }) => {\n          if (!overrideOptions.factory) {\n            return options.factory({\n              node,\n              apis,\n              config,\n              inputs,\n              [ctxParamsSymbol]: overrideOptions.params\n            });\n          }\n          const parentResult = overrideOptions.factory(\n            (innerContext) => {\n              return createExtensionDataContainer(\n                options.factory({\n                  node,\n                  apis,\n                  config: innerContext?.config ?? config,\n                  inputs: resolveInputOverrides(\n                    options.inputs,\n                    inputs,\n                    innerContext?.inputs\n                  ),\n                  [ctxParamsSymbol]: innerContext?.params\n                }),\n                options.output\n              );\n            },\n            {\n              node,\n              apis,\n              config,\n              inputs\n            }\n          );\n          const deduplicatedResult = /* @__PURE__ */ new Map();\n          for (const item of parentResult) {\n            deduplicatedResult.set(item.id, item);\n          }\n          return deduplicatedResult.values();\n        }\n      });\n    }\n  });\n}\n\nexport { createExtension, ctxParamsSymbol };\n//# sourceMappingURL=createExtension.esm.js.map\n","import { createExtension, ctxParamsSymbol } from './createExtension.esm.js';\nimport { resolveInputOverrides } from './resolveInputOverrides.esm.js';\nimport { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\n\nfunction createExtensionBlueprint(options) {\n  return {\n    dataRefs: options.dataRefs,\n    make(args) {\n      return createExtension({\n        kind: options.kind,\n        name: args.name ?? options.name,\n        attachTo: args.attachTo ?? options.attachTo,\n        disabled: args.disabled ?? options.disabled,\n        inputs: options.inputs,\n        output: options.output,\n        config: options.config,\n        factory: (ctx) => options.factory(\n          { ...args.params, ...ctx[ctxParamsSymbol] },\n          ctx\n        )\n      });\n    },\n    makeWithOverrides(args) {\n      return createExtension({\n        kind: options.kind,\n        name: args.name ?? options.name,\n        attachTo: args.attachTo ?? options.attachTo,\n        disabled: args.disabled ?? options.disabled,\n        inputs: { ...args.inputs, ...options.inputs },\n        output: args.output ?? options.output,\n        config: options.config || args.config ? {\n          schema: {\n            ...options.config?.schema,\n            ...args.config?.schema\n          }\n        } : void 0,\n        factory: (ctx) => {\n          const { node, config, inputs, apis } = ctx;\n          return args.factory(\n            (innerParams, innerContext) => {\n              return createExtensionDataContainer(\n                options.factory(\n                  { ...innerParams, ...ctx[ctxParamsSymbol] },\n                  {\n                    apis,\n                    node,\n                    config: innerContext?.config ?? config,\n                    inputs: resolveInputOverrides(\n                      options.inputs,\n                      inputs,\n                      innerContext?.inputs\n                    )\n                  }\n                ),\n                options.output\n              );\n            },\n            {\n              apis,\n              node,\n              config,\n              inputs\n            }\n          );\n        }\n      });\n    }\n  };\n}\n\nexport { createExtensionBlueprint };\n//# sourceMappingURL=createExtensionBlueprint.esm.js.map\n","import '../wiring/coreExtensionData.esm.js';\nimport 'zod';\nimport 'zod-to-json-schema';\nimport { createExtensionDataRef } from '../wiring/createExtensionDataRef.esm.js';\nimport { createExtensionBlueprint } from '../wiring/createExtensionBlueprint.esm.js';\n\nconst factoryDataRef = createExtensionDataRef().with({\n  id: \"core.api.factory\"\n});\nconst ApiBlueprint = createExtensionBlueprint({\n  kind: \"api\",\n  attachTo: { id: \"root\", input: \"apis\" },\n  output: [factoryDataRef],\n  dataRefs: {\n    factory: factoryDataRef\n  },\n  *factory(params) {\n    yield factoryDataRef(params.factory);\n  }\n});\n\nexport { ApiBlueprint };\n//# sourceMappingURL=ApiBlueprint.esm.js.map\n","function createExtensionInput(extensionData, config) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (Array.isArray(extensionData)) {\n      const seen = /* @__PURE__ */ new Set();\n      const duplicates = [];\n      for (const dataRef of extensionData) {\n        if (seen.has(dataRef.id)) {\n          duplicates.push(dataRef.id);\n        } else {\n          seen.add(dataRef.id);\n        }\n      }\n      if (duplicates.length > 0) {\n        throw new Error(\n          `ExtensionInput may not have duplicate data refs: '${duplicates.join(\n            \"', '\"\n          )}'`\n        );\n      }\n    }\n  }\n  return {\n    $$type: \"@backstage/ExtensionInput\",\n    extensionData,\n    config: {\n      singleton: Boolean(config?.singleton),\n      optional: Boolean(config?.optional)\n    },\n    replaces: config?.replaces\n  };\n}\n\nexport { createExtensionInput };\n//# sourceMappingURL=createExtensionInput.esm.js.map\n","import { createExtensionDataRef, createExtensionBlueprint } from '@backstage/frontend-plugin-api';\n\nconst formDecoratorExtensionDataRef = createExtensionDataRef().with({\n  id: \"scaffolder.form-decorator-loader\"\n});\nconst FormDecoratorBlueprint = createExtensionBlueprint({\n  kind: \"scaffolder-form-decorator\",\n  attachTo: { id: \"api:scaffolder/form-decorators\", input: \"formDecorators\" },\n  dataRefs: {\n    formDecoratorLoader: formDecoratorExtensionDataRef\n  },\n  output: [formDecoratorExtensionDataRef],\n  *factory(params) {\n    yield formDecoratorExtensionDataRef(params.decorator);\n  }\n});\n\nexport { FormDecoratorBlueprint };\n//# sourceMappingURL=FormDecoratorBlueprint.esm.js.map\n","import { ApiBlueprint, createExtensionInput, createApiFactory } from '@backstage/frontend-plugin-api';\nimport { formDecoratorsApiRef } from './ref.esm.js';\nimport { FormDecoratorBlueprint } from '@backstage/plugin-scaffolder-react/alpha';\n\nclass DefaultScaffolderFormDecoratorsApi {\n  constructor(options) {\n    this.options = options;\n  }\n  static create(options) {\n    return new DefaultScaffolderFormDecoratorsApi(\n      options ?? { decorators: [] }\n    );\n  }\n  async getFormDecorators() {\n    return this.options.decorators;\n  }\n}\nconst formDecoratorsApi = ApiBlueprint.makeWithOverrides({\n  name: \"form-decorators\",\n  inputs: {\n    formDecorators: createExtensionInput([\n      FormDecoratorBlueprint.dataRefs.formDecoratorLoader\n    ])\n  },\n  factory(originalFactory, { inputs }) {\n    const formDecorators = inputs.formDecorators.map(\n      (e) => e.get(FormDecoratorBlueprint.dataRefs.formDecoratorLoader)\n    );\n    return originalFactory({\n      factory: createApiFactory({\n        api: formDecoratorsApiRef,\n        deps: {},\n        factory: () => DefaultScaffolderFormDecoratorsApi.create({\n          decorators: formDecorators\n        })\n      })\n    });\n  }\n});\n\nexport { DefaultScaffolderFormDecoratorsApi, formDecoratorsApi };\n//# sourceMappingURL=FormDecoratorsApi.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { scaffolderApiRef, createScaffolderFieldExtension } from '@backstage/plugin-scaffolder-react';\nimport { ScaffolderClient } from './api.esm.js';\nimport { EntityPicker } from './components/fields/EntityPicker/EntityPicker.esm.js';\nimport { entityNamePickerValidation } from './components/fields/EntityNamePicker/validation.esm.js';\nimport { EntityNamePicker } from './components/fields/EntityNamePicker/EntityNamePicker.esm.js';\nimport { OwnerPicker } from './components/fields/OwnerPicker/OwnerPicker.esm.js';\nimport { MultiEntityPicker, validateMultiEntityPickerValidation } from './components/fields/MultiEntityPicker/MultiEntityPicker.esm.js';\nimport { RepoUrlPickerSchema } from './components/fields/RepoUrlPicker/schema.esm.js';\nimport { repoPickerValidation } from './components/fields/RepoUrlPicker/validation.esm.js';\nimport { RepoUrlPicker } from './components/fields/RepoUrlPicker/RepoUrlPicker.esm.js';\nimport { createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, identityApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { OwnedEntityPicker } from './components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js';\nimport { EntityTagsPicker } from './components/fields/EntityTagsPicker/EntityTagsPicker.esm.js';\nimport { rootRouteRef, selectedTemplateRouteRef, scaffolderTaskRouteRef, actionsRouteRef, scaffolderListTaskRouteRef, editRouteRef, editorRouteRef, customFieldsRouteRef, templateFormRouteRef, registerComponentRouteRef, viewTechDocRouteRef } from './routes.esm.js';\nimport { MyGroupsPicker } from './components/fields/MyGroupsPicker/MyGroupsPicker.esm.js';\nimport { RepoBranchPicker } from './components/fields/RepoBranchPicker/RepoBranchPicker.esm.js';\nimport { RepoBranchPickerSchema } from './components/fields/RepoBranchPicker/schema.esm.js';\nimport { formDecoratorsApiRef } from './alpha/api/ref.esm.js';\nimport { DefaultScaffolderFormDecoratorsApi } from './alpha/api/FormDecoratorsApi.esm.js';\nimport { formFieldsApiRef } from '@backstage/plugin-scaffolder-react/alpha';\nimport { EntityPickerSchema } from './components/fields/EntityPicker/schema.esm.js';\nimport { EntityNamePickerSchema } from './components/fields/EntityNamePicker/schema.esm.js';\nimport { MultiEntityPickerSchema } from './components/fields/MultiEntityPicker/schema.esm.js';\nimport { OwnerPickerSchema } from './components/fields/OwnerPicker/schema.esm.js';\nimport { MyGroupsPickerSchema } from './components/fields/MyGroupsPicker/schema.esm.js';\nimport { OwnedEntityPickerSchema } from './components/fields/OwnedEntityPicker/schema.esm.js';\nimport { EntityTagsPickerSchema } from './components/fields/EntityTagsPicker/schema.esm.js';\n\nconst scaffolderPlugin = createPlugin({\n  id: \"scaffolder\",\n  apis: [\n    createApiFactory({\n      api: scaffolderApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        fetchApi: fetchApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({ discoveryApi, scmIntegrationsApi, fetchApi, identityApi }) => new ScaffolderClient({\n        discoveryApi,\n        scmIntegrationsApi,\n        fetchApi,\n        identityApi\n      })\n    }),\n    createApiFactory({\n      api: formDecoratorsApiRef,\n      deps: {},\n      factory: () => DefaultScaffolderFormDecoratorsApi.create()\n    }),\n    createApiFactory({\n      api: formFieldsApiRef,\n      deps: {},\n      factory: () => ({ getFormFields: async () => [] })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    selectedTemplate: selectedTemplateRouteRef,\n    ongoingTask: scaffolderTaskRouteRef,\n    actions: actionsRouteRef,\n    listTasks: scaffolderListTaskRouteRef,\n    edit: editRouteRef,\n    editor: editorRouteRef,\n    customFields: customFieldsRouteRef,\n    templateForm: templateFormRouteRef\n  },\n  externalRoutes: {\n    registerComponent: registerComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef\n  }\n});\nconst EntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityPicker,\n    name: \"EntityPicker\",\n    schema: EntityPickerSchema\n  })\n);\nconst EntityNamePickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityNamePicker,\n    name: \"EntityNamePicker\",\n    validation: entityNamePickerValidation,\n    schema: EntityNamePickerSchema\n  })\n);\nconst MultiEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MultiEntityPicker,\n    name: \"MultiEntityPicker\",\n    schema: MultiEntityPickerSchema,\n    validation: validateMultiEntityPickerValidation\n  })\n);\nconst RepoUrlPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoUrlPicker,\n    name: \"RepoUrlPicker\",\n    validation: repoPickerValidation,\n    schema: RepoUrlPickerSchema\n  })\n);\nconst OwnerPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnerPicker,\n    name: \"OwnerPicker\",\n    schema: OwnerPickerSchema\n  })\n);\nconst MyGroupsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MyGroupsPicker,\n    name: \"MyGroupsPicker\",\n    schema: MyGroupsPickerSchema\n  })\n);\nconst ScaffolderPage = scaffolderPlugin.provide(\n  createRoutableExtension({\n    name: \"ScaffolderPage\",\n    component: () => import('./components/Router/index.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst OwnedEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnedEntityPicker,\n    name: \"OwnedEntityPicker\",\n    schema: OwnedEntityPickerSchema\n  })\n);\nconst EntityTagsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityTagsPicker,\n    name: \"EntityTagsPicker\",\n    schema: EntityTagsPickerSchema\n  })\n);\nconst RepoBranchPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoBranchPicker,\n    name: \"RepoBranchPicker\",\n    schema: RepoBranchPickerSchema\n  })\n);\n\nexport { EntityNamePickerFieldExtension, EntityPickerFieldExtension, EntityTagsPickerFieldExtension, MultiEntityPickerFieldExtension, MyGroupsPickerFieldExtension, OwnedEntityPickerFieldExtension, OwnerPickerFieldExtension, RepoBranchPickerFieldExtension, RepoUrlPickerFieldExtension, ScaffolderPage, scaffolderPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass ExternalRouteRefImpl {\n  constructor(id, params, optional, defaultTarget) {\n    this.id = id;\n    this.params = params;\n    this.optional = optional;\n    this.defaultTarget = defaultTarget;\n  }\n  [routeRefType] = \"external\";\n  toString() {\n    return `routeRef{type=external,id=${this.id}}`;\n  }\n  getDefaultTarget() {\n    return this.defaultTarget;\n  }\n}\nfunction createExternalRouteRef(options) {\n  return new ExternalRouteRefImpl(\n    options.id,\n    options.params ?? [],\n    Boolean(options.optional),\n    options?.defaultTarget\n  );\n}\n\nexport { ExternalRouteRefImpl, createExternalRouteRef };\n//# sourceMappingURL=ExternalRouteRef.esm.js.map\n","var AuthorizeResult = /* @__PURE__ */ ((AuthorizeResult2) => {\n  AuthorizeResult2[\"DENY\"] = \"DENY\";\n  AuthorizeResult2[\"ALLOW\"] = \"ALLOW\";\n  AuthorizeResult2[\"CONDITIONAL\"] = \"CONDITIONAL\";\n  return AuthorizeResult2;\n})(AuthorizeResult || {});\n\nexport { AuthorizeResult };\n//# sourceMappingURL=api.esm.js.map\n","function asInputRef(renderResult) {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n}\nfunction getCatalogFilename(config) {\n  return config.getOptionalString(\"catalog.import.entityFilename\") ?? \"catalog-info.yaml\";\n}\nfunction getBranchName(config) {\n  return config.getOptionalString(\"catalog.import.pullRequestBranchName\") ?? \"backstage-integration\";\n}\n\nexport { asInputRef, getBranchName, getCatalogFilename };\n//# sourceMappingURL=helpers.esm.js.map\n","function createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  const versionedValue = {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n  Object.defineProperty(versionedValue, \"$map\", {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return versions;\n    }\n  });\n  return versionedValue;\n}\n\nexport { createVersionedValueMap };\n//# sourceMappingURL=VersionedValue.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogImportApiRef = createApiRef({\n  id: \"plugin.catalog-import.service\"\n});\n\nexport { catalogImportApiRef };\n//# sourceMappingURL=CatalogImportApi.esm.js.map\n","import 'git-url-parse';\nimport { Octokit } from '@octokit/rest';\nimport { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { Base64 } from 'js-base64';\n\nasync function submitGitHubPrToRepo(options, scmAuthApi, configApi) {\n  const {\n    owner,\n    repo,\n    title,\n    body,\n    fileContent,\n    repositoryUrl,\n    githubIntegrationConfig\n  } = options;\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const octo = new Octokit({\n    auth: token,\n    baseUrl: githubIntegrationConfig.apiBaseUrl\n  });\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const repoData = await octo.repos.get({\n    owner,\n    repo\n  }).catch((e) => {\n    throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n  });\n  const parentRef = await octo.git.getRef({\n    owner,\n    repo,\n    ref: `heads/${repoData.data.default_branch}`\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\"Couldn't fetch default branch data\", e)\n    );\n  });\n  await octo.git.createRef({\n    owner,\n    repo,\n    ref: `refs/heads/${branchName}`,\n    sha: parentRef.data.object.sha\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a new branch with name '${branchName}'`,\n        e\n      )\n    );\n  });\n  await octo.repos.createOrUpdateFileContents({\n    owner,\n    repo,\n    path: fileName,\n    message: title,\n    content: Base64.encode(fileContent),\n    branch: branchName\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a commit with ${fileName} file added`,\n        e\n      )\n    );\n  });\n  const pullRequestResponse = await octo.pulls.create({\n    owner,\n    repo,\n    title,\n    head: branchName,\n    body,\n    base: repoData.data.default_branch\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a pull request for ${branchName} branch`,\n        e\n      )\n    );\n  });\n  return {\n    link: pullRequestResponse.data.html_url,\n    location: `https://${githubIntegrationConfig.host}/${owner}/${repo}/blob/${repoData.data.default_branch}/${fileName}`\n  };\n}\nfunction formatHttpErrorMessage(message, error) {\n  return `${message}, received http response status code ${error.status}: ${error.message}`;\n}\n\nexport { submitGitHubPrToRepo };\n//# sourceMappingURL=GitHub.esm.js.map\n","const apiVersions = \"6.0\";\nclass RepoApiClient {\n  constructor(_options) {\n    this._options = _options;\n  }\n  createEndpoint = (path, version, queryParams = void 0) => {\n    const url = new URL(\n      `${this._options.tenantUrl}/${this._options.project}/_apis/git/repositories`\n    );\n    url.pathname += path;\n    url.searchParams.set(\"api-version\", version);\n    Object.entries(queryParams ?? {}).forEach(\n      ([key, value]) => url.searchParams.set(key, value)\n    );\n    return url.toString();\n  };\n  async get(path, version, queryParams = void 0, token) {\n    const endpoint = this.createEndpoint(path, version, queryParams);\n    const result = await fetch(endpoint, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async post(path, version, payload, token) {\n    const endpoint = this.createEndpoint(path, version);\n    const result = await fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async getRepository(repositoryName, token) {\n    return this.get(`/${repositoryName}`, apiVersions, void 0, token);\n  }\n  async getDefaultBranch(repo, token) {\n    const filter = repo.defaultBranch.replace(\"refs/\", \"\");\n    const result = await this.get(\n      `/${repo.name}/refs`,\n      apiVersions,\n      { filter },\n      token\n    );\n    if (!result.value?.length) {\n      return Promise.reject(\n        new Error(`The requested ref '${filter}' was not found`)\n      );\n    }\n    return result.value[0];\n  }\n  async pushNewBranch(options, token) {\n    const { sourceBranch, repoName } = options;\n    const push = {\n      refUpdates: [\n        {\n          name: `refs/heads/${options.branchName}`,\n          oldObjectId: sourceBranch.objectId\n        }\n      ],\n      commits: [\n        {\n          comment: options.title,\n          changes: [\n            {\n              changeType: \"add\",\n              item: {\n                path: `/${options.fileName}`\n              },\n              newContent: {\n                content: options.fileContent,\n                contentType: \"rawtext\"\n              }\n            }\n          ]\n        }\n      ]\n    };\n    const result = await this.post(\n      `/${repoName}/pushes`,\n      apiVersions,\n      push,\n      token\n    );\n    return result.refUpdates[0];\n  }\n  async createPullRequest(options, token) {\n    const { repoName, sourceName, targetName } = options;\n    const payload = {\n      title: options.title,\n      description: options.description,\n      sourceRefName: sourceName,\n      targetRefName: targetName\n    };\n    return await this.post(\n      `/${repoName}/pullrequests`,\n      apiVersions,\n      payload,\n      token\n    );\n  }\n}\nasync function createAzurePullRequest(options, client = void 0) {\n  const {\n    title,\n    repository,\n    token,\n    fileContent,\n    fileName,\n    branchName,\n    description\n  } = options;\n  const actualClient = client ?? new RepoApiClient(options);\n  const repo = await actualClient.getRepository(repository, token);\n  const defaultBranch = await actualClient.getDefaultBranch(repo, token);\n  const branchOptions = {\n    title,\n    repoName: repo.name,\n    sourceBranch: defaultBranch,\n    branchName,\n    fileContent,\n    fileName\n  };\n  const refUpdate = await actualClient.pushNewBranch(branchOptions, token);\n  const prOptions = {\n    title,\n    description,\n    repoName: repo.name,\n    sourceName: refUpdate.name,\n    targetName: defaultBranch.name\n  };\n  return actualClient.createPullRequest(prOptions, token);\n}\n\nexport { RepoApiClient, createAzurePullRequest };\n//# sourceMappingURL=AzureRepoApiClient.esm.js.map\n","import { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { createAzurePullRequest } from './AzureRepoApiClient.esm.js';\n\nfunction parseAzureUrl(repoUrl) {\n  const { org, repo, project, host } = parseRepoUrl(repoUrl);\n  if (!org || !repo || !project) {\n    throw new Error(\n      \"Invalid AzureDevops Repository. Please use a valid repository url and try again \"\n    );\n  }\n  const tenantUrl = `https://${host}/${org}`;\n  return { tenantUrl, repoName: repo, project };\n}\nasync function submitAzurePrToRepo(options, scmAuthApi, configApi) {\n  const { repositoryUrl, fileContent, title, body } = options;\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const { tenantUrl, repoName, project } = parseAzureUrl(repositoryUrl);\n  const result = await createAzurePullRequest({\n    token,\n    fileContent,\n    title,\n    description: body,\n    project,\n    repository: repoName,\n    branchName,\n    tenantUrl,\n    fileName\n  });\n  const catalogLocation = `${result.repository.webUrl}?path=/${fileName}`;\n  const prLocation = `${result.repository.webUrl}/pullrequest/${result.pullRequestId}`;\n  return {\n    link: prLocation,\n    location: catalogLocation\n  };\n}\nfunction parseRepoUrl(sourceUrl) {\n  const url = new URL(sourceUrl);\n  let host = url.host;\n  let org;\n  let project;\n  let repo;\n  const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n  if (parts[2] === \"_git\") {\n    org = parts[1];\n    project = repo = parts[3];\n  } else if (parts[3] === \"_git\") {\n    org = parts[1];\n    project = parts[2];\n    repo = parts[4];\n  } else if (parts[4] === \"_git\") {\n    host = `${host}/${parts[1]}`;\n    org = parts[2];\n    project = parts[3];\n    repo = parts[5];\n  }\n  return { host, org, project, repo };\n}\n\nexport { parseAzureUrl, parseRepoUrl, submitAzurePrToRepo };\n//# sourceMappingURL=AzureDevops.esm.js.map\n","import YAML from 'yaml';\nimport { submitGitHubPrToRepo } from './GitHub.esm.js';\nimport { getCatalogFilename } from '../components/helpers.esm.js';\nimport parseGitUrl from 'git-url-parse';\nimport { submitAzurePrToRepo } from './AzureDevops.esm.js';\n\nclass CatalogImportClient {\n  discoveryApi;\n  fetchApi;\n  scmAuthApi;\n  scmIntegrationsApi;\n  catalogApi;\n  configApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.scmAuthApi = options.scmAuthApi;\n    this.fetchApi = options.fetchApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.catalogApi = options.catalogApi;\n    this.configApi = options.configApi;\n  }\n  async analyzeUrl(url) {\n    if (new URL(url).pathname.match(/\\.ya?ml$/) || new URL(url).searchParams.get(\"path\")?.match(/.ya?ml$/)) {\n      const location = await this.catalogApi.addLocation({\n        type: \"url\",\n        target: url,\n        dryRun: true\n      });\n      return {\n        type: \"locations\",\n        locations: [\n          {\n            exists: location.exists,\n            target: location.location.target,\n            entities: location.entities.map((e) => ({\n              kind: e.kind,\n              namespace: e.metadata.namespace ?? \"default\",\n              name: e.metadata.name\n            }))\n          }\n        ]\n      };\n    }\n    const supportedIntegrations = [\"github\", \"azure\"];\n    const foundIntegration = this.scmIntegrationsApi.byUrl(url);\n    const iSupported = !!foundIntegration && supportedIntegrations.find((it) => it === foundIntegration.type);\n    if (!iSupported) {\n      const catalogFilename = getCatalogFilename(this.configApi);\n      if (foundIntegration) {\n        throw new Error(\n          `The ${foundIntegration.title} integration only supports full URLs to ${catalogFilename} files. Did you try to pass in the URL of a directory instead?`\n        );\n      }\n      throw new Error(\n        `This URL was not recognized as a valid git URL because there was no configured integration that matched the given host name. Currently GitHub and Azure DevOps are supported. You could try to paste the full URL to a ${catalogFilename} file instead.`\n      );\n    }\n    const analyzation = await this.analyzeLocation({\n      repo: url\n    });\n    if (analyzation.existingEntityFiles.length > 0) {\n      const locations = analyzation.existingEntityFiles.reduce((state, curr) => {\n        state[curr.location.target] = {\n          target: curr.location.target,\n          exists: curr.isRegistered,\n          entities: [\n            ...curr.location.target in state ? state[curr.location.target].entities : [],\n            {\n              name: curr.entity.metadata.name,\n              namespace: curr.entity.metadata.namespace ?? \"default\",\n              kind: curr.entity.kind\n            }\n          ]\n        };\n        return state;\n      }, {});\n      return {\n        type: \"locations\",\n        locations: Object.values(locations)\n      };\n    }\n    return {\n      type: \"repository\",\n      integrationType: foundIntegration.type,\n      url,\n      generatedEntities: analyzation.generateEntities.map((x) => x.entity)\n    };\n  }\n  async preparePullRequest() {\n    const appTitle = this.configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n    const appBaseUrl = this.configApi.getString(\"app.baseUrl\");\n    const catalogFilename = getCatalogFilename(this.configApi);\n    return {\n      title: `Add ${catalogFilename} config file`,\n      body: `This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${appTitle} software catalog](${appBaseUrl}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/).`\n    };\n  }\n  async submitPullRequest(options) {\n    const { repositoryUrl, fileContent, title, body } = options;\n    const parseData = YAML.parseAllDocuments(fileContent);\n    for (const document of parseData) {\n      const validationResponse = await this.catalogApi.validateEntity(\n        document.toJS(),\n        `url:${repositoryUrl}`\n      );\n      if (!validationResponse.valid) {\n        throw new Error(validationResponse.errors[0].message);\n      }\n    }\n    const provider = this.scmIntegrationsApi.byUrl(repositoryUrl);\n    switch (provider?.type) {\n      case \"github\": {\n        const { config } = provider;\n        const { name, owner } = parseGitUrl(repositoryUrl);\n        const options2 = {\n          githubIntegrationConfig: config,\n          repo: name,\n          owner,\n          repositoryUrl,\n          fileContent,\n          title,\n          body\n        };\n        return submitGitHubPrToRepo(options2, this.scmAuthApi, this.configApi);\n      }\n      case \"azure\": {\n        return submitAzurePrToRepo(\n          {\n            repositoryUrl,\n            fileContent,\n            title,\n            body\n          },\n          this.scmAuthApi,\n          this.configApi\n        );\n      }\n      default: {\n        throw new Error(\"unimplemented!\");\n      }\n    }\n  }\n  // TODO: this could be part of the catalog api\n  async analyzeLocation(options) {\n    const response = await this.fetchApi.fetch(\n      `${await this.discoveryApi.getBaseUrl(\"catalog\")}/analyze-location`,\n      {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          location: { type: \"url\", target: options.repo },\n          ...this.configApi.getOptionalString(\n            \"catalog.import.entityFilename\"\n          ) && {\n            catalogFilename: this.configApi.getOptionalString(\n              \"catalog.import.entityFilename\"\n            )\n          }\n        })\n      }\n    ).catch((e) => {\n      throw new Error(`Failed to generate entity definitions, ${e.message}`);\n    });\n    if (!response.ok) {\n      throw new Error(\n        `Failed to generate entity definitions. Received http response ${response.status}: ${response.statusText}`\n      );\n    }\n    const payload = await response.json();\n    return payload;\n  }\n}\n\nexport { CatalogImportClient };\n//# sourceMappingURL=CatalogImportClient.esm.js.map\n","import { createRouteRef, createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, configApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { scmAuthApiRef, scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { catalogImportApiRef } from './api/CatalogImportApi.esm.js';\nimport { CatalogImportClient } from './api/CatalogImportClient.esm.js';\n\nconst rootRouteRef = createRouteRef({\n  id: \"catalog-import\"\n});\nconst catalogImportPlugin = createPlugin({\n  id: \"catalog-import\",\n  apis: [\n    createApiFactory({\n      api: catalogImportApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmAuthApi: scmAuthApiRef,\n        fetchApi: fetchApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        catalogApi: catalogApiRef,\n        configApi: configApiRef\n      },\n      factory: ({\n        discoveryApi,\n        scmAuthApi,\n        fetchApi,\n        scmIntegrationsApi,\n        catalogApi,\n        configApi\n      }) => new CatalogImportClient({\n        discoveryApi,\n        scmAuthApi,\n        scmIntegrationsApi,\n        fetchApi,\n        catalogApi,\n        configApi\n      })\n    })\n  ],\n  routes: {\n    importPage: rootRouteRef\n  }\n});\nconst CatalogImportPage = catalogImportPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogImportPage\",\n    component: () => import('./components/ImportPage/index.esm.js').then((m) => m.ImportPage),\n    mountPoint: rootRouteRef\n  })\n);\n\nexport { CatalogImportPage, catalogImportPlugin, rootRouteRef };\n//# sourceMappingURL=plugin.esm.js.map\n","import { serializeError as serializeError$1, deserializeError as deserializeError$1 } from 'serialize-error';\nimport { isError } from '../errors/assertion.esm.js';\n\nfunction serializeError(error, options) {\n  const serialized = serializeError$1(error);\n  const result = {\n    name: \"Unknown\",\n    message: \"<no reason given>\",\n    ...serialized\n  };\n  if (!options?.includeStack) {\n    delete result.stack;\n    if (result.cause && typeof result.cause === \"object\" && \"stack\" in result.cause) {\n      delete result.cause.stack;\n    }\n  }\n  return result;\n}\nfunction deserializeError(data) {\n  const result = deserializeError$1(data);\n  if (!data.stack) {\n    result.stack = void 0;\n  }\n  return result;\n}\nfunction stringifyError(error) {\n  if (isError(error)) {\n    const str = String(error);\n    return str !== \"[object Object]\" ? str : `${error.name}: ${error.message}`;\n  }\n  return `unknown error '${error}'`;\n}\n\nexport { deserializeError, serializeError, stringifyError };\n//# sourceMappingURL=error.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { OwnerPickerSchema } from './schema.esm.js';\n\nconst OwnerPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownerPicker.title\"),\n      description = t(\"fields.ownerPicker.description\")\n    },\n    uiSchema,\n    ...restProps\n  } = props;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace;\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || {\n    kind: allowedKinds || [\"Group\", \"User\"]\n  };\n  const ownerUiSchema = {\n    ...uiSchema,\n    \"ui:options\": {\n      catalogFilter,\n      defaultKind: \"Group\",\n      allowArbitraryValues: uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true,\n      ...defaultNamespace !== void 0 ? { defaultNamespace } : {}\n    }\n  };\n  return /* @__PURE__ */ jsx(\n    EntityPicker,\n    {\n      ...restProps,\n      schema: { title, description },\n      uiSchema: ownerUiSchema\n    }\n  );\n};\n\nexport { OwnerPicker };\n//# sourceMappingURL=OwnerPicker.esm.js.map\n","import { createExternalRouteRef, createRouteRef, createSubRouteRef } from '@backstage/core-plugin-api';\n\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst rootRouteRef = createRouteRef({\n  id: \"scaffolder\"\n});\ncreateSubRouteRef({\n  id: \"scaffolder/legacy/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:templateName\"\n});\nconst selectedTemplateRouteRef = createSubRouteRef({\n  id: \"scaffolder/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:namespace/:templateName\"\n});\nconst scaffolderTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/task\",\n  parent: rootRouteRef,\n  path: \"/tasks/:taskId\"\n});\nconst scaffolderListTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/list-tasks\",\n  parent: rootRouteRef,\n  path: \"/tasks\"\n});\nconst actionsRouteRef = createSubRouteRef({\n  id: \"scaffolder/actions\",\n  parent: rootRouteRef,\n  path: \"/actions\"\n});\nconst editRouteRef = createSubRouteRef({\n  id: \"scaffolder/edit\",\n  parent: rootRouteRef,\n  path: \"/edit\"\n});\nconst editorRouteRef = createSubRouteRef({\n  id: \"scaffolder/editor\",\n  parent: rootRouteRef,\n  path: \"/template\"\n});\nconst customFieldsRouteRef = createSubRouteRef({\n  id: \"scaffolder/customFields\",\n  parent: rootRouteRef,\n  path: \"/custom-fields\"\n});\nconst templateFormRouteRef = createSubRouteRef({\n  id: \"scaffolder/editorForm\",\n  parent: rootRouteRef,\n  path: \"/template-form\"\n});\n\nexport { actionsRouteRef, customFieldsRouteRef, editRouteRef, editorRouteRef, registerComponentRouteRef, rootRouteRef, scaffolderListTaskRouteRef, scaffolderTaskRouteRef, selectedTemplateRouteRef, templateFormRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useAnalytics, useElementFilter } from '@backstage/core-plugin-api';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport Search from '@material-ui/icons/Search';\nimport classNames from 'classnames';\nimport { createElement, forwardRef, useContext, useCallback, useMemo, useState } from 'react';\nimport { useLocation, useResolvedPath, Link, resolvePath } from 'react-router-dom';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport DoubleArrowLeft from './icons/DoubleArrowLeft.esm.js';\nimport DoubleArrowRight from './icons/DoubleArrowRight.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\nimport { SidebarSubmenu } from './SidebarSubmenu.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Button from '@material-ui/core/Button';\n\nconst makeSidebarStyles = (sidebarConfig) => makeStyles(\n  (theme) => ({\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"100%\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\",\n      textTransform: \"none\"\n    },\n    closed: {\n      width: sidebarConfig.drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: sidebarConfig.drawerWidthOpen\n      }\n    },\n    highlightable: {\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n      }\n    },\n    highlighted: {\n      background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n    },\n    label: {\n      // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: sidebarConfig.iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      lineHeight: \"0\"\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: theme.typography.fontSize\n    },\n    searchFieldHTMLInput: {\n      padding: theme.spacing(2, 0, 2)\n    },\n    searchContainer: {\n      width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    closedItemIcon: {\n      width: \"100%\",\n      justifyContent: \"center\"\n    },\n    submenuArrow: {\n      display: \"flex\"\n    },\n    expandButton: {\n      background: \"none\",\n      border: \"none\",\n      color: theme.palette.navigation.color,\n      width: \"100%\",\n      cursor: \"pointer\",\n      position: \"relative\",\n      height: 48\n    },\n    arrows: {\n      position: \"absolute\",\n      right: 10\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: sidebarConfig.drawerWidthClosed\n      },\n      \"& $closedItemIcon\": {\n        paddingRight: sidebarConfig.selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -sidebarConfig.selectedIndicatorWidth\n      }\n    }\n  }),\n  { name: \"BackstageSidebarItem\" }\n);\nfunction useMemoStyles(sidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig]\n  );\n  return useStyles();\n}\nconst useLocationMatch = (submenu, location) => useElementFilter(\n  submenu.props.children,\n  (elements) => {\n    let active = false;\n    elements.getElements().forEach(\n      ({\n        props: { to, dropdownItems }\n      }) => {\n        if (!active) {\n          if (dropdownItems?.length) {\n            dropdownItems.forEach(\n              ({ to: _to }) => active = active || isLocationMatch(location, resolvePath(_to))\n            );\n            return;\n          }\n          if (to) {\n            active = isLocationMatch(location, resolvePath(to));\n          }\n        }\n      }\n    );\n    return active;\n  },\n  [location.pathname]\n);\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst sidebarSubmenuType = createElement(SidebarSubmenu).type;\nconst WorkaroundNavLink = forwardRef(function WorkaroundNavLinkWithRef({\n  to,\n  end,\n  style,\n  className,\n  activeStyle,\n  caseSensitive,\n  activeClassName = \"active\",\n  \"aria-current\": ariaCurrentProp = \"page\",\n  ...rest\n}, ref) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath(to);\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase(\"en-US\");\n    toPathname = toPathname.toLocaleLowerCase(\"en-US\");\n  }\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n  const ariaCurrent = isActive ? ariaCurrentProp : void 0;\n  return /* @__PURE__ */ jsx(\n    Link,\n    {\n      ...rest,\n      to,\n      ref,\n      \"aria-current\": ariaCurrent,\n      style: { ...style, ...isActive ? activeStyle : void 0 },\n      className: classNames([\n        typeof className !== \"function\" ? className : void 0,\n        isActive ? activeClassName : void 0\n      ])\n    }\n  );\n});\nconst SidebarItemBase = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen } = useSidebarOpenState();\n  const divStyle = !isOpen && hasSubmenu ? { display: \"flex\", marginLeft: \"20px\" } : { lineHeight: \"0\" };\n  const displayItemIcon = /* @__PURE__ */ jsxs(Box, { style: divStyle, children: [\n    /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n    !isOpen && hasSubmenu ? /* @__PURE__ */ jsx(ArrowRightIcon, { fontSize: \"small\" }) : /* @__PURE__ */ jsx(Fragment, {})\n  ] });\n  const itemIcon = /* @__PURE__ */ jsx(\n    Badge,\n    {\n      color: \"secondary\",\n      variant: \"dot\",\n      overlap: \"circular\",\n      invisible: !hasNotifications,\n      className: classNames({ [classes.closedItemIcon]: !isOpen }),\n      children: displayItemIcon\n    }\n  );\n  const openContent = /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Box, { \"data-testid\": \"login-button\", className: classes.iconContainer, children: itemIcon }),\n    text && /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: \"subtitle2\",\n        component: \"span\",\n        className: classes.label,\n        children: text\n      }\n    ),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.secondaryAction, children })\n  ] });\n  const content = isOpen ? openContent : itemIcon;\n  const childProps = {\n    onClick,\n    className: classNames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight }\n    )\n  };\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath(\n    !isButtonItem(props) && props.to ? props.to : \"\"\n  );\n  const handleClick = useCallback(\n    (event) => {\n      if (!noTrack) {\n        const action = \"click\";\n        const subject = text ?? \"Sidebar Item\";\n        const options = to ? { attributes: { to } } : void 0;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick?.(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick]\n  );\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ jsx(\n      Button,\n      {\n        role: \"button\",\n        \"aria-label\": text,\n        ...childProps,\n        ref,\n        onClick: handleClick,\n        children: content\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(\n    WorkaroundNavLink,\n    {\n      ...childProps,\n      activeClassName: classes.selected,\n      to: props.to ? props.to : \"\",\n      ref,\n      \"aria-label\": text ? text : props.to,\n      ...navLinkProps,\n      onClick: handleClick,\n      children: content\n    }\n  );\n});\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? /* @__PURE__ */ jsx(ArrowDropUpIcon, { fontSize: \"small\", className: classes.submenuArrow }) : /* @__PURE__ */ jsx(ArrowDropDownIcon, { fontSize: \"small\", className: classes.submenuArrow });\n    }\n    return !isHoveredOn && /* @__PURE__ */ jsx(ArrowRightIcon, { fontSize: \"small\", className: classes.submenuArrow });\n  };\n  return /* @__PURE__ */ jsx(\n    SidebarItemWithSubmenuContext.Provider,\n    {\n      value: {\n        isHoveredOn,\n        setIsHoveredOn\n      },\n      children: /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          \"data-testid\": \"item-with-submenu\",\n          onMouseLeave: handleMouseLeave,\n          onTouchStart: isHoveredOn ? handleMouseLeave : handleMouseEnter,\n          onMouseEnter: handleMouseEnter,\n          className: classNames(isHoveredOn && classes.highlighted),\n          children: [\n            /* @__PURE__ */ jsx(\n              SidebarItemBase,\n              {\n                hasSubmenu: true,\n                className: isActive ? classes.selected : \"\",\n                ...props,\n                children: arrowIcon()\n              }\n            ),\n            isHoveredOn && children\n          ]\n        }\n      )\n    }\n  );\n};\nconst SidebarItem = forwardRef((props, ref) => {\n  const [submenu] = useElementFilter(\n    props.children,\n    (elements) => (\n      // Directly comparing child.type with SidebarSubmenu will not work with in\n      // combination with react-hot-loader\n      //\n      // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n      elements.getElements().filter((child) => child.type === sidebarSubmenuType)\n    )\n  );\n  if (submenu) {\n    return /* @__PURE__ */ jsx(SidebarItemWithSubmenu, { ...props, children: submenu });\n  }\n  return /* @__PURE__ */ jsx(SidebarItemBase, { ...props, ref });\n});\nfunction SidebarSearchField(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState(\"\");\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : Search;\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      ev.preventDefault();\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ jsx(Box, { className: classes.searchRoot, children: /* @__PURE__ */ jsx(\n    SidebarItem,\n    {\n      icon: Icon,\n      to: props.to,\n      onClick: handleItemClick,\n      disableHighlight: true,\n      children: /* @__PURE__ */ jsx(\n        TextField,\n        {\n          placeholder: \"Search\",\n          value: input,\n          onClick: handleInputClick,\n          onChange: handleInput,\n          onKeyDown: handleEnter,\n          className: classes.searchContainer,\n          InputProps: {\n            disableUnderline: true,\n            className: classes.searchField\n          },\n          inputProps: {\n            className: classes.searchFieldHTMLInput\n          }\n        }\n      )\n    }\n  ) });\n}\nconst SidebarSpace = styled(\"div\")(\n  {\n    flex: 1\n  },\n  { name: \"BackstageSidebarSpace\" }\n);\nconst SidebarSpacer = styled(\"div\")(\n  {\n    height: 8\n  },\n  { name: \"BackstageSidebarSpacer\" }\n);\nconst SidebarDivider = styled(\"hr\")(\n  ({ theme }) => ({\n    height: 1,\n    width: \"100%\",\n    background: \"#383838\",\n    border: \"none\",\n    margin: theme.spacing(1.2, 0)\n  }),\n  { name: \"BackstageSidebarDivider\" }\n);\nconst styledScrollbar = (theme) => ({\n  overflowY: \"auto\",\n  \"&::-webkit-scrollbar\": {\n    backgroundColor: theme.palette.background.default,\n    width: \"5px\",\n    borderRadius: \"5px\"\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: \"5px\"\n  }\n});\nconst SidebarScrollWrapper = styled(\"div\")(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: \"0 1 auto\",\n    overflowX: \"hidden\",\n    width: \"100%\",\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: \"48px\",\n    overflowY: \"hidden\",\n    \"@media (hover: none)\": scrollbarStyles,\n    \"&:hover\": scrollbarStyles\n  };\n});\nconst SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  if (isSmallScreen) {\n    return null;\n  }\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n  return /* @__PURE__ */ jsx(\n    Button,\n    {\n      role: \"button\",\n      onClick: handleClick,\n      className: classes.expandButton,\n      \"aria-label\": \"Expand Sidebar\",\n      \"data-testid\": \"sidebar-expand-button\",\n      children: /* @__PURE__ */ jsx(Box, { className: classes.arrows, children: isOpen ? /* @__PURE__ */ jsx(DoubleArrowLeft, {}) : /* @__PURE__ */ jsx(DoubleArrowRight, {}) })\n    }\n  );\n};\n\nexport { SidebarDivider, SidebarExpandButton, SidebarItem, SidebarScrollWrapper, SidebarSearchField, SidebarSpace, SidebarSpacer, WorkaroundNavLink };\n//# sourceMappingURL=Items.esm.js.map\n","const LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(\n        window.localStorage.getItem(\"sidebarPinState\" /* SIDEBAR_PIN_STATE */) || \"true\"\n      );\n    } catch {\n      return true;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(\n      \"sidebarPinState\" /* SIDEBAR_PIN_STATE */,\n      JSON.stringify(state)\n    );\n  }\n};\n\nexport { LocalStorage };\n//# sourceMappingURL=localStorage.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { createContext, useState, useContext, useRef, useMemo, useEffect, useCallback } from 'react';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { LocalStorage } from './localStorage.esm.js';\nimport { SidebarPinStateProvider } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      width: \"100%\",\n      transition: \"padding-left 0.1s ease-out\",\n      isolation: \"isolate\",\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: (props) => props.isPinned ? props.sidebarConfig.drawerWidthOpen : props.sidebarConfig.drawerWidthClosed\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: (props) => props.sidebarConfig.mobileSidebarHeight\n      },\n      \"@media print\": {\n        padding: \"0px !important\"\n      }\n    },\n    content: {\n      zIndex: 0,\n      isolation: \"isolate\",\n      \"&:focus\": {\n        outline: 0\n      }\n    }\n  }),\n  { name: \"BackstageSidebarPage\" }\n);\nconst PageContext = createContext({\n  content: {\n    contentRef: void 0\n  }\n});\nfunction SidebarPage(props) {\n  const [isPinned, setIsPinned] = useState(\n    () => LocalStorage.getSidebarPinState()\n  );\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const contentRef = useRef(null);\n  const pageContext = useMemo(\n    () => ({\n      content: {\n        contentRef\n      }\n    }),\n    [contentRef]\n  );\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down(\"xs\"), {\n    noSsr: true\n  });\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles({ isPinned, sidebarConfig });\n  return /* @__PURE__ */ jsx(\n    SidebarPinStateProvider,\n    {\n      value: {\n        isPinned,\n        toggleSidebarPinState,\n        isMobile\n      },\n      children: /* @__PURE__ */ jsx(PageContext.Provider, { value: pageContext, children: /* @__PURE__ */ jsx(Box, { className: classes.root, children: props.children }) })\n    }\n  );\n}\nfunction useContent() {\n  const { content } = useContext(PageContext);\n  const focusContent = useCallback(() => {\n    content?.contentRef?.current?.focus();\n  }, [content]);\n  return { focusContent, contentRef: content?.contentRef };\n}\n\nexport { SidebarPage, useContent };\n//# sourceMappingURL=Page.esm.js.map\n","import { KubernetesValidatorFunctions } from './KubernetesValidatorFunctions.esm.js';\n\nconst defaultValidators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: (value) => {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9:+#]+(\\-[a-z0-9:+#]+)*$/.test(value);\n  }\n};\nfunction makeValidator(overrides = {}) {\n  return {\n    ...defaultValidators,\n    ...overrides\n  };\n}\n\nexport { makeValidator };\n//# sourceMappingURL=makeValidator.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { makeValidator } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityTagsPickerSchema } from './schema.esm.js';\n\nconst EntityTagsPicker = (props) => {\n  const { formData, onChange, uiSchema } = props;\n  const catalogApi = useApi(catalogApiRef);\n  const [tagOptions, setTagOptions] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [inputError, setInputError] = useState(false);\n  const tagValidator = makeValidator().isValidTag;\n  const kinds = uiSchema[\"ui:options\"]?.kinds;\n  const showCounts = uiSchema[\"ui:options\"]?.showCounts;\n  const helperText = uiSchema[\"ui:options\"]?.helperText;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { loading, value: existingTags } = useAsync(async () => {\n    const facet = \"metadata.tags\";\n    const tagsRequest = { facets: [facet] };\n    if (kinds) {\n      tagsRequest.filter = { kind: kinds };\n    }\n    const { facets } = await catalogApi.getEntityFacets(tagsRequest);\n    const tagFacets = Object.fromEntries(\n      facets[facet].map(({ value, count }) => [value, count])\n    );\n    setTagOptions(\n      Object.keys(tagFacets).sort(\n        (a, b) => showCounts ? tagFacets[b] - tagFacets[a] : a.localeCompare(b)\n      )\n    );\n    return tagFacets;\n  });\n  const setTags = (_, values) => {\n    let hasError = false;\n    let addDuplicate = false;\n    const currentTags = formData || [];\n    if (values?.length && currentTags.length < values.length) {\n      const newTag = values[values.length - 1] = values[values.length - 1].toLocaleLowerCase(\"en-US\").trim();\n      hasError = !tagValidator(newTag);\n      addDuplicate = currentTags.indexOf(newTag) !== -1;\n    }\n    setInputError(hasError);\n    setInputValue(!hasError ? \"\" : inputValue);\n    if (!hasError && !addDuplicate) {\n      onChange(values || []);\n    }\n  };\n  useEffectOnce(() => onChange(formData || []));\n  return /* @__PURE__ */ jsx(FormControl, { margin: \"normal\", children: /* @__PURE__ */ jsx(\n    Autocomplete,\n    {\n      multiple: true,\n      freeSolo: true,\n      filterSelectedOptions: true,\n      onChange: setTags,\n      disabled: isDisabled,\n      value: formData || [],\n      inputValue,\n      loading,\n      options: tagOptions,\n      ChipProps: { size: \"small\" },\n      renderOption: (option) => showCounts ? `${option} (${existingTags?.[option]})` : option,\n      renderInput: (params) => /* @__PURE__ */ jsx(\n        TextField,\n        {\n          ...params,\n          label: t(\"fields.entityTagsPicker.title\"),\n          disabled: isDisabled,\n          onChange: (e) => setInputValue(e.target.value),\n          error: inputError,\n          helperText: helperText ?? t(\"fields.entityTagsPicker.description\"),\n          FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n        }\n      )\n    }\n  ) });\n};\n\nexport { EntityTagsPicker };\n//# sourceMappingURL=EntityTagsPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst EntityTagsPickerFieldSchema = makeFieldSchemaFromZod(\n  z.array(z.string()),\n  z.object({\n    kinds: z.array(z.string()).optional().describe(\"List of kinds of entities to derive tags from\"),\n    showCounts: z.boolean().optional().describe(\"Whether to show usage counts per tag\"),\n    helperText: z.string().optional().describe(\"Helper text to display\")\n  })\n);\nconst EntityTagsPickerSchema = EntityTagsPickerFieldSchema.schema;\n\nexport { EntityTagsPickerFieldSchema, EntityTagsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo, useCallback } from 'react';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { useSearch } from '../../context/SearchContext.esm.js';\n\nconst encodePageCursor = (pageCursor) => {\n  return Buffer.from(pageCursor.toString(), \"utf-8\").toString(\"base64\");\n};\nconst decodePageCursor = (pageCursor) => {\n  if (!pageCursor) return 0;\n  return Number(Buffer.from(pageCursor, \"base64\").toString(\"utf-8\"));\n};\nconst SearchPaginationBase = (props) => {\n  const {\n    total: count = -1,\n    cursor: pageCursor,\n    hasNextPage,\n    onCursorChange: onPageCursorChange,\n    limit: rowsPerPage = 25,\n    limitLabel: labelRowsPerPage = \"Results per page:\",\n    limitText: labelDisplayedRows = ({ from, to }) => count > 0 ? `of ${count}` : `${from}-${to}`,\n    limitOptions: rowsPerPageOptions,\n    onLimitChange: onPageLimitChange,\n    ...rest\n  } = props;\n  const page = useMemo(() => decodePageCursor(pageCursor), [pageCursor]);\n  const handlePageChange = useCallback(\n    (_, newValue) => {\n      onPageCursorChange?.(encodePageCursor(newValue));\n    },\n    [onPageCursorChange]\n  );\n  const handleRowsPerPageChange = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      onPageLimitChange?.(parseInt(newValue, 10));\n    },\n    [onPageLimitChange]\n  );\n  return /* @__PURE__ */ jsx(\n    TablePagination,\n    {\n      ...rest,\n      component: \"div\",\n      count,\n      page,\n      nextIconButtonProps: {\n        ...hasNextPage !== void 0 && { disabled: !hasNextPage }\n      },\n      onPageChange: handlePageChange,\n      rowsPerPage,\n      labelRowsPerPage,\n      labelDisplayedRows,\n      rowsPerPageOptions,\n      onRowsPerPageChange: handleRowsPerPageChange\n    }\n  );\n};\nconst SearchPagination = (props) => {\n  const { pageLimit, setPageLimit, pageCursor, setPageCursor, fetchNextPage } = useSearch();\n  const handlePageLimitChange = useCallback(\n    (newPageLimit) => {\n      setPageLimit(newPageLimit);\n      setPageCursor(void 0);\n    },\n    [setPageLimit, setPageCursor]\n  );\n  return /* @__PURE__ */ jsx(\n    SearchPaginationBase,\n    {\n      ...props,\n      hasNextPage: !!fetchNextPage,\n      limit: pageLimit,\n      onLimitChange: handlePageLimitChange,\n      cursor: pageCursor,\n      onCursorChange: setPageCursor\n    }\n  );\n};\n\nexport { SearchPagination, SearchPaginationBase };\n//# sourceMappingURL=SearchPagination.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { useApi, identityApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport useAsync from 'react-use/esm/useAsync';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { OwnedEntityPickerSchema } from './schema.esm.js';\n\nconst OwnedEntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownedEntityPicker.title\"),\n      description = t(\"fields.ownedEntityPicker.description\")\n    },\n    uiSchema,\n    required\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const { loading, value: identityRefs } = useAsync(async () => {\n    const identity = await identityApi.getBackstageIdentity();\n    return identity.ownershipEntityRefs;\n  });\n  if (loading)\n    return /* @__PURE__ */ jsx(\n      Autocomplete,\n      {\n        loading,\n        renderInput: (params) => /* @__PURE__ */ jsx(\n          TextField,\n          {\n            ...params,\n            label: title,\n            margin: \"dense\",\n            helperText: description,\n            FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n            variant: \"outlined\",\n            required,\n            InputProps: params.InputProps\n          }\n        ),\n        options: []\n      }\n    );\n  const entityPickerUISchema = buildEntityPickerUISchema(\n    uiSchema,\n    identityRefs\n  );\n  return /* @__PURE__ */ jsx(EntityPicker, { ...props, uiSchema: entityPickerUISchema });\n};\nfunction buildEntityPickerUISchema(uiSchema, identityRefs) {\n  const uiOptions = uiSchema?.[\"ui:options\"] || {};\n  const { allowedKinds, ...extraOptions } = uiOptions;\n  const catalogFilter = asArray(uiOptions.catalogFilter).map((e) => ({\n    ...e,\n    ...allowedKinds ? { kind: allowedKinds } : {},\n    [`relations.${RELATION_OWNED_BY}`]: identityRefs || []\n  }));\n  return {\n    \"ui:options\": {\n      ...extraOptions,\n      catalogFilter\n    }\n  };\n}\nfunction asArray(catalogFilter) {\n  if (catalogFilter) {\n    return Array.isArray(catalogFilter) ? catalogFilter : [catalogFilter];\n  }\n  return [{}];\n}\n\nexport { OwnedEntityPicker };\n//# sourceMappingURL=OwnedEntityPicker.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst starredEntitiesApiRef = createApiRef({\n  id: \"catalog-react.starred-entities\"\n});\n\nexport { starredEntitiesApiRef };\n//# sourceMappingURL=StarredEntitiesApi.esm.js.map\n","import { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport { errorApiRef } from '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { translationApiRef } from '../apis/definitions/TranslationApi.esm.js';\nimport '../apis/definitions/AppLanguageApi.esm.js';\n\nconst loggedRefs = /* @__PURE__ */ new WeakSet();\nconst useTranslationRef = (translationRef) => {\n  const errorApi = useApi(errorApiRef);\n  const translationApi = useApi(translationApiRef);\n  const [snapshot, setSnapshot] = useState(\n    () => translationApi.getTranslation(translationRef)\n  );\n  const observable = useMemo(\n    () => translationApi.translation$(translationRef),\n    [translationApi, translationRef]\n  );\n  const onError = useCallback(\n    (error) => {\n      if (!loggedRefs.has(translationRef)) {\n        const errMsg = `Failed to load translation resource '${translationRef.id}'; caused by ${error}`;\n        console.error(errMsg);\n        errorApi.post(new Error(errMsg));\n        loggedRefs.add(translationRef);\n      }\n    },\n    [errorApi, translationRef]\n  );\n  useEffect(() => {\n    const subscription = observable.subscribe({\n      next(next) {\n        if (next.ready) {\n          setSnapshot(next);\n        }\n      },\n      error(error) {\n        onError(error);\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [observable, onError]);\n  const initialRenderRef = useRef(true);\n  useEffect(() => {\n    if (initialRenderRef.current) {\n      initialRenderRef.current = false;\n    } else {\n      setSnapshot(translationApi.getTranslation(translationRef));\n    }\n  }, [translationApi, translationRef]);\n  if (!snapshot.ready) {\n    throw new Promise((resolve) => {\n      const subscription = observable.subscribe({\n        next(next) {\n          if (next.ready) {\n            subscription.unsubscribe();\n            resolve();\n          }\n        },\n        error(error) {\n          subscription.unsubscribe();\n          onError(error);\n          resolve();\n        }\n      });\n    });\n  }\n  return { t: snapshot.t };\n};\n\nexport { useTranslationRef };\n//# sourceMappingURL=useTranslationRef.esm.js.map\n","/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This script is used to pick up and set the public path of the Webpack bundle\n// at runtime. The meta tag is injected by the app build, but only present in\n// the `index.html.tmpl` file. The runtime value of the meta tag is populated by\n// the app backend, when it templates the final `index.html` file.\n//\n// This is needed for additional chunks to use the correct public path, and it\n// is not possible to set the `__webpack_public_path__` variable outside of the\n// build itself. The Webpack output also does not read any <base> tags or\n// similar, this seems to be the only way to dynamically configure the public\n// path at runtime.\nconst el = document.querySelector('meta[name=\"backstage-public-path\"]');\nconst path = el?.getAttribute('content');\nif (path) {\n  __webpack_public_path__ = path;\n}\n","import { jsx } from 'react/jsx-runtime';\nimport { useCallback } from 'react';\nimport { useOutlet } from 'react-router-dom';\nimport { attachComponentData, createReactExtension, useElementFilter } from '@backstage/core-plugin-api';\n\nconst TECHDOCS_ADDONS_KEY = \"techdocs.addons.addon.v1\";\nconst TECHDOCS_ADDONS_WRAPPER_KEY = \"techdocs.addons.wrapper.v1\";\nconst TechDocsAddons = () => null;\nattachComponentData(TechDocsAddons, TECHDOCS_ADDONS_WRAPPER_KEY, true);\nconst getDataKeyByName = (name) => {\n  return `${TECHDOCS_ADDONS_KEY}.${name.toLocaleLowerCase(\"en-US\")}`;\n};\nfunction createTechDocsAddonExtension(options) {\n  const { name, component: TechDocsAddon } = options;\n  return createReactExtension({\n    name,\n    component: {\n      sync: (props) => /* @__PURE__ */ jsx(TechDocsAddon, { ...props })\n    },\n    data: {\n      [TECHDOCS_ADDONS_KEY]: options,\n      [getDataKeyByName(name)]: true\n    }\n  });\n}\nconst getTechDocsAddonByName = (collection, key) => {\n  return collection.selectByComponentData({ key }).getElements()[0];\n};\nconst getAllTechDocsAddons = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).selectByComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst getAllTechDocsAddonsData = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).findComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst useTechDocsAddons = () => {\n  const node = useOutlet();\n  const collection = useElementFilter(node, getAllTechDocsAddons);\n  const options = useElementFilter(node, getAllTechDocsAddonsData);\n  const findAddonByData = useCallback(\n    (data) => {\n      if (!collection || !data) return null;\n      const nameKey = getDataKeyByName(data.name);\n      return getTechDocsAddonByName(collection, nameKey) ?? null;\n    },\n    [collection]\n  );\n  const renderComponentByName = useCallback(\n    (name) => {\n      const data = options.find((option) => option.name === name);\n      return data ? findAddonByData(data) : null;\n    },\n    [options, findAddonByData]\n  );\n  const renderComponentsByLocation = useCallback(\n    (location) => {\n      const data = options.filter((option) => option.location === location);\n      return data.length ? data.map(findAddonByData) : null;\n    },\n    [options, findAddonByData]\n  );\n  return { renderComponentByName, renderComponentsByLocation };\n};\n\nexport { TECHDOCS_ADDONS_KEY, TECHDOCS_ADDONS_WRAPPER_KEY, TechDocsAddons, createTechDocsAddonExtension, getDataKeyByName, useTechDocsAddons };\n//# sourceMappingURL=addons.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { WarningPanel } from '../WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageErrorPanel\" }\n);\nconst ErrorList = ({\n  error,\n  message,\n  stack,\n  children\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(List, { dense: true, children: [\n    /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Error\",\n          secondary: error\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: error })\n    ] }),\n    /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Message\",\n          secondary: message\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: message })\n    ] }),\n    stack && /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Stack Trace\",\n          secondary: stack\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: stack })\n    ] }),\n    children\n  ] });\n};\nfunction ErrorPanel(props) {\n  const { title, error, defaultExpanded, titleFormat, children } = props;\n  return /* @__PURE__ */ jsx(\n    WarningPanel,\n    {\n      severity: \"error\",\n      title: title ?? error.message,\n      defaultExpanded,\n      titleFormat,\n      children: /* @__PURE__ */ jsx(\n        ErrorList,\n        {\n          error: error.name,\n          message: error.message,\n          stack: error.stack,\n          children\n        }\n      )\n    }\n  );\n}\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\n\nexport { routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst scmAuthApiRef = createApiRef({\n  id: \"core.scmauth\"\n});\n\nexport { scmAuthApiRef };\n//# sourceMappingURL=ScmAuthApi.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport MaterialBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useState, Children, Fragment } from 'react';\n\nconst ClickableText = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      cursor: \"pointer\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsClickableText\" }\n)(Typography);\nconst StyledBox = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      color: \"inherit\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsStyledBox\" }\n)(Box);\nconst BreadcrumbsCurrentPage = withStyles(\n  {\n    root: {\n      fontStyle: \"italic\"\n    }\n  },\n  { name: \"BreadcrumbsCurrentPage\" }\n)(Box);\nfunction Breadcrumbs(props) {\n  const { children, ...restProps } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const childrenArray = Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsxs(MaterialBreadcrumbs, { \"aria-label\": \"breadcrumb\", ...restProps, children: [\n      childrenArray.length > 1 && /* @__PURE__ */ jsx(StyledBox, { clone: true, children: firstPage }),\n      childrenArray.length > 2 && /* @__PURE__ */ jsx(StyledBox, { clone: true, children: secondPage }),\n      hasHiddenBreadcrumbs && /* @__PURE__ */ jsx(ClickableText, { onClick: handleClick, children: \"...\" }),\n      /* @__PURE__ */ jsx(BreadcrumbsCurrentPage, { children: currentPage })\n    ] }),\n    /* @__PURE__ */ jsx(\n      Popover,\n      {\n        open,\n        anchorEl,\n        onClose: handleClose,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"left\"\n        },\n        children: /* @__PURE__ */ jsx(List, { children: expandablePages.map((pageLink, index) => /* @__PURE__ */ jsx(ListItem, { button: true, children: /* @__PURE__ */ jsx(StyledBox, { clone: true, children: pageLink }) }, index)) })\n      }\n    )\n  ] });\n}\n\nexport { Breadcrumbs };\n//# sourceMappingURL=Breadcrumbs.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { Fragment as Fragment$1 } from 'react';\nimport { EntityRefLink } from './EntityRefLink.esm.js';\n\nfunction EntityRefLinks(props) {\n  const { entityRefs, hideIcons, ...linkProps } = props;\n  return /* @__PURE__ */ jsx(Fragment, { children: entityRefs.map((r, i) => {\n    const entityRefString = typeof r === \"string\" ? r : stringifyEntityRef(r);\n    return /* @__PURE__ */ jsxs(Fragment$1, { children: [\n      i > 0 && \", \",\n      /* @__PURE__ */ jsx(EntityRefLink, { ...linkProps, entityRef: r, hideIcon: hideIcons })\n    ] }, `${i}.${entityRefString}`);\n  }) });\n}\n\nexport { EntityRefLinks };\n//# sourceMappingURL=EntityRefLinks.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst GITHUB_HOST = \"github.com\";\nconst GITHUB_API_BASE_URL = \"https://api.github.com\";\nconst GITHUB_RAW_BASE_URL = \"https://raw.githubusercontent.com\";\nfunction readGithubIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? GITHUB_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  let rawBaseUrl = config.getOptionalString(\"rawBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const apps = config.getOptionalConfigArray(\"apps\")?.map((c) => ({\n    appId: c.getNumber(\"appId\"),\n    clientId: c.getString(\"clientId\"),\n    clientSecret: c.getString(\"clientSecret\"),\n    webhookSecret: c.getOptionalString(\"webhookSecret\"),\n    privateKey: c.getString(\"privateKey\"),\n    allowedInstallationOwners: c.getOptionalStringArray(\n      \"allowedInstallationOwners\"\n    )\n  }));\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitHub integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    apiBaseUrl = GITHUB_API_BASE_URL;\n  }\n  if (rawBaseUrl) {\n    rawBaseUrl = trimEnd(rawBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    rawBaseUrl = GITHUB_RAW_BASE_URL;\n  }\n  return { host, apiBaseUrl, rawBaseUrl, token, apps };\n}\nfunction readGithubIntegrationConfigs(configs) {\n  const result = configs.map(readGithubIntegrationConfig);\n  if (!result.some((c) => c.host === GITHUB_HOST)) {\n    result.push({\n      host: GITHUB_HOST,\n      apiBaseUrl: GITHUB_API_BASE_URL,\n      rawBaseUrl: GITHUB_RAW_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readGithubIntegrationConfig, readGithubIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyAsyncApiDefinition = lazy(\n  () => import('./AsyncApiDefinition.esm.js').then((m) => ({\n    default: m.AsyncApiDefinition\n  }))\n);\nconst AsyncApiDefinitionWidget = (props) => {\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(LazyAsyncApiDefinition, { ...props }) });\n};\n\nexport { AsyncApiDefinitionWidget };\n//# sourceMappingURL=AsyncApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyGraphQlDefinition = lazy(\n  () => import('./GraphQlDefinition.esm.js').then((m) => ({\n    default: m.GraphQlDefinition\n  }))\n);\nconst GraphQlDefinitionWidget = (props) => {\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(LazyGraphQlDefinition, { ...props }) });\n};\n\nexport { GraphQlDefinitionWidget };\n//# sourceMappingURL=GraphQlDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyOpenApiDefinition = lazy(\n  () => import('./OpenApiDefinition.esm.js').then((m) => ({\n    default: m.OpenApiDefinition\n  }))\n);\nconst OpenApiDefinitionWidget = (props) => {\n  const validSubmitMethods = props.supportedSubmitMethods?.map(\n    (method) => method.toLocaleLowerCase()\n  );\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(\n    LazyOpenApiDefinition,\n    {\n      ...props,\n      supportedSubmitMethods: validSubmitMethods\n    }\n  ) });\n};\n\nexport { OpenApiDefinitionWidget };\n//# sourceMappingURL=OpenApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst GrpcApiDefinitionWidget = (props) => {\n  const theme = useTheme();\n  return /* @__PURE__ */ jsx(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: props.definition,\n      language: \"protobuf\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { GrpcApiDefinitionWidget };\n//# sourceMappingURL=GrpcApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst TrpcApiDefinitionWidget = (props) => {\n  const { definition } = props;\n  const theme = useTheme();\n  return /* @__PURE__ */ jsx(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: definition,\n      language: \"typescript\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { TrpcApiDefinitionWidget };\n//# sourceMappingURL=TrpcApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { AsyncApiDefinitionWidget } from '../AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js';\nimport { GraphQlDefinitionWidget } from '../GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js';\nimport { OpenApiDefinitionWidget } from '../OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js';\nimport { GrpcApiDefinitionWidget } from '../GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js';\nimport { TrpcApiDefinitionWidget } from '../TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js';\n\nfunction defaultDefinitionWidgets() {\n  return [\n    {\n      type: \"openapi\",\n      title: \"OpenAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ jsx(OpenApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"asyncapi\",\n      title: \"AsyncAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ jsx(AsyncApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"graphql\",\n      title: \"GraphQL\",\n      rawLanguage: \"graphql\",\n      component: (definition) => /* @__PURE__ */ jsx(GraphQlDefinitionWidget, { definition })\n    },\n    {\n      type: \"grpc\",\n      title: \"gRPC\",\n      component: (definition) => /* @__PURE__ */ jsx(GrpcApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"trpc\",\n      title: \"tRPC\",\n      component: (definition) => /* @__PURE__ */ jsx(TrpcApiDefinitionWidget, { definition })\n    }\n  ];\n}\n\nexport { defaultDefinitionWidgets };\n//# sourceMappingURL=ApiDefinitionWidget.esm.js.map\n","import { createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogIndexRouteRef = createExternalRouteRef({\n  id: \"catalog-index\",\n  optional: true,\n  defaultTarget: \"catalog.catalogIndex\"\n});\n\nexport { catalogIndexRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","const TechDocsAddonLocations = Object.freeze({\n  /**\n   * These addons fill up the header from the right, on the same line as the\n   * title.\n   */\n  Header: \"Header\",\n  /**\n   * These addons appear below the header and above all content; tooling addons\n   * can be inserted for convenience.\n   */\n  Subheader: \"Subheader\",\n  /**\n   * These addons are items added to the settings menu list and are designed to make\n   * the reader experience customizable, for example accessibility options\n   */\n  Settings: \"Settings\",\n  /**\n   * These addons appear left of the content and above the navigation.\n   */\n  PrimarySidebar: \"PrimarySidebar\",\n  /**\n   * These addons appear right of the content and above the table of contents.\n   */\n  SecondarySidebar: \"SecondarySidebar\",\n  /**\n   * A virtual location which allows mutation of all content within the shadow\n   * root by transforming DOM nodes. These addons should return null on render.\n   */\n  Content: \"Content\"\n  /**\n   * todo(backstage/community): This is a proposed virtual location which would\n   * help implement a common addon pattern in which many instances of a given\n   * element in markdown would be dynamically replaced at render-time based on\n   * attributes provided on that element, for example:\n   *\n   * ```md\n   * ## For Fun\n   * <TechDocsAddon>CatGif</TechDocsAddon>\n   *\n   * ## Component Metadata\n   * <TechDocsAddon entityRef=\"default:component/some-component-name\">CatalogEntityCard</TechDocsAddon>\n   *\n   * ## System Metadata\n   * <TechDocsAddon entityRef=\"default:system/some-system-name\">CatalogEntityCard</TechDocsAddon>\n   * ```\n   *\n   * Could correspond to a TechDocs addon named `CatalogEntityCard` with\n   * location `TechDocsAddonLocations.COMPONENT`, whose `component` would be\n   * the react component that would be rendered in place of all instances of\n   * the markdown illustrated above.\n   *\n   * The `@backstage/plugin-techdocs-react` package would need to be updated to, in\n   * cases where such addons had been registered, find all instances of the\n   * the `<TechDocsAddon>` tag whose `textContent` corresponded with the name of the\n   * addon, then replace them with component instances of the addon component,\n   * passing any attributes from the tag as props to the component.\n   */\n  // Component: 'Component',\n});\n\nexport { TechDocsAddonLocations };\n//# sourceMappingURL=types.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogGraphRouteRef = createRouteRef({\n  id: \"catalog-graph\"\n});\nconst catalogEntityRouteRef = createExternalRouteRef({\n  id: \"catalog-entity\",\n  params: [\"namespace\", \"kind\", \"name\"],\n  optional: true,\n  defaultTarget: \"catalog.catalogEntity\"\n});\n\nexport { catalogEntityRouteRef, catalogGraphRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { createVersionedContext, createVersionedValueMap, useVersionedContext } from '@backstage/version-bridge';\n\nconst NewEntityContext = createVersionedContext(\n  \"entity-context\"\n);\nconst AsyncEntityProvider = (props) => {\n  const { children, entity, loading, error, refresh } = props;\n  const value = { entity, loading, error, refresh };\n  return /* @__PURE__ */ jsx(NewEntityContext.Provider, { value: createVersionedValueMap({ 1: value }), children: /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: {\n        ...entity ? { entityRef: stringifyEntityRef(entity) } : void 0\n      },\n      children\n    }\n  ) });\n};\nconst EntityProvider = (props) => /* @__PURE__ */ jsx(\n  AsyncEntityProvider,\n  {\n    entity: props.entity,\n    loading: !Boolean(props.entity),\n    error: void 0,\n    refresh: void 0,\n    children: props.children\n  }\n);\nfunction useEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  if (!value.entity) {\n    throw new Error(\n      \"useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.\"\n    );\n  }\n  return { entity: value.entity };\n}\nfunction useAsyncEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  const { entity, loading, error, refresh } = value;\n  return { entity, loading, error, refresh };\n}\n\nexport { AsyncEntityProvider, EntityProvider, useAsyncEntity, useEntity };\n//# sourceMappingURL=useEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      gridArea: \"pageContent\",\n      minWidth: 0,\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3)\n      }\n    },\n    stretch: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexGrow: 1\n    },\n    noPadding: {\n      padding: 0\n    }\n  }),\n  { name: \"BackstageContent\" }\n);\nfunction Content(props) {\n  const { className, stretch, noPadding, children, ...restProps } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"article\",\n    {\n      ...restProps,\n      className: classNames(classes.root, className, {\n        [classes.stretch]: stretch,\n        [classes.noPadding]: noPadding\n      }),\n      children\n    }\n  );\n}\n\nexport { Content };\n//# sourceMappingURL=Content.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Helmet } from 'react-helmet';\n\nconst useStyles = (props) => makeStyles(\n  (theme) => ({\n    container: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(2),\n      textAlign: props.textAlign\n    },\n    leftItemsBox: {\n      flex: \"1 1 auto\",\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    rightItemsBox: {\n      flex: \"0 1 auto\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      marginLeft: theme.spacing(1),\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    description: {},\n    title: {\n      display: \"inline-flex\",\n      marginBottom: 0\n    }\n  }),\n  { name: \"BackstageContentHeader\" }\n);\nconst ContentHeaderTitle = ({ title, className }) => /* @__PURE__ */ jsx(\n  Typography,\n  {\n    variant: \"h4\",\n    component: \"h2\",\n    className,\n    \"data-testid\": \"header-title\",\n    children: title\n  }\n);\nconst ContentHeaderDescription = ({\n  description,\n  className\n}) => description ? /* @__PURE__ */ jsx(\n  Typography,\n  {\n    variant: \"body2\",\n    className,\n    \"data-testid\": \"header-description\",\n    children: description\n  }\n) : null;\nfunction ContentHeader(props) {\n  const {\n    description,\n    title,\n    titleComponent: TitleComponent = void 0,\n    children,\n    descriptionComponent: DescriptionComponent = void 0,\n    textAlign = \"left\"\n  } = props;\n  const classes = useStyles({ textAlign })();\n  const renderedTitle = TitleComponent ? TitleComponent : /* @__PURE__ */ jsx(ContentHeaderTitle, { title, className: classes.title });\n  const renderedDescription = DescriptionComponent ? DescriptionComponent : /* @__PURE__ */ jsx(\n    ContentHeaderDescription,\n    {\n      description,\n      className: classes.description\n    }\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Helmet, { title }),\n    /* @__PURE__ */ jsxs(Box, { className: classes.container, children: [\n      /* @__PURE__ */ jsxs(Box, { className: classes.leftItemsBox, children: [\n        renderedTitle,\n        renderedDescription\n      ] }),\n      /* @__PURE__ */ jsx(Box, { className: classes.rightItemsBox, children })\n    ] })\n  ] });\n}\n\nexport { ContentHeader };\n//# sourceMappingURL=ContentHeader.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => createStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(22em, 1fr))\",\n    gridAutoRows: \"1fr\",\n    gridGap: theme.spacing(2)\n  }\n});\nconst useStyles = makeStyles(styles, { name: \"BackstageItemCardGrid\" });\nfunction ItemCardGrid(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsx(Box, { className: classes.root, ...otherProps, children });\n}\n\nexport { ItemCardGrid };\n//# sourceMappingURL=ItemCardGrid.esm.js.map\n","import { createRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"techdocs:index-page\"\n});\nconst rootDocsRouteRef = createRouteRef({\n  id: \"techdocs:reader-page\",\n  params: [\"namespace\", \"kind\", \"name\"]\n});\nconst rootCatalogDocsRouteRef = createRouteRef({\n  id: \"techdocs:catalog-reader-view\"\n});\n\nexport { rootCatalogDocsRouteRef, rootDocsRouteRef, rootRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\nexport { EntityPickerSchema } from './schema.esm.js';\n\nconst EntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    schema: {\n      title = t(\"fields.entityPicker.title\"),\n      description = t(\"fields.entityPicker.description\")\n    },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema,\n    errors\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const fields = [\n      \"metadata.name\",\n      \"metadata.namespace\",\n      \"metadata.title\",\n      \"kind\"\n    ];\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter, fields } : { filter: void 0, fields }\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const getLabel = useCallback(\n    (freeSoloValue) => {\n      try {\n        const parsedRef = parseEntityRef(freeSoloValue, {\n          defaultKind,\n          defaultNamespace\n        });\n        return stringifyEntityRef(parsedRef);\n      } catch (err) {\n        return freeSoloValue;\n      }\n    },\n    [defaultKind, defaultNamespace]\n  );\n  const onSelect = useCallback(\n    (_, ref, reason) => {\n      if (typeof ref !== \"string\") {\n        onChange(ref ? stringifyEntityRef(ref) : void 0);\n      } else {\n        if (reason === \"blur\" || reason === \"create-option\") {\n          let entityRef = ref;\n          try {\n            entityRef = stringifyEntityRef(\n              parseEntityRef(ref, {\n                defaultKind,\n                defaultNamespace\n              })\n            );\n          } catch (err) {\n          }\n          if (formData !== ref || allowArbitraryValues) {\n            onChange(entityRef);\n          }\n        }\n      }\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  const selectedEntity = entities?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) ?? (allowArbitraryValues && formData ? getLabel(formData) : \"\");\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.catalogEntities.length === 1 && selectedEntity === \"\") {\n      onChange(stringifyEntityRef(entities.catalogEntities[0]));\n    }\n  }, [entities, onChange, selectedEntity, required, allowArbitraryValues]);\n  return /* @__PURE__ */ jsx(\n    ScaffolderField,\n    {\n      rawErrors,\n      rawDescription: description,\n      required,\n      disabled: isDisabled,\n      errors,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          disabled: isDisabled || required && !allowArbitraryValues && entities?.catalogEntities.length === 1,\n          id: idSchema?.$id,\n          value: selectedEntity,\n          loading,\n          onChange: onSelect,\n          options: entities?.catalogEntities || [],\n          getOptionLabel: (option) => (\n            // option can be a string due to freeSolo.\n            typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n          ),\n          autoSelect: true,\n          freeSolo: allowArbitraryValues,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              margin: \"dense\",\n              variant: \"outlined\",\n              required,\n              disabled: isDisabled,\n              InputProps: params.InputProps\n            }\n          ),\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          filterOptions: createFilterOptions({\n            stringify: (option) => entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n          }),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || allowedKinds && { kind: allowedKinds };\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { EntityPicker };\n//# sourceMappingURL=EntityPicker.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Component } from 'react';\n\nclass PluginErrorBoundary extends Component {\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  state = { error: void 0 };\n  handleErrorReset = () => {\n    this.setState({ error: void 0 });\n  };\n  render() {\n    const { error } = this.state;\n    const { app, plugin } = this.props;\n    const { ErrorBoundaryFallback } = app.getComponents();\n    if (error) {\n      return /* @__PURE__ */ jsx(\n        ErrorBoundaryFallback,\n        {\n          error,\n          resetError: this.handleErrorReset,\n          plugin\n        }\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport { PluginErrorBoundary };\n//# sourceMappingURL=PluginErrorBoundary.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { lazy, Suspense, useEffect } from 'react';\nimport { AnalyticsContext } from '../analytics/AnalyticsContext.esm.js';\nimport { useAnalytics } from '../analytics/useAnalytics.esm.js';\nimport { useApp } from '../app/useApp.esm.js';\nimport '../routing/types.esm.js';\nimport { useRouteRef } from '../routing/useRouteRef.esm.js';\nimport 'react-router-dom';\nimport { attachComponentData } from './componentData.esm.js';\nimport { PluginErrorBoundary } from './PluginErrorBoundary.esm.js';\nimport { routableExtensionRenderedEvent } from '../analytics/Tracker.esm.js';\nimport { ForwardedError } from '@backstage/errors';\n\nfunction createRoutableExtension(options) {\n  const { component, mountPoint, name } = options;\n  return createReactExtension({\n    component: {\n      lazy: () => component().then((InnerComponent) => {\n        const RoutableExtensionWrapper = (props) => {\n          const analytics = useAnalytics();\n          try {\n            useRouteRef(mountPoint);\n          } catch (error) {\n            if (typeof error === \"object\" && error !== null) {\n              const { message } = error;\n              if (typeof message === \"string\" && message.startsWith(\"No path for \")) {\n                throw new Error(\n                  `Routable extension component with mount point ${mountPoint} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`\n                );\n              }\n            }\n            throw error;\n          }\n          useEffect(() => {\n            analytics.captureEvent(routableExtensionRenderedEvent, \"\");\n          }, [analytics]);\n          return /* @__PURE__ */ jsx(InnerComponent, { ...props });\n        };\n        const componentName = name || InnerComponent.displayName || InnerComponent.name || \"LazyComponent\";\n        RoutableExtensionWrapper.displayName = `RoutableExtension(${componentName})`;\n        return RoutableExtensionWrapper;\n      })\n    },\n    data: {\n      \"core.mountPoint\": mountPoint\n    },\n    name\n  });\n}\nfunction createComponentExtension(options) {\n  const { component, name } = options;\n  return createReactExtension({ component, name });\n}\nfunction createReactExtension(options) {\n  const { data = {}, name } = options;\n  if (!name) {\n    console.warn(\n      \"Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.\"\n    );\n  }\n  let Component;\n  if (\"lazy\" in options.component) {\n    const lazyLoader = options.component.lazy;\n    Component = lazy(\n      () => lazyLoader().then(\n        (component) => ({ default: component }),\n        (error) => {\n          const ofExtension = name ? ` of the ${name} extension` : \"\";\n          throw new ForwardedError(\n            `Failed lazy loading${ofExtension}, try to reload the page`,\n            error\n          );\n        }\n      )\n    );\n  } else {\n    Component = options.component.sync;\n  }\n  const componentName = name || Component.displayName || Component.name || \"Component\";\n  return {\n    expose(plugin) {\n      const Result = (props) => {\n        const app = useApp();\n        const { Progress } = app.getComponents();\n        const mountPoint = data?.[\"core.mountPoint\"];\n        return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(PluginErrorBoundary, { app, plugin, children: /* @__PURE__ */ jsx(\n          AnalyticsContext,\n          {\n            attributes: {\n              pluginId: plugin.getId(),\n              ...name && { extension: name },\n              ...mountPoint && { routeRef: mountPoint.id }\n            },\n            children: /* @__PURE__ */ jsx(Component, { ...props })\n          }\n        ) }) });\n      };\n      attachComponentData(Result, \"core.plugin\", plugin);\n      attachComponentData(Result, \"core.extensionName\", name);\n      for (const [key, value] of Object.entries(data)) {\n        attachComponentData(Result, key, value);\n      }\n      Result.displayName = `Extension(${componentName})`;\n      return Result;\n    }\n  };\n}\n\nexport { createComponentExtension, createReactExtension, createRoutableExtension };\n//# sourceMappingURL=extensions.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useVersionedContext } from '@backstage/version-bridge';\nimport { NotImplementedError } from '@backstage/errors';\n\nfunction useApiHolder() {\n  const versionedHolder = useVersionedContext(\"api-context\");\n  if (!versionedHolder) {\n    throw new NotImplementedError(\"API context is not available\");\n  }\n  const apiHolder = versionedHolder.atVersion(1);\n  if (!apiHolder) {\n    throw new NotImplementedError(\"ApiContext v1 not available\");\n  }\n  return apiHolder;\n}\nfunction useApi(apiRef) {\n  const apiHolder = useApiHolder();\n  const api = apiHolder.get(apiRef);\n  if (!api) {\n    throw new NotImplementedError(`No implementation available for ${apiRef}`);\n  }\n  return api;\n}\nfunction withApis(apis) {\n  return function withApisWrapper(WrappedComponent) {\n    const Hoc = (props) => {\n      const apiHolder = useApiHolder();\n      const impls = {};\n      for (const key in apis) {\n        if (apis.hasOwnProperty(key)) {\n          const ref = apis[key];\n          const api = apiHolder.get(ref);\n          if (!api) {\n            throw new NotImplementedError(\n              `No implementation available for ${ref}`\n            );\n          }\n          impls[key] = api;\n        }\n      }\n      return /* @__PURE__ */ jsx(WrappedComponent, { ...props, ...impls });\n    };\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    Hoc.displayName = `withApis(${displayName})`;\n    return Hoc;\n  };\n}\n\nexport { useApi, useApiHolder, withApis };\n//# sourceMappingURL=useApi.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { parseEntityRef } from '@backstage/catalog-model';\nimport { useApp } from '@backstage/core-plugin-api';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DEFAULT_ICON = SvgIcon;\nfunction getKind(kind, entityRef) {\n  if (kind) {\n    return kind.toLocaleLowerCase(\"en-US\");\n  }\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase(\"en-US\");\n    } catch {\n      return void 0;\n    }\n  }\n  return void 0;\n}\nfunction useIcon(kind, entityRef) {\n  const app = useApp();\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\nfunction EntityKindIcon(props) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return /* @__PURE__ */ jsx(Icon, { ...otherProps });\n}\n\nexport { EntityKindIcon };\n//# sourceMappingURL=EntityKindIcon.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel, Link, DependencyGraph, DependencyGraphTypes } from '@backstage/core-components';\nimport { useApi, useRouteRef, useApp } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { useState, useRef, useLayoutEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport '../../EntityRefLink/EntityRefLink.esm.js';\nimport { humanizeEntityRef } from '../../EntityRefLink/humanize.esm.js';\nimport { entityRouteRef } from '../../../routes.esm.js';\nimport { EntityKindIcon } from './EntityKindIcon.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  node: {\n    fill: theme.palette.grey[300],\n    stroke: theme.palette.grey[300],\n    \"&.primary\": {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.light,\n      stroke: theme.palette.secondary.light\n    }\n  },\n  text: {\n    fill: theme.palette.getContrastText(theme.palette.grey[300]),\n    \"&.primary\": {\n      fill: theme.palette.primary.contrastText\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.contrastText\n    },\n    \"&.focused\": {\n      fontWeight: \"bold\"\n    }\n  },\n  clickable: {\n    cursor: \"pointer\"\n  }\n}));\nfunction useAncestry(root) {\n  const catalogClient = useApi(catalogApiRef);\n  const entityRef = stringifyEntityRef(root);\n  const { loading, error, value } = useAsync(async () => {\n    const response = await catalogClient.getEntityAncestors({ entityRef });\n    const nodes = new Array();\n    const edges = new Array();\n    for (const current of response.items) {\n      const currentRef = stringifyEntityRef(current.entity);\n      const isRootNode = currentRef === response.rootEntityRef;\n      nodes.push({ id: currentRef, root: isRootNode, ...current.entity });\n      for (const parentRef of current.parentEntityRefs) {\n        edges.push({ from: currentRef, to: parentRef });\n      }\n    }\n    return { nodes, edges };\n  }, [entityRef]);\n  return {\n    loading,\n    error,\n    nodes: value?.nodes || [],\n    edges: value?.edges || []\n  };\n}\nfunction CustomNode({ node }) {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const entityRoute = useRouteRef(entityRouteRef);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const app = useApp();\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const hasKindIcon = app.getSystemIcon(\n    `kind:${node.kind.toLocaleLowerCase(\"en-US\")}`\n  );\n  const padding = 10;\n  const iconSize = height;\n  const paddedIconWidth = hasKindIcon ? iconSize + padding : 0;\n  const paddedWidth = paddedIconWidth + width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  const displayTitle = node.metadata.title || (node.kind && node.metadata.name && node.metadata.namespace ? humanizeEntityRef({\n    kind: node.kind,\n    name: node.metadata.name,\n    namespace: node.metadata.namespace || \"\"\n  }) : node.id);\n  const onClick = () => {\n    navigate(\n      entityRoute({\n        kind: node.kind,\n        namespace: node.metadata.namespace || DEFAULT_NAMESPACE,\n        name: node.metadata.name\n      })\n    );\n  };\n  return /* @__PURE__ */ jsxs(\"g\", { onClick, className: classes.clickable, children: [\n    /* @__PURE__ */ jsx(\n      \"rect\",\n      {\n        className: classNames(\n          classes.node,\n          node.root ? \"secondary\" : \"primary\"\n        ),\n        width: paddedWidth,\n        height: paddedHeight,\n        rx: 10\n      }\n    ),\n    hasKindIcon && /* @__PURE__ */ jsx(\n      EntityKindIcon,\n      {\n        kind: node.kind,\n        y: padding,\n        x: padding,\n        width: iconSize,\n        height: iconSize,\n        className: classNames(\n          classes.text,\n          node.root ? \"secondary\" : \"primary\"\n        )\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      \"text\",\n      {\n        ref: idRef,\n        className: classNames(\n          classes.text,\n          node.root ? \"secondary\" : \"primary\"\n        ),\n        y: paddedHeight / 2,\n        x: paddedIconWidth + (width + padding * 2) / 2,\n        textAnchor: \"middle\",\n        alignmentBaseline: \"middle\",\n        children: displayTitle\n      }\n    )\n  ] });\n}\nfunction AncestryPage(props) {\n  const { loading, error, nodes, edges } = useAncestry(props.entity);\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  } else if (error) {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.ancestryPage.title\") }),\n    /* @__PURE__ */ jsxs(DialogContentText, { gutterBottom: true, children: [\n      \"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where\",\n      \" \",\n      /* @__PURE__ */ jsx(Link, { to: \"https://backstage.io/docs/features/software-catalog/life-of-an-entity\", children: \"processors emitted\" }),\n      \" \",\n      \"child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations.\"\n    ] }),\n    /* @__PURE__ */ jsx(Box, { mt: 4, children: /* @__PURE__ */ jsx(\n      DependencyGraph,\n      {\n        nodes,\n        edges,\n        renderNode: CustomNode,\n        direction: DependencyGraphTypes.Direction.BOTTOM_TOP,\n        zoom: \"enable-on-click\"\n      }\n    ) })\n  ] });\n}\n\nexport { AncestryPage };\n//# sourceMappingURL=AncestryPage.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Link } from '@backstage/core-components';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText$1 from '@material-ui/core/ListItemText';\nimport MuiListSubheader from '@material-ui/core/ListSubheader';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  marginTop: {\n    marginTop: theme.spacing(2)\n  },\n  helpIcon: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.disabled\n  },\n  monospace: {\n    fontFamily: \"monospace\"\n  }\n}));\nfunction ListItemText(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ListItemText$1,\n    {\n      ...props,\n      primaryTypographyProps: { className: classes.monospace },\n      secondaryTypographyProps: { className: classes.monospace }\n    }\n  );\n}\nfunction ListSubheader(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(MuiListSubheader, { className: classes.monospace, children: props.children });\n}\nfunction Container(props) {\n  return /* @__PURE__ */ jsx(Box, { mt: 2, children: /* @__PURE__ */ jsx(Card, { variant: \"outlined\", children: /* @__PURE__ */ jsxs(CardContent, { children: [\n    /* @__PURE__ */ jsxs(Typography, { variant: \"h6\", gutterBottom: true, children: [\n      props.title,\n      props.helpLink && /* @__PURE__ */ jsx(HelpIcon, { to: props.helpLink })\n    ] }),\n    props.children\n  ] }) }) });\n}\nfunction findLink(value) {\n  if (value.match(/^url:https?:\\/\\//)) {\n    return value.slice(\"url:\".length);\n  }\n  if (value.match(/^https?:\\/\\//)) {\n    return value;\n  }\n  return void 0;\n}\nfunction KeyValueListItem(props) {\n  const [key, value] = props.entry;\n  const link = findLink(value);\n  return /* @__PURE__ */ jsxs(ListItem, { children: [\n    props.indent && /* @__PURE__ */ jsx(ListItemIcon, {}),\n    /* @__PURE__ */ jsx(\n      ListItemText,\n      {\n        primary: key,\n        secondary: link ? /* @__PURE__ */ jsx(Link, { to: link, children: value }) : value\n      }\n    )\n  ] });\n}\nfunction HelpIcon(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Link, { to: props.to, className: classes.helpIcon, children: /* @__PURE__ */ jsx(HelpOutlineIcon, { fontSize: \"inherit\" }) });\n}\n\nexport { Container, HelpIcon, KeyValueListItem, ListItemText, ListSubheader };\n//# sourceMappingURL=common.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, stringifyEntityRef } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport 'react';\nimport 'lodash/get';\nimport { KeyValueListItem, ListItemText } from './common.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction useColocated(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const currentEntityRef = stringifyEntityRef(entity);\n  const location = entity.metadata.annotations?.[ANNOTATION_LOCATION];\n  const origin = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const { loading, error, value } = useAsync(async () => {\n    if (!location && !origin) {\n      return [];\n    }\n    const response = await catalogApi.getEntities({\n      filter: [\n        ...location ? [{ [`metadata.annotations.${ANNOTATION_LOCATION}`]: location }] : [],\n        ...origin ? [{ [`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]: origin }] : []\n      ]\n    });\n    return response.items;\n  }, [location, origin]);\n  return {\n    loading,\n    error,\n    location,\n    originLocation: origin,\n    colocatedEntities: value?.filter(\n      (colocated) => stringifyEntityRef(colocated) !== currentEntityRef\n    )\n  };\n}\nfunction EntityList(props) {\n  return /* @__PURE__ */ jsxs(List, { dense: true, children: [\n    props.header && /* @__PURE__ */ jsx(KeyValueListItem, { entry: props.header }, \"header\"),\n    props.entities.map((entity) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: entity }) }) }, stringifyEntityRef(entity)))\n  ] });\n}\nfunction Contents(props) {\n  const { entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const { loading, error, location, originLocation, colocatedEntities } = useColocated(entity);\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  } else if (error) {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error });\n  }\n  if (!location && !originLocation) {\n    return /* @__PURE__ */ jsx(Alert, { severity: \"warning\", children: t(\"inspectEntityDialog.colocatedPage.alertNoLocation\") });\n  } else if (!colocatedEntities?.length) {\n    return /* @__PURE__ */ jsx(Alert, { severity: \"info\", children: t(\"inspectEntityDialog.colocatedPage.alertNoEntity\") });\n  }\n  if (location === originLocation) {\n    return /* @__PURE__ */ jsx(EntityList, { entities: colocatedEntities });\n  }\n  const atLocation = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_LOCATION] === location\n  );\n  const atOrigin = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION] === originLocation\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    atLocation.length > 0 && /* @__PURE__ */ jsx(\n      EntityList,\n      {\n        entities: atLocation,\n        header: [\"At the same location\", location]\n      }\n    ),\n    atOrigin.length > 0 && /* @__PURE__ */ jsx(\n      EntityList,\n      {\n        entities: atOrigin,\n        header: [\"At the same origin\", originLocation]\n      }\n    )\n  ] });\n}\nfunction ColocatedPage(props) {\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.colocatedPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.colocatedPage.description\") }),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.root, children: /* @__PURE__ */ jsx(Contents, { entity: props.entity }) })\n  ] });\n}\n\nexport { ColocatedPage };\n//# sourceMappingURL=ColocatedPage.esm.js.map\n","function sortKeys(data) {\n  return Object.fromEntries(\n    [...Object.entries(data)].sort((a, b) => a[0] < b[0] ? -1 : 1)\n  );\n}\n\nexport { sortKeys };\n//# sourceMappingURL=util.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction JsonPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.jsonPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.jsonPage.description\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: /* @__PURE__ */ jsx(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\", children: /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: JSON.stringify(sortKeys(props.entity), void 0, 2),\n        language: \"json\",\n        showCopyCodeButton: true\n      }\n    ) }) })\n  ] });\n}\n\nexport { JsonPage };\n//# sourceMappingURL=JsonPage.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport 'react';\nimport 'lodash/get';\nimport { Container, ListItemText, ListSubheader, HelpIcon, KeyValueListItem } from './common.esm.js';\nimport { CopyTextButton } from '@backstage/core-components';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction OverviewPage(props) {\n  const classes = useStyles();\n  const {\n    apiVersion,\n    kind,\n    metadata,\n    spec,\n    relations = [],\n    status = {}\n  } = props.entity;\n  const groupedRelations = groupBy(\n    sortBy(relations, (r) => r.targetRef),\n    \"type\"\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const entityRef = stringifyEntityRef(props.entity);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.overviewPage.title\") }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.root, children: [\n      /* @__PURE__ */ jsx(Container, { title: \"Identity\", children: /* @__PURE__ */ jsxs(List, { dense: true, children: [\n        /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: \"apiVersion\", secondary: apiVersion }) }),\n        /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: \"kind\", secondary: kind }) }),\n        spec?.type && /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(\n          ListItemText,\n          {\n            primary: \"spec.type\",\n            secondary: spec.type?.toString()\n          }\n        ) }),\n        metadata.uid && /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"uid\", secondary: metadata.uid }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: metadata.uid }) })\n        ] }),\n        metadata.etag && /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"etag\", secondary: metadata.etag }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: metadata.etag }) })\n        ] }),\n        /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"entityRef\", secondary: entityRef }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: entityRef }) })\n        ] })\n      ] }) }),\n      /* @__PURE__ */ jsxs(Container, { title: \"Metadata\", children: [\n        !!Object.keys(metadata.annotations || {}).length && /* @__PURE__ */ jsx(\n          List,\n          {\n            dense: true,\n            subheader: /* @__PURE__ */ jsxs(ListSubheader, { children: [\n              \"Annotations\",\n              /* @__PURE__ */ jsx(HelpIcon, { to: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\" })\n            ] }),\n            children: Object.entries(metadata.annotations).map((entry) => /* @__PURE__ */ jsx(KeyValueListItem, { indent: true, entry }, entry[0]))\n          }\n        ),\n        !!Object.keys(metadata.labels || {}).length && /* @__PURE__ */ jsx(List, { dense: true, subheader: /* @__PURE__ */ jsx(ListSubheader, { children: \"Labels\" }), children: Object.entries(metadata.labels).map((entry) => /* @__PURE__ */ jsx(KeyValueListItem, { indent: true, entry }, entry[0])) }),\n        !!metadata.tags?.length && /* @__PURE__ */ jsx(List, { dense: true, subheader: /* @__PURE__ */ jsx(ListSubheader, { children: \"Tags\" }), children: metadata.tags.map((tag, index) => /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemIcon, {}),\n          /* @__PURE__ */ jsx(ListItemText, { primary: tag })\n        ] }, `${tag}-${index}`)) })\n      ] }),\n      !!relations.length && /* @__PURE__ */ jsx(\n        Container,\n        {\n          title: \"Relations\",\n          helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-relations\",\n          children: Object.entries(groupedRelations).map(\n            ([type, groupRelations], index) => /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(List, { dense: true, subheader: /* @__PURE__ */ jsx(ListSubheader, { children: type }), children: groupRelations.map((group) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(\n              ListItemText,\n              {\n                primary: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: group.targetRef })\n              }\n            ) }, group.targetRef)) }) }, index)\n          )\n        }\n      ),\n      !!status.items?.length && /* @__PURE__ */ jsx(\n        Container,\n        {\n          title: \"Status\",\n          helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-statuses\",\n          children: status.items.map((item, index) => /* @__PURE__ */ jsxs(\"div\", { children: [\n            /* @__PURE__ */ jsxs(Typography, { children: [\n              item.level,\n              \": \",\n              item.type\n            ] }),\n            /* @__PURE__ */ jsx(Box, { ml: 2, children: item.message })\n          ] }, index))\n        }\n      )\n    ] })\n  ] });\n}\n\nexport { OverviewPage };\n//# sourceMappingURL=OverviewPage.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport YAML from 'yaml';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction YamlPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.yamlPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.yamlPage.description\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: /* @__PURE__ */ jsx(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\", children: /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: YAML.stringify(sortKeys(props.entity)),\n        language: \"yaml\",\n        showCopyCodeButton: true\n      }\n    ) }) })\n  ] });\n}\n\nexport { YamlPage };\n//# sourceMappingURL=YamlPage.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\nimport { AncestryPage } from './components/AncestryPage.esm.js';\nimport { ColocatedPage } from './components/ColocatedPage.esm.js';\nimport { JsonPage } from './components/JsonPage.esm.js';\nimport { OverviewPage } from './components/OverviewPage.esm.js';\nimport { YamlPage } from './components/YamlPage.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  fullHeightDialog: {\n    height: \"calc(100% - 64px)\"\n  },\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    flexShrink: 0\n  },\n  tabContents: {\n    flexGrow: 1,\n    overflowX: \"auto\"\n  }\n}));\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      role: \"tabpanel\",\n      hidden: value !== index,\n      id: `vertical-tabpanel-${index}`,\n      \"aria-labelledby\": `vertical-tab-${index}`,\n      className: classes.tabContents,\n      ...other,\n      children: value === index && /* @__PURE__ */ jsx(Box, { pl: 3, pr: 3, children })\n    }\n  );\n}\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`\n  };\n}\nconst tabNames = {\n  overview: \"Overview\",\n  ancestry: \"Ancestry\",\n  colocated: \"Colocated\",\n  json: \"Raw JSON\",\n  yaml: \"Raw YAML\"\n};\nconst tabs = Object.keys(tabNames);\nfunction InspectEntityDialog(props) {\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = useState(\n    getTabIndex(tabs, props.initialTab)\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  useEffect(() => {\n    getTabIndex(tabs, props.initialTab);\n  }, [props.open, props.initialTab]);\n  if (!props.entity) {\n    return null;\n  }\n  return /* @__PURE__ */ jsxs(\n    Dialog,\n    {\n      fullWidth: true,\n      maxWidth: \"xl\",\n      open: props.open,\n      onClose: props.onClose,\n      \"aria-labelledby\": \"entity-inspector-dialog-title\",\n      PaperProps: { className: classes.fullHeightDialog },\n      children: [\n        /* @__PURE__ */ jsx(DialogTitle, { id: \"entity-inspector-dialog-title\", children: t(\"inspectEntityDialog.title\") }),\n        /* @__PURE__ */ jsx(DialogContent, { dividers: true, children: /* @__PURE__ */ jsxs(\"div\", { className: classes.root, children: [\n          /* @__PURE__ */ jsx(\n            Tabs,\n            {\n              orientation: \"vertical\",\n              variant: \"scrollable\",\n              value: activeTab,\n              onChange: (_, tabIndex) => {\n                setActiveTab(tabIndex);\n                props.onSelect?.(tabs[tabIndex]);\n              },\n              \"aria-label\": \"Inspector options\",\n              className: classes.tabs,\n              children: tabs.map((tab, index) => /* @__PURE__ */ jsx(Tab, { label: tabNames[tab], ...a11yProps(index) }, tab))\n            }\n          ),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 0, children: /* @__PURE__ */ jsx(OverviewPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 1, children: /* @__PURE__ */ jsx(AncestryPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 2, children: /* @__PURE__ */ jsx(ColocatedPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 3, children: /* @__PURE__ */ jsx(JsonPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 4, children: /* @__PURE__ */ jsx(YamlPage, { entity: props.entity }) })\n        ] }) }),\n        /* @__PURE__ */ jsx(DialogActions, { children: /* @__PURE__ */ jsx(Button, { onClick: props.onClose, color: \"primary\", children: t(\"inspectEntityDialog.closeButtonTitle\") }) })\n      ]\n    }\n  );\n}\nfunction getTabIndex(allTabs, initialTab) {\n  return initialTab ? allTabs.indexOf(initialTab) : 0;\n}\n\nexport { InspectEntityDialog };\n//# sourceMappingURL=InspectEntityDialog.esm.js.map\n","import { ANNOTATION_ORIGIN_LOCATION, getCompoundEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef } from '../../api.esm.js';\nimport { useCallback } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\n\nfunction useUnregisterEntityDialogState(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getLocationByRef(locationRef);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: { [locationAnnotationFilter]: locationRef },\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(\n      ([location2, colocatedEntities2]) => ({\n        location: location2,\n        colocatedEntities: colocatedEntities2\n      })\n    );\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(\n    async function unregisterLocationFn() {\n      const { location: location2 } = prerequisites.value;\n      await catalogApi.removeLocationById(location2.id);\n    },\n    [catalogApi, prerequisites]\n  );\n  const deleteEntity = useCallback(\n    async function deleteEntityFn() {\n      await catalogApi.removeEntityByUid(uid);\n    },\n    [catalogApi, uid]\n  );\n  if (isBootstrap) {\n    return { type: \"bootstrap\", location: locationRef, deleteEntity };\n  }\n  const { loading, error, value } = prerequisites;\n  if (loading) {\n    return { type: \"loading\" };\n  } else if (error) {\n    return { type: \"error\", error };\n  }\n  const { location, colocatedEntities } = value;\n  if (!location) {\n    return { type: \"only-delete\", deleteEntity };\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getCompoundEntityRef),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nexport { useUnregisterEntityDialogState };\n//# sourceMappingURL=useUnregisterEntityDialogState.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { EntityRefLink } from '../EntityRefLink/EntityRefLink.esm.js';\nimport '@backstage/catalog-model';\nimport { useState, useCallback } from 'react';\nimport 'lodash/get';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useUnregisterEntityDialogState } from './useUnregisterEntityDialogState.esm.js';\nimport { useApi, alertApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { assertError } from '@backstage/errors';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  },\n  dialogActions: {\n    display: \"inline-block\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm,\n  onClose\n}) => {\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const onUnregister = useCallback(\n    async function onUnregisterFn() {\n      if (\"unregisterLocation\" in state) {\n        setBusy(true);\n        try {\n          await state.unregisterLocation();\n          onConfirm();\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state]\n  );\n  const onDelete = useCallback(\n    async function onDeleteFn() {\n      if (\"deleteEntity\" in state) {\n        setBusy(true);\n        try {\n          await state.deleteEntity();\n          const entityName = entity.metadata.title ?? entity.metadata.name;\n          onConfirm();\n          alertApi.post({\n            message: t(\"unregisterEntityDialog.deleteEntitySuccessMessage\", {\n              entityName\n            }),\n            severity: \"success\",\n            display: \"transient\"\n          });\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state, entity, t]\n  );\n  const DialogActionsPanel = () => /* @__PURE__ */ jsx(DialogActions, { className: classes.dialogActions, children: /* @__PURE__ */ jsx(Button, { onClick: onClose, color: \"primary\", children: t(\"unregisterEntityDialog.cancelButtonTitle\") }) });\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error: state.error });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Alert, { severity: \"info\", children: t(\"unregisterEntityDialog.bootstrapState.title\", {\n        appTitle,\n        location: state.location\n      }) }),\n      /* @__PURE__ */ jsxs(Box, { marginTop: 2, children: [\n        !showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Button,\n            {\n              variant: \"text\",\n              size: \"small\",\n              color: \"primary\",\n              className: classes.advancedButton,\n              onClick: () => setShowDelete(true),\n              children: t(\"unregisterEntityDialog.bootstrapState.advancedOptions\")\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogActionsPanel, {})\n        ] }),\n        showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.bootstrapState.advancedDescription\") }),\n          /* @__PURE__ */ jsx(\n            Button,\n            {\n              variant: \"contained\",\n              color: \"secondary\",\n              disabled: busy,\n              onClick: onDelete,\n              children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogActionsPanel, {})\n        ] })\n      ] })\n    ] });\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.onlyDeleteStateTitle\") }),\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: busy,\n          onClick: onDelete,\n          children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n        }\n      ),\n      /* @__PURE__ */ jsx(DialogActionsPanel, {})\n    ] });\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.title\") }),\n      /* @__PURE__ */ jsx(DialogContentText, { component: \"ul\", children: state.colocatedEntities.map((e) => /* @__PURE__ */ jsx(\"li\", { children: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: e }) }, `${e.kind}:${e.namespace}/${e.name}`)) }),\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.subTitle\") }),\n      /* @__PURE__ */ jsx(DialogContentText, { component: \"ul\", children: /* @__PURE__ */ jsx(\"li\", { children: state.location }) }),\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.description\", {\n        appTitle\n      }) }),\n      /* @__PURE__ */ jsxs(Box, { marginTop: 2, children: [\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"contained\",\n            color: \"secondary\",\n            disabled: busy,\n            onClick: onUnregister,\n            children: t(\"unregisterEntityDialog.unregisterState.unregisterButtonTitle\")\n          }\n        ),\n        !showDelete && /* @__PURE__ */ jsx(Box, { component: \"span\", marginLeft: 2, children: /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"text\",\n            size: \"small\",\n            color: \"primary\",\n            className: classes.advancedButton,\n            onClick: () => setShowDelete(true),\n            children: t(\"unregisterEntityDialog.unregisterState.advancedOptions\")\n          }\n        ) })\n      ] }),\n      showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Box, { paddingTop: 4, paddingBottom: 4, children: /* @__PURE__ */ jsx(Divider, {}) }),\n        /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.advancedDescription\") }),\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"contained\",\n            color: \"secondary\",\n            disabled: busy,\n            onClick: onDelete,\n            children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n          }\n        )\n      ] })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: t(\"unregisterEntityDialog.errorStateTitle\") });\n};\nconst UnregisterEntityDialog = (props) => {\n  const { open, onConfirm, onClose, entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Dialog, { open, onClose, children: [\n    /* @__PURE__ */ jsx(DialogTitle, { id: \"responsive-dialog-title\", children: t(\"unregisterEntityDialog.title\") }),\n    /* @__PURE__ */ jsx(DialogContent, { children: /* @__PURE__ */ jsx(Contents, { entity, onConfirm, onClose }) })\n  ] });\n};\n\nexport { UnregisterEntityDialog };\n//# sourceMappingURL=UnregisterEntityDialog.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction UnregisterEntity(props) {\n  const {\n    unregisterEntityOptions,\n    isUnregisterAllowed,\n    onUnregisterEntity,\n    onClose\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const isBoolean = typeof unregisterEntityOptions?.disableUnregister === \"boolean\";\n  const isDisabled = (!isUnregisterAllowed || (isBoolean ? !!unregisterEntityOptions?.disableUnregister : unregisterEntityOptions?.disableUnregister === \"disable\")) ?? false;\n  let unregisterButton = /* @__PURE__ */ jsx(Fragment, {});\n  if (unregisterEntityOptions?.disableUnregister !== \"hidden\") {\n    unregisterButton = /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          onUnregisterEntity();\n        },\n        disabled: isDisabled,\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(CancelIcon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: t(\"entityContextMenu.unregisterMenuTitle\") })\n        ]\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: unregisterButton });\n}\n\nexport { UnregisterEntity };\n//# sourceMappingURL=UnregisterEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst EntityContextMenuContext = createVersionedContext(\"entity-context-menu-context\");\nconst EntityContextMenuProvider = (props) => {\n  const { children, onMenuClose } = props;\n  const value = { onMenuClose };\n  return /* @__PURE__ */ jsx(\n    EntityContextMenuContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  );\n};\n\nexport { EntityContextMenuProvider };\n//# sourceMappingURL=EntityContextMenuContext.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport Divider from '@material-ui/core/Divider';\nimport FileCopyTwoToneIcon from '@material-ui/icons/FileCopyTwoTone';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { useState, useEffect } from 'react';\nimport { useEntityPermission } from '@backstage/plugin-catalog-react/alpha';\nimport { catalogEntityDeletePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { UnregisterEntity } from './UnregisterEntity.esm.js';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { EntityContextMenuProvider } from '../../context/EntityContextMenuContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => {\n    return {\n      button: {\n        color: theme.page.fontColor\n      }\n    };\n  },\n  { name: \"PluginCatalogEntityContextMenu\" }\n);\nfunction EntityContextMenu(props) {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    contextMenuItems,\n    onUnregisterEntity,\n    onInspectEntity\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles();\n  const unregisterPermission = useEntityPermission(\n    catalogEntityDeletePermission\n  );\n  const isAllowed = unregisterPermission.allowed;\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  const alertApi = useApi(alertApiRef);\n  const [copyState, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (!copyState.error && copyState.value) {\n      alertApi.post({\n        message: t(\"entityContextMenu.copiedMessage\"),\n        severity: \"info\",\n        display: \"transient\"\n      });\n    }\n  }, [copyState, alertApi, t]);\n  const extraItems = UNSTABLE_extraContextMenuItems && [\n    ...UNSTABLE_extraContextMenuItems.map((item) => /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          item.onClick();\n        },\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(item.Icon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: item.title })\n        ]\n      },\n      item.title\n    )),\n    /* @__PURE__ */ jsx(Divider, {}, \"the divider is here!\")\n  ];\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Tooltip, { title: t(\"entityContextMenu.moreButtonTitle\"), arrow: true, children: /* @__PURE__ */ jsx(\n      IconButton,\n      {\n        \"aria-label\": \"more\",\n        \"aria-controls\": \"long-menu\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": !!anchorEl,\n        role: \"button\",\n        onClick: onOpen,\n        \"data-testid\": \"menu-button\",\n        className: classes.button,\n        id: \"long-menu\",\n        children: /* @__PURE__ */ jsx(MoreVert, {})\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\n      Popover,\n      {\n        open: Boolean(anchorEl),\n        onClose,\n        anchorEl,\n        anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n        transformOrigin: { vertical: \"top\", horizontal: \"right\" },\n        \"aria-labelledby\": \"long-menu\",\n        PaperProps: {\n          style: { minWidth: 200 }\n        },\n        children: /* @__PURE__ */ jsxs(MenuList, { autoFocusItem: Boolean(anchorEl), children: [\n          extraItems,\n          contextMenuItems === void 0 ? /* @__PURE__ */ jsxs(Fragment, { children: [\n            /* @__PURE__ */ jsx(\n              UnregisterEntity,\n              {\n                unregisterEntityOptions: UNSTABLE_contextMenuOptions,\n                isUnregisterAllowed: isAllowed,\n                onUnregisterEntity,\n                onClose\n              }\n            ),\n            /* @__PURE__ */ jsxs(\n              MenuItem,\n              {\n                onClick: () => {\n                  onClose();\n                  onInspectEntity();\n                },\n                children: [\n                  /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(BugReportIcon, { fontSize: \"small\" }) }),\n                  /* @__PURE__ */ jsx(\n                    ListItemText,\n                    {\n                      primary: t(\"entityContextMenu.inspectMenuTitle\")\n                    }\n                  )\n                ]\n              }\n            ),\n            /* @__PURE__ */ jsxs(\n              MenuItem,\n              {\n                onClick: () => {\n                  onClose();\n                  copyToClipboard(window.location.toString());\n                },\n                children: [\n                  /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(FileCopyTwoToneIcon, { fontSize: \"small\" }) }),\n                  /* @__PURE__ */ jsx(\n                    ListItemText,\n                    {\n                      primary: t(\"entityContextMenu.copyURLMenuTitle\")\n                    }\n                  )\n                ]\n              }\n            )\n          ] }) : /* @__PURE__ */ jsx(EntityContextMenuProvider, { onMenuClose: onClose, children: contextMenuItems })\n        ] })\n      }\n    )\n  ] });\n}\n\nexport { EntityContextMenu };\n//# sourceMappingURL=EntityContextMenu.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { DEFAULT_NAMESPACE, RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { Page, Header, Breadcrumbs, Progress, RoutedTabs, Content, WarningPanel, Link, HeaderLabel } from '@backstage/core-components';\nimport { attachComponentData, useRouteRefParams, useElementFilter, useRouteRef, useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { entityRouteRef, useAsyncEntity, catalogApiRef, EntityRefLink, InspectEntityDialog, UnregisterEntityDialog, EntityDisplayName, FavoriteEntity, getEntityRelations, EntityRefLinks } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { rootRouteRef, unregisterRedirectRouteRef } from '../../routes.esm.js';\nimport { EntityContextMenu } from '../EntityContextMenu/EntityContextMenu.esm.js';\n\nconst dataKey = \"plugin.catalog.entityLayoutRoute\";\nconst Route = () => null;\nattachComponentData(Route, dataKey, true);\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction EntityLayoutTitle(props) {\n  const { entity, title } = props;\n  return /* @__PURE__ */ jsxs(Box, { display: \"inline-flex\", alignItems: \"center\", height: \"1em\", maxWidth: \"100%\", children: [\n    /* @__PURE__ */ jsx(\n      Box,\n      {\n        component: \"span\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        children: entity ? /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: entity, hideIcon: true }) : title\n      }\n    ),\n    entity && /* @__PURE__ */ jsx(FavoriteEntity, { entity })\n  ] });\n}\nfunction headerProps(paramKind, paramNamespace, paramName, entity) {\n  const kind = paramKind ?? entity?.kind ?? \"\";\n  const namespace = paramNamespace ?? entity?.metadata.namespace ?? \"\";\n  const name = entity?.metadata.title ?? paramName ?? entity?.metadata.name ?? \"\";\n  return {\n    headerTitle: `${name}${namespace && namespace !== DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n}\nfunction EntityLabels(props) {\n  const { entity } = props;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    ownedByRelations.length > 0 && /* @__PURE__ */ jsx(\n      HeaderLabel,\n      {\n        label: t(\"entityLabels.ownerLabel\"),\n        contentTypograpyRootComponent: \"p\",\n        value: /* @__PURE__ */ jsx(\n          EntityRefLinks,\n          {\n            entityRefs: ownedByRelations,\n            defaultKind: \"Group\",\n            color: \"inherit\"\n          }\n        )\n      }\n    ),\n    entity.spec?.lifecycle && /* @__PURE__ */ jsx(\n      HeaderLabel,\n      {\n        label: t(\"entityLabels.lifecycleLabel\"),\n        value: entity.spec.lifecycle?.toString()\n      }\n    )\n  ] });\n}\nfunction findParentRelation(entityRelations = [], relationTypes = []) {\n  for (const type of relationTypes) {\n    const foundRelation = entityRelations.find(\n      (relation) => relation.type === type\n    );\n    if (foundRelation) {\n      return foundRelation;\n    }\n  }\n  return null;\n}\nconst useStyles = makeStyles((theme) => ({\n  breadcrumbs: {\n    color: theme.page.fontColor,\n    fontSize: theme.typography.caption.fontSize,\n    textTransform: \"uppercase\",\n    marginTop: theme.spacing(1),\n    opacity: 0.8,\n    \"& span \": {\n      color: theme.page.fontColor,\n      textDecoration: \"underline\",\n      textUnderlineOffset: \"3px\"\n    }\n  }\n}));\nconst EntityLayout = (props) => {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    children,\n    NotFoundComponent,\n    parentEntityRelations\n  } = props;\n  const classes = useStyles();\n  const { kind, namespace, name } = useRouteRefParams(entityRouteRef);\n  const { entity, loading, error } = useAsyncEntity();\n  const location = useLocation();\n  const routes = useElementFilter(\n    children,\n    (elements) => elements.selectByComponentData({\n      key: dataKey,\n      withStrictError: \"Child of EntityLayout must be an EntityLayout.Route\"\n    }).getElements().flatMap(({ props: elementProps }) => {\n      if (!entity) {\n        return [];\n      } else if (elementProps.if && !elementProps.if(entity)) {\n        return [];\n      }\n      return [\n        {\n          path: elementProps.path,\n          title: elementProps.title,\n          children: elementProps.children,\n          tabProps: elementProps.tabProps\n        }\n      ];\n    }),\n    [entity]\n  );\n  const { headerTitle, headerType } = headerProps(\n    kind,\n    namespace,\n    name,\n    entity\n  );\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const catalogRoute = useRouteRef(rootRouteRef);\n  const unregisterRedirectRoute = useRouteRef(unregisterRedirectRouteRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\n      unregisterRedirectRoute ? unregisterRedirectRoute() : catalogRoute()\n    );\n  };\n  const parentEntity = findParentRelation(\n    entity?.relations ?? [],\n    parentEntityRelations ?? []\n  );\n  const catalogApi = useApi(catalogApiRef);\n  const { value: ancestorEntity } = useAsync(async () => {\n    if (parentEntity) {\n      return findParentRelation(\n        (await catalogApi.getEntityByRef(parentEntity?.targetRef))?.relations,\n        parentEntityRelations\n      );\n    }\n    return null;\n  }, [parentEntity]);\n  useEffect(() => {\n    setConfirmationDialogOpen(false);\n  }, [location.pathname]);\n  const selectedInspectTab = searchParams.get(\"inspect\");\n  const showInspectTab = typeof selectedInspectTab === \"string\";\n  return /* @__PURE__ */ jsxs(Page, { themeId: entity?.spec?.type?.toString() ?? \"home\", children: [\n    /* @__PURE__ */ jsx(\n      Header,\n      {\n        title: /* @__PURE__ */ jsx(EntityLayoutTitle, { title: headerTitle, entity }),\n        pageTitleOverride: headerTitle,\n        type: headerType,\n        subtitle: parentEntity && /* @__PURE__ */ jsxs(Breadcrumbs, { separator: \">\", className: classes.breadcrumbs, children: [\n          ancestorEntity && /* @__PURE__ */ jsx(\n            EntityRefLink,\n            {\n              entityRef: ancestorEntity.targetRef,\n              disableTooltip: true\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            EntityRefLink,\n            {\n              entityRef: parentEntity.targetRef,\n              disableTooltip: true\n            }\n          ),\n          name\n        ] }),\n        children: entity && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(EntityLabels, { entity }),\n          /* @__PURE__ */ jsx(\n            EntityContextMenu,\n            {\n              UNSTABLE_extraContextMenuItems,\n              UNSTABLE_contextMenuOptions,\n              onUnregisterEntity: () => setConfirmationDialogOpen(true),\n              onInspectEntity: () => setSearchParams(\"inspect\")\n            }\n          )\n        ] })\n      }\n    ),\n    loading && /* @__PURE__ */ jsx(Progress, {}),\n    entity && /* @__PURE__ */ jsx(RoutedTabs, { routes }),\n    error && /* @__PURE__ */ jsx(Content, { children: /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: error.toString() }) }),\n    !loading && !error && !entity && /* @__PURE__ */ jsx(Content, { children: NotFoundComponent ? NotFoundComponent : /* @__PURE__ */ jsxs(WarningPanel, { title: t(\"entityLabels.warningPanelTitle\"), children: [\n      \"There is no \",\n      kind,\n      \" with the requested\",\n      \" \",\n      /* @__PURE__ */ jsx(Link, { to: \"https://backstage.io/docs/features/software-catalog/references\", children: \"kind, namespace, and name\" }),\n      \".\"\n    ] }) }),\n    showInspectTab && /* @__PURE__ */ jsx(\n      InspectEntityDialog,\n      {\n        entity,\n        initialTab: selectedInspectTab || void 0,\n        onSelect: (newTab) => setSearchParams(`inspect=${newTab}`),\n        open: true,\n        onClose: () => setSearchParams()\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      UnregisterEntityDialog,\n      {\n        open: confirmationDialogOpen,\n        entity,\n        onConfirm: cleanUpAfterRemoval,\n        onClose: () => setConfirmationDialogOpen(false)\n      }\n    )\n  ] });\n};\nEntityLayout.Route = Route;\n\nexport { EntityLayout };\n//# sourceMappingURL=EntityLayout.esm.js.map\n","import zodToJsonSchema from 'zod-to-json-schema';\n\nfunction makeFieldSchemaFromZod(returnSchema, uiOptionsSchema) {\n  return {\n    schema: {\n      returnValue: zodToJsonSchema(returnSchema),\n      uiOptions: uiOptionsSchema ? zodToJsonSchema(uiOptionsSchema) : void 0\n    },\n    type: null,\n    uiOptionsType: null,\n    TProps: void 0,\n    TOutput: void 0\n  };\n}\n\nexport { makeFieldSchemaFromZod };\n//# sourceMappingURL=utils.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useContext } from 'react';\n\nconst AnalyticsReactContext = createVersionedContext(\"analytics-context\");\nconst useAnalyticsContext = () => {\n  const theContext = useContext(AnalyticsReactContext);\n  if (theContext === void 0) {\n    return {\n      routeRef: \"unknown\",\n      pluginId: \"root\",\n      extension: \"App\"\n    };\n  }\n  const theValue = theContext.atVersion(1);\n  if (theValue === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return theValue;\n};\nconst AnalyticsContext = (options) => {\n  const { attributes, children } = options;\n  const parentValues = useAnalyticsContext();\n  const combinedValue = {\n    ...parentValues,\n    ...attributes\n  };\n  const versionedCombinedValue = createVersionedValueMap({ 1: combinedValue });\n  return /* @__PURE__ */ jsx(AnalyticsReactContext.Provider, { value: versionedCombinedValue, children });\n};\n\nexport { AnalyticsContext, useAnalyticsContext };\n//# sourceMappingURL=AnalyticsContext.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst formFieldsApiRef = createApiRef({\n  id: \"plugin.scaffolder.form-fields\"\n});\n\nexport { formFieldsApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\nimport { entityQueryFilterExpressionSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnedEntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    allowedKinds: z.array(z.string()).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from\"\n    ),\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst OwnedEntityPickerSchema = OwnedEntityPickerFieldSchema.schema;\n\nexport { OwnedEntityPickerFieldSchema, OwnedEntityPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst searchApiRef = createApiRef({\n  id: \"plugin.search.queryservice\"\n});\nclass MockSearchApi {\n  constructor(mockedResults) {\n    this.mockedResults = mockedResults;\n  }\n  query() {\n    return Promise.resolve(this.mockedResults || { results: [] });\n  }\n}\n\nexport { MockSearchApi, searchApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { parseEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { createRouteRef } from '@backstage/core-plugin-api';\nimport { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst entityRouteRef = getOrCreateGlobalSingleton(\n  \"catalog:entity-route-ref\",\n  () => createRouteRef({\n    id: \"catalog:entity\",\n    params: [\"namespace\", \"kind\", \"name\"]\n  })\n);\nfunction entityRouteParams(entityOrRef, options) {\n  let kind;\n  let namespace;\n  let name;\n  if (typeof entityOrRef === \"string\") {\n    const parsed = parseEntityRef(entityOrRef);\n    kind = parsed.kind;\n    namespace = parsed.namespace;\n    name = parsed.name;\n  } else if (\"metadata\" in entityOrRef) {\n    kind = entityOrRef.kind;\n    namespace = entityOrRef.metadata.namespace;\n    name = entityOrRef.metadata.name;\n  } else {\n    kind = entityOrRef.kind;\n    namespace = entityOrRef.namespace;\n    name = entityOrRef.name;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  namespace = namespace?.toLocaleLowerCase(\"en-US\") ?? DEFAULT_NAMESPACE;\n  const { encodeParams = false } = options || {};\n  if (encodeParams) {\n    kind = encodeURIComponent(kind);\n    namespace = encodeURIComponent(namespace);\n    name = encodeURIComponent(name);\n  }\n  return {\n    kind,\n    namespace,\n    name\n  };\n}\n\nexport { entityRouteParams, entityRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { BottomLink } from '../BottomLink/BottomLink.esm.js';\nimport { ErrorBoundary } from '../ErrorBoundary/ErrorBoundary.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    noPadding: {\n      padding: 0,\n      \"&:last-child\": {\n        paddingBottom: 0\n      }\n    },\n    contentAlignBottom: {\n      display: \"flex\",\n      alignItems: \"self-end\"\n    },\n    header: {\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    headerTitle: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    headerSubheader: {\n      paddingTop: theme.spacing(1)\n    },\n    headerAvatar: {},\n    headerAction: {},\n    headerContent: {},\n    subheader: {\n      display: \"flex\"\n    }\n  }),\n  { name: \"BackstageInfoCard\" }\n);\nconst CardActionsTopRight = withStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-block\",\n      padding: theme.spacing(8, 8, 0, 0),\n      float: \"right\"\n    }\n  }),\n  { name: \"BackstageInfoCardCardActionsTopRight\" }\n)(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      // for pages without content header\n      marginBottom: \"10px\",\n      breakInside: \"avoid-page\",\n      \"@media print\": {\n        height: \"auto\"\n      }\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nfunction InfoCard(props) {\n  const {\n    title,\n    subheader,\n    divider = true,\n    deepLink,\n    slackChannel,\n    errorBoundaryProps,\n    variant,\n    alignContent = \"normal\",\n    children,\n    headerStyle,\n    headerProps,\n    icon,\n    action,\n    actionsClassName,\n    actions,\n    cardClassName,\n    actionsTopRight,\n    className,\n    noPadding,\n    titleTypographyProps,\n    subheaderTypographyProps\n  } = props;\n  const classes = useStyles();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  const cardSubTitle = () => {\n    if (!subheader && !icon) {\n      return null;\n    }\n    return /* @__PURE__ */ jsxs(\"div\", { \"data-testid\": \"info-card-subheader\", children: [\n      subheader && /* @__PURE__ */ jsx(\"div\", { className: classes.subheader, children: subheader }),\n      icon\n    ] });\n  };\n  const errProps = errorBoundaryProps || (slackChannel ? { slackChannel } : {});\n  return /* @__PURE__ */ jsx(Card, { style: calculatedStyle, className, children: /* @__PURE__ */ jsxs(ErrorBoundary, { ...errProps, children: [\n    title && /* @__PURE__ */ jsx(\n      CardHeader,\n      {\n        classes: {\n          root: classNames(classes.header),\n          title: classes.headerTitle,\n          subheader: classes.headerSubheader,\n          avatar: classes.headerAvatar,\n          action: classes.headerAction,\n          content: classes.headerContent\n        },\n        title,\n        subheader: cardSubTitle(),\n        action,\n        style: { ...headerStyle },\n        titleTypographyProps,\n        subheaderTypographyProps,\n        ...headerProps\n      }\n    ),\n    actionsTopRight && /* @__PURE__ */ jsx(CardActionsTopRight, { children: actionsTopRight }),\n    divider && /* @__PURE__ */ jsx(Divider, {}),\n    /* @__PURE__ */ jsx(\n      CardContent,\n      {\n        className: classNames(cardClassName, {\n          [classes.noPadding]: noPadding,\n          [classes.contentAlignBottom]: alignContent === \"bottom\"\n        }),\n        style: calculatedCardStyle,\n        children\n      }\n    ),\n    actions && /* @__PURE__ */ jsx(CardActions, { className: actionsClassName, children: actions }),\n    deepLink && /* @__PURE__ */ jsx(BottomLink, { ...deepLink })\n  ] }) });\n}\n\nexport { InfoCard };\n//# sourceMappingURL=InfoCard.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { trimEnd } from 'lodash';\n\nfunction isValidHost(host) {\n  const check = new URL(\"http://example.com\");\n  check.host = host;\n  return check.host === host;\n}\nfunction isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction basicIntegrations(integrations, getHost) {\n  return {\n    list() {\n      return integrations;\n    },\n    byUrl(url) {\n      try {\n        const parsed = typeof url === \"string\" ? new URL(url) : url;\n        return integrations.find((i) => getHost(i) === parsed.host);\n      } catch {\n        return void 0;\n      }\n    },\n    byHost(host) {\n      return integrations.find((i) => getHost(i) === host);\n    }\n  };\n}\nfunction defaultScmResolveUrl(options) {\n  const { url, base, lineNumber } = options;\n  try {\n    new URL(url);\n    return url;\n  } catch {\n  }\n  let updated;\n  if (url.startsWith(\"/\")) {\n    const { href, filepath } = parseGitUrl(base);\n    updated = new URL(href);\n    const repoRootPath = trimEnd(\n      updated.pathname.substring(0, updated.pathname.length - filepath.length),\n      \"/\"\n    );\n    updated.pathname = `${repoRootPath}${url}`;\n  } else {\n    updated = new URL(url, base);\n  }\n  updated.search = new URL(base).search;\n  if (lineNumber) {\n    updated.hash = `L${lineNumber}`;\n  }\n  return updated.toString();\n}\n\nexport { basicIntegrations, defaultScmResolveUrl, isValidHost, isValidUrl };\n//# sourceMappingURL=helpers.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nexport { MultiEntityPickerSchema } from './schema.esm.js';\n\nconst MultiEntityPicker = (props) => {\n  const {\n    onChange,\n    schema: { title = \"Entity\", description = \"An entity from the catalog\" },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const [noOfItemsSelected, setNoOfItemsSelected] = useState(0);\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter } : void 0\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { entities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const maxItems = props.schema.maxItems;\n  const onSelect = useCallback(\n    (_, refs, reason) => {\n      const values = refs.map((ref) => {\n        if (typeof ref !== \"string\") {\n          return ref ? stringifyEntityRef(ref) : void 0;\n        }\n        if (reason === \"blur\" || reason === \"create-option\") {\n          let entityRef = ref;\n          try {\n            entityRef = stringifyEntityRef(\n              parseEntityRef(ref, {\n                defaultKind,\n                defaultNamespace\n              })\n            );\n          } catch (err) {\n          }\n          if (formData?.includes(ref) || allowArbitraryValues) {\n            return entityRef;\n          }\n        }\n        return void 0;\n      }).filter((ref) => ref !== void 0);\n      setNoOfItemsSelected(values.length);\n      onChange(values);\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.entities?.length === 1) {\n      onChange([stringifyEntityRef(entities?.entities[0])]);\n    }\n  }, [entities, onChange, required, allowArbitraryValues]);\n  return /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !formData,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          multiple: true,\n          filterSelectedOptions: true,\n          disabled: isDisabled || required && !allowArbitraryValues && entities?.entities?.length === 1,\n          id: idSchema?.$id,\n          defaultValue: formData,\n          loading,\n          onChange: onSelect,\n          options: entities?.entities || [],\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          getOptionLabel: (option) => (\n            // option can be a string due to freeSolo.\n            typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n          ),\n          getOptionDisabled: (_options) => maxItems ? noOfItemsSelected >= maxItems : false,\n          autoSelect: true,\n          freeSolo: allowArbitraryValues,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              disabled: isDisabled,\n              margin: \"dense\",\n              helperText: description,\n              FormHelperTextProps: {\n                margin: \"dense\",\n                style: { marginLeft: 0 }\n              },\n              variant: \"outlined\",\n              required,\n              InputProps: {\n                ...params.InputProps,\n                required: formData?.length === 0 && required\n              }\n            }\n          ),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\nconst validateMultiEntityPickerValidation = (values, validation) => {\n  values.forEach((value) => {\n    try {\n      parseEntityRef(value);\n    } catch {\n      validation.addError(`${value} is not a valid entity ref`);\n    }\n  });\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter;\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { MultiEntityPicker, validateMultiEntityPickerValidation };\n//# sourceMappingURL=MultiEntityPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst entityQueryFilterExpressionSchema = z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst MultiEntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.array(z.string()),\n  z.object({\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst MultiEntityPickerSchema = MultiEntityPickerFieldSchema.schema;\n\nexport { MultiEntityPickerFieldSchema, MultiEntityPickerSchema, entityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { StarIcon, UnstarredIcon } from '../../icons/icons.esm.js';\n\nconst useStyles = makeStyles(\n  () => ({\n    icon: {\n      color: \"#f3ba37\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    },\n    iconBorder: {\n      color: \"inherit\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    }\n  }),\n  { name: \"BackstageFavoriteToggleIcon\" }\n);\nfunction FavoriteToggleIcon(props) {\n  const { isFavorite } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      component: \"span\",\n      className: isFavorite ? classes.icon : classes.iconBorder,\n      children: isFavorite ? /* @__PURE__ */ jsx(StarIcon, {}) : /* @__PURE__ */ jsx(UnstarredIcon, {})\n    }\n  );\n}\nfunction FavoriteToggle(props) {\n  const {\n    id,\n    title,\n    isFavorite: value,\n    onToggle: onChange,\n    ...iconButtonProps\n  } = props;\n  return /* @__PURE__ */ jsx(Tooltip, { id, title, children: /* @__PURE__ */ jsx(\n    IconButton,\n    {\n      \"aria-label\": title,\n      id,\n      onClick: () => onChange(!value),\n      color: \"inherit\",\n      ...iconButtonProps,\n      children: /* @__PURE__ */ jsx(FavoriteToggleIcon, { isFavorite: value })\n    }\n  ) });\n}\n\nexport { FavoriteToggle, FavoriteToggleIcon };\n//# sourceMappingURL=FavoriteToggle.esm.js.map\n","const CATALOG_FILTER_EXISTS = Symbol.for(\n  // Random UUID to ensure no collisions\n  \"CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111\"\n);\n\nexport { CATALOG_FILTER_EXISTS };\n//# sourceMappingURL=api.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst errorApiRef = createApiRef({\n  id: \"core.error\"\n});\n\nexport { errorApiRef };\n//# sourceMappingURL=ErrorApi.esm.js.map\n","import { createPlugin } from '@backstage/core-plugin-api';\nimport { catalogGraphRouteRef, catalogEntityRouteRef } from './routes.esm.js';\n\nconst catalogGraphPlugin = createPlugin({\n  id: \"catalog-graph\",\n  routes: {\n    catalogGraph: catalogGraphRouteRef\n  },\n  externalRoutes: {\n    catalogEntity: catalogEntityRouteRef\n  }\n});\n\nexport { catalogGraphPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createComponentExtension, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { catalogGraphPlugin } from './plugin.esm.js';\nimport { catalogGraphRouteRef } from './routes.esm.js';\n\nconst EntityCatalogGraphCard = catalogGraphPlugin.provide(\n  createComponentExtension({\n    name: \"EntityCatalogGraphCard\",\n    component: {\n      lazy: () => import('./components/CatalogGraphCard/index.esm.js').then((m) => m.CatalogGraphCard)\n    }\n  })\n);\nconst CatalogGraphPage = catalogGraphPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogGraphPage\",\n    component: () => import('./components/CatalogGraphPage/index.esm.js').then((m) => m.CatalogGraphPage),\n    mountPoint: catalogGraphRouteRef\n  })\n);\n\nexport { CatalogGraphPage, EntityCatalogGraphCard };\n//# sourceMappingURL=extensions.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      maxWidth: \"fit-content\",\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    boxTitle: {\n      margin: 0,\n      color: theme.palette.textSubtle\n    },\n    arrow: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageBottomLink\" }\n);\nfunction BottomLink(props) {\n  const { link, title, onClick } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(Box, { children: [\n    /* @__PURE__ */ jsx(Divider, {}),\n    /* @__PURE__ */ jsx(Link, { to: link, onClick, underline: \"none\", children: /* @__PURE__ */ jsxs(Box, { display: \"flex\", alignItems: \"center\", className: classes.root, children: [\n      /* @__PURE__ */ jsx(Box, { className: classes.boxTitle, fontWeight: \"fontWeightBold\", m: 1, children: /* @__PURE__ */ jsx(Typography, { children: /* @__PURE__ */ jsx(\"strong\", { children: title }) }) }),\n      /* @__PURE__ */ jsx(ArrowIcon, { className: classes.arrow })\n    ] }) })\n  ] });\n}\n\nexport { BottomLink };\n//# sourceMappingURL=BottomLink.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\n\nconst BitbucketRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  accessToken,\n  isDisabled,\n  required\n}) => {\n  const { host, workspace, repository, branch } = state;\n  const [availableBranches, setAvailableBranches] = useState([]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableBranches = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !workspace || !repository || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableBranches([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"branches\",\n      context: { workspace, repository },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableBranches(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableBranches([]);\n    });\n  }, [host, workspace, repository, accessToken, scaffolderApi]);\n  useDebounce(updateAvailableBranches, 500, [updateAvailableBranches]);\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: branch,\n            onChange: (_, newValue) => {\n              onChange({ branch: newValue || \"\" });\n            },\n            disabled: isDisabled,\n            options: availableBranches,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: \"Branch\",\n                disabled: isDisabled,\n                required\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { BitbucketRepoBranchPicker };\n//# sourceMappingURL=BitbucketRepoBranchPicker.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\n\nconst DefaultRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  isDisabled,\n  required\n}) => {\n  const { branch } = state;\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"branchInput\",\n            label: \"Branch\",\n            disabled: isDisabled,\n            onChange: (e) => onChange({ branch: e.target.value }),\n            value: branch\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { DefaultRepoBranchPicker };\n//# sourceMappingURL=DefaultRepoBranchPicker.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\n\nconst GitHubRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  accessToken,\n  isDisabled,\n  required\n}) => {\n  const { host, owner, repository, branch } = state;\n  const [availableBranches, setAvailableBranches] = useState([]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableBranches = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !owner || !repository || !accessToken || !host) {\n      setAvailableBranches([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"branches\",\n      context: { host, owner, repository },\n      provider: \"github\"\n    }).then(({ results }) => {\n      setAvailableBranches(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableBranches([]);\n    });\n  }, [host, owner, repository, accessToken, scaffolderApi]);\n  useDebounce(updateAvailableBranches, 500, [updateAvailableBranches]);\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: branch,\n            onChange: (_, newValue) => {\n              onChange({ branch: newValue || \"\" });\n            },\n            disabled: isDisabled,\n            options: availableBranches,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: \"Branch\",\n                disabled: isDisabled,\n                required\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { GitHubRepoBranchPicker };\n//# sourceMappingURL=GitHubRepoBranchPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport { useState, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { BitbucketRepoBranchPicker } from './BitbucketRepoBranchPicker.esm.js';\nimport { DefaultRepoBranchPicker } from './DefaultRepoBranchPicker.esm.js';\nimport { GitHubRepoBranchPicker } from './GitHubRepoBranchPicker.esm.js';\n\nconst RepoBranchPicker = (props) => {\n  const {\n    uiSchema,\n    onChange,\n    rawErrors,\n    formData,\n    schema,\n    formContext,\n    required\n  } = props;\n  const {\n    formData: { repoUrl }\n  } = formContext;\n  const [state, setState] = useState({\n    branch: formData || \"\"\n  });\n  const { host, branch } = state;\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey]) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n    },\n    500,\n    [host, uiSchema]\n  );\n  useEffect(() => {\n    if (repoUrl) {\n      const url = new URL(`https://${repoUrl}`);\n      setState((prevState) => ({\n        ...prevState,\n        host: url.host,\n        workspace: url.searchParams.get(\"workspace\") || \"\",\n        repository: url.searchParams.get(\"repo\") || \"\",\n        owner: url.searchParams.get(\"owner\") || \"\"\n      }));\n    }\n  }, [repoUrl]);\n  useEffect(() => {\n    onChange(branch);\n  }, [branch, onChange]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  const hostType = (host && integrationApi.byHost(host)?.type) ?? null;\n  const renderRepoBranchPicker = () => {\n    switch (hostType) {\n      case \"bitbucket\":\n        return /* @__PURE__ */ jsx(\n          BitbucketRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey],\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n      case \"github\":\n        return /* @__PURE__ */ jsx(\n          GitHubRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey],\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n      default:\n        return /* @__PURE__ */ jsx(\n          DefaultRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n    }\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    schema.title && /* @__PURE__ */ jsxs(Box, { my: 1, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: schema.title }),\n      /* @__PURE__ */ jsx(Divider, {})\n    ] }),\n    schema.description && /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: schema.description }),\n    renderRepoBranchPicker()\n  ] });\n};\n\nexport { RepoBranchPicker };\n//# sourceMappingURL=RepoBranchPicker.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useState, useEffect, useCallback } from 'react';\nimport '../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport { starredEntitiesApiRef } from '../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nfunction getEntityRef(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntity(entityOrRef) {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const [isStarredEntity, setIsStarredEntity] = useState(false);\n  useEffect(() => {\n    const subscription = starredEntitiesApi.starredEntitie$().subscribe({\n      next(starredEntities) {\n        setIsStarredEntity(starredEntities.has(getEntityRef(entityOrRef)));\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [entityOrRef, starredEntitiesApi]);\n  const toggleStarredEntity = useCallback(\n    () => starredEntitiesApi.toggleStarred(getEntityRef(entityOrRef)).then(),\n    [entityOrRef, starredEntitiesApi]\n  );\n  return {\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nexport { useStarredEntity };\n//# sourceMappingURL=useStarredEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useStarredEntity } from '../../hooks/useStarredEntity.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { FavoriteToggle } from '@backstage/core-components';\n\nconst FavoriteEntity = (props) => {\n  const { toggleStarredEntity, isStarredEntity } = useStarredEntity(\n    props.entity\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const title = isStarredEntity ? t(\"favoriteEntity.removeFromFavorites\") : t(\"favoriteEntity.addToFavorites\");\n  const id = `favorite-${stringifyEntityRef(props.entity).replace(\n    /[^a-zA-Z0-9-_]/g,\n    \"-\"\n  )}`;\n  return /* @__PURE__ */ jsx(\n    FavoriteToggle,\n    {\n      title,\n      id,\n      isFavorite: isStarredEntity,\n      onToggle: toggleStarredEntity,\n      ...props\n    }\n  );\n};\n\nexport { FavoriteEntity };\n//# sourceMappingURL=FavoriteEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport { Children, createElement } from 'react';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    markdown: {\n      \"& table\": {\n        borderCollapse: \"collapse\",\n        border: `1px solid ${theme.palette.border}`\n      },\n      \"& th, & td\": {\n        border: `1px solid ${theme.palette.border}`,\n        padding: theme.spacing(1)\n      },\n      \"& td\": {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      \"& th\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr:nth-child(odd)\": {\n        backgroundColor: theme.palette.background.default\n      },\n      \"& a\": {\n        color: theme.palette.link\n      },\n      \"& img\": {\n        maxWidth: \"100%\"\n      }\n    }\n  }),\n  { name: \"BackstageMarkdownContent\" }\n);\nconst flatten = (text, child) => {\n  if (!child) return text;\n  return typeof child === \"string\" ? text + child : Children.toArray(child.props.children).reduce(flatten, text);\n};\nconst headingRenderer = ({ level, children }) => {\n  const childrenArray = Children.toArray(children);\n  const text = childrenArray.reduce(flatten, \"\");\n  const slug = text.toLocaleLowerCase(\"en-US\").replace(/\\W/g, \"-\");\n  return createElement(`h${level}`, { id: slug }, children);\n};\nconst components = {\n  code: ({ inline, className, children, ...props }) => {\n    const text = String(children).replace(/\\n+$/, \"\");\n    const match = /language-(\\w+)/.exec(className || \"\");\n    return !inline && match ? /* @__PURE__ */ jsx(CodeSnippet, { language: match[1], text }) : /* @__PURE__ */ jsx(\"code\", { className, ...props, children });\n  },\n  h1: headingRenderer,\n  h2: headingRenderer,\n  h3: headingRenderer,\n  h4: headingRenderer,\n  h5: headingRenderer,\n  h6: headingRenderer\n};\nfunction MarkdownContent(props) {\n  const {\n    content,\n    dialect = \"gfm\",\n    linkTarget,\n    transformLinkUri,\n    transformImageUri,\n    className\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ReactMarkdown,\n    {\n      remarkPlugins: dialect === \"gfm\" ? [gfm] : [],\n      className: `${classes.markdown} ${className ?? \"\"}`.trim(),\n      children: content,\n      components,\n      linkTarget,\n      transformLinkUri,\n      transformImageUri\n    }\n  );\n}\n\nexport { MarkdownContent };\n//# sourceMappingURL=MarkdownContent.esm.js.map\n","class ApiRefImpl {\n  constructor(config) {\n    this.config = config;\n    const valid = config.id.split(\".\").flatMap((part) => part.split(\"-\")).every((part) => part.match(/^[a-z][a-z0-9]*$/));\n    if (!valid) {\n      throw new Error(\n        `API id must only contain period separated lowercase alphanum tokens with dashes, got '${config.id}'`\n      );\n    }\n  }\n  get id() {\n    return this.config.id;\n  }\n  // Utility for getting type of an api, using `typeof apiRef.T`\n  get T() {\n    throw new Error(`tried to read ApiRef.T of ${this}`);\n  }\n  toString() {\n    return `apiRef{${this.config.id}}`;\n  }\n}\nfunction createApiRef(config) {\n  return new ApiRefImpl(config);\n}\n\nexport { createApiRef };\n//# sourceMappingURL=ApiRef.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\nimport { SelectComponent } from '../Select/Select.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      height: \"100%\",\n      width: \"315px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginRight: theme.spacing(3)\n    },\n    value: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: theme.spacing(7.5),\n      justifyContent: \"space-between\",\n      borderBottom: `1px solid ${theme.palette.grey[500]}`\n    },\n    filters: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& > *\": {\n        marginTop: theme.spacing(2)\n      }\n    }\n  }),\n  { name: \"BackstageTableFilters\" }\n);\nconst Filters = (props) => {\n  const classes = useFilterStyles();\n  const { onChangeFilters } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ jsxs(Box, { className: classes.root, children: [\n    /* @__PURE__ */ jsxs(Box, { className: classes.header, children: [\n      /* @__PURE__ */ jsx(Box, { className: classes.value, children: t(\"table.filter.title\") }),\n      /* @__PURE__ */ jsx(Button, { color: \"primary\", onClick: handleClick, children: t(\"table.filter.clearAll\") })\n    ] }),\n    /* @__PURE__ */ jsx(Box, { className: classes.filters, children: props.filters?.length && props.filters.map((filter) => /* @__PURE__ */ jsx(\n      SelectComponent,\n      {\n        triggerReset: reset,\n        ...filter.element,\n        selected: selectedFilters[filter.element.label],\n        onChange: (el) => setSelectedFilters({\n          ...selectedFilters,\n          [filter.element.label]: el\n        })\n      },\n      filter.element.label\n    )) })\n  ] });\n};\n\nexport { Filters };\n//# sourceMappingURL=Filters.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction TableLoadingBody(props) {\n  return /* @__PURE__ */ jsx(\"tbody\", { \"data-testid\": \"loading-indicator\", children: /* @__PURE__ */ jsx(\"tr\", { children: /* @__PURE__ */ jsx(\"td\", { colSpan: props.colSpan, children: /* @__PURE__ */ jsx(\n    Box,\n    {\n      sx: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        minHeight: \"15rem\"\n      },\n      children: /* @__PURE__ */ jsx(CircularProgress, { size: \"5rem\" })\n    }\n  ) }) }) });\n}\n\nexport { TableLoadingBody };\n//# sourceMappingURL=TableLoadingBody.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport MTable, { MTableHeader, MTableToolbar, MTableBody } from '@material-table/core';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport Search from '@material-ui/icons/Search';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { transform, isEqual } from 'lodash';\nimport { forwardRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { Filters } from './Filters.esm.js';\nimport { TableLoadingBody } from './TableLoadingBody.esm.js';\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ jsx(AddBox, { ...props, ref })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ jsx(Check, { ...props, ref })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ jsx(Clear, { ...props, ref })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ jsx(DeleteOutline, { ...props, ref })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronRight, { ...props, ref })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ jsx(Edit, { ...props, ref })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ jsx(SaveAlt, { ...props, ref })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ jsx(FilterList, { ...props, ref })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(FirstPage, { ...props, ref })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(LastPage, { ...props, ref })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronRight, { ...props, ref })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronLeftIcon, { ...props, ref })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ jsx(Clear, { ...props, ref })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ jsx(Search, { ...props, ref })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ jsx(ArrowUpward, { ...props, ref })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ jsx(Remove, { ...props, ref })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ jsx(ViewColumn, { ...props, ref }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles(\n  (theme) => ({\n    header: {\n      padding: theme.spacing(1, 2, 1, 2.5),\n      borderTop: `1px solid ${theme.palette.grey.A100}`,\n      borderBottom: `1px solid ${theme.palette.grey.A100}`,\n      // withStyles hasn't a generic overload for theme\n      fontWeight: theme.typography.fontWeightBold,\n      position: \"static\",\n      wordBreak: \"normal\",\n      textTransform: \"uppercase\"\n    }\n  }),\n  { name: \"BackstageTableHeader\" }\n)(MTableHeader);\nconst StyledMTableToolbar = withStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(3, 0, 2.5, 2.5)\n    },\n    title: {\n      \"& > h6\": {\n        fontWeight: theme.typography.fontWeightBold\n      }\n    },\n    searchField: {\n      paddingRight: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageTableToolbar\" }\n)(MTableToolbar);\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    title: {\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: 18,\n      whiteSpace: \"nowrap\"\n    }\n  }),\n  { name: \"BackstageTableFiltersContainer\" }\n);\nconst useTableStyles = makeStyles(\n  () => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"start\"\n    }\n  }),\n  { name: \"BackstageTable\" }\n);\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    const headerStyle = column.headerStyle ?? {};\n    let cellStyle = column.cellStyle || {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      if (typeof cellStyle === \"object\") {\n        cellStyle.fontWeight = theme.typography.fontWeightBold;\n      } else {\n        const cellStyleFn = cellStyle;\n        cellStyle = (data, rowData, rowColumn) => {\n          const style = cellStyleFn(data, rowData, rowColumn);\n          return { ...style, fontWeight: theme.typography.fontWeightBold };\n        };\n      }\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback(\n    (searchText) => {\n      toolbarProps.onSearchChanged(searchText);\n      setSearch(searchText);\n    },\n    [toolbarProps, setSearch]\n  );\n  if (hasFilters) {\n    return /* @__PURE__ */ jsxs(Box, { className: filtersClasses.root, children: [\n      /* @__PURE__ */ jsxs(Box, { className: filtersClasses.root, children: [\n        /* @__PURE__ */ jsx(IconButton, { onClick: toggleFilters, \"aria-label\": \"filter list\", children: /* @__PURE__ */ jsx(FilterList, {}) }),\n        /* @__PURE__ */ jsxs(Typography, { className: filtersClasses.title, children: [\n          t(\"table.filter.title\"),\n          \" (\",\n          selectedFiltersLength,\n          \")\"\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx(\n        StyledMTableToolbar,\n        {\n          ...toolbarProps,\n          ref: toolbarRef,\n          onSearchChanged\n        }\n      )\n    ] });\n  }\n  return /* @__PURE__ */ jsx(\n    StyledMTableToolbar,\n    {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }\n  );\n}\nfunction Table(props) {\n  const {\n    data,\n    columns,\n    emptyContent,\n    options,\n    title,\n    subtitle,\n    localization,\n    filters,\n    initialState,\n    onStateChange,\n    components,\n    isLoading: loading,\n    style,\n    ...restProps\n  } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const tableClasses = useTableStyles();\n  const theme = useTheme();\n  const calculatedInitialState = { ...defaultInitialState, ...initialState };\n  const [filtersOpen, setFiltersOpen] = useState(\n    calculatedInitialState.filtersOpen\n  );\n  const toggleFilters = useCallback(\n    () => setFiltersOpen((v) => !v),\n    [setFiltersOpen]\n  );\n  const [selectedFilters, setSelectedFilters] = useState(\n    calculatedInitialState.filters\n  );\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues(\n        {\n          search,\n          filtersOpen,\n          filters: selectedFilters\n        },\n        defaultInitialState\n      );\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const getFieldByTitle = useCallback(\n    (titleValue) => columns.find((el) => el.title === titleValue)?.field,\n    [columns]\n  );\n  const tableData = useMemo(() => {\n    if (typeof data === \"function\" || !selectedFilters) {\n      return data;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter(\n        (el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n          const fieldValue = extractValueByField(\n            el,\n            getFieldByTitle(key)\n          );\n          if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n            return fieldValue.some((v) => filterValue.includes(v));\n          } else if (Array.isArray(fieldValue)) {\n            return fieldValue.includes(filterValue);\n          } else if (Array.isArray(filterValue)) {\n            return filterValue.includes(fieldValue);\n          }\n          return fieldValue === filterValue;\n        })\n      );\n      return newData;\n    }\n    return data;\n  }, [data, selectedFilters, getFieldByTitle]);\n  const selectedFiltersLength = Object.values(selectedFilters).flat().length;\n  const hasFilters = !!filters?.length;\n  const Toolbar = useCallback(\n    (toolbarProps) => {\n      return /* @__PURE__ */ jsx(\n        TableToolbar,\n        {\n          setSearch,\n          hasFilters,\n          selectedFiltersLength,\n          toggleFilters,\n          ...toolbarProps\n        }\n      );\n    },\n    [toggleFilters, hasFilters, selectedFiltersLength, setSearch]\n  );\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useMemo(\n    () => makeBody({ hasNoRows, emptyContent, columnCount, loading }),\n    [hasNoRows, emptyContent, columnCount, loading]\n  );\n  return /* @__PURE__ */ jsxs(Box, { className: tableClasses.root, children: [\n    filtersOpen && data && typeof data !== \"function\" && filters?.length && /* @__PURE__ */ jsx(\n      Filters,\n      {\n        filters: constructFilters(filters, data, columns, t),\n        selectedFilters,\n        onChangeFilters: setSelectedFilters\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      MTable,\n      {\n        components: {\n          Header: StyledMTableHeader,\n          Body,\n          Toolbar,\n          ...components\n        },\n        options,\n        columns: convertColumns(columns, theme),\n        icons: tableIcons,\n        title: /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(Typography, { variant: \"h5\", component: \"h2\", children: title }),\n          subtitle && /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"body1\", children: subtitle })\n        ] }),\n        data: tableData,\n        style: { width: \"100%\", ...style },\n        localization: {\n          ...localization,\n          body: {\n            emptyDataSourceMessage: t(\"table.body.emptyDataSourceMessage\"),\n            ...localization?.body\n          },\n          pagination: {\n            firstTooltip: t(\"table.pagination.firstTooltip\"),\n            labelDisplayedRows: t(\"table.pagination.labelDisplayedRows\"),\n            labelRowsSelect: t(\"table.pagination.labelRowsSelect\"),\n            lastTooltip: t(\"table.pagination.lastTooltip\"),\n            nextTooltip: t(\"table.pagination.nextTooltip\"),\n            previousTooltip: t(\"table.pagination.previousTooltip\"),\n            ...localization?.pagination\n          },\n          toolbar: {\n            searchPlaceholder: t(\"table.toolbar.search\"),\n            searchTooltip: t(\"table.toolbar.search\"),\n            ...localization?.toolbar\n          }\n        },\n        ...restProps\n      }\n    )\n  ] });\n}\nTable.icons = Object.freeze(tableIcons);\nfunction makeBody({\n  columnCount,\n  emptyContent,\n  hasNoRows,\n  loading\n}) {\n  return (bodyProps) => {\n    if (loading) {\n      return /* @__PURE__ */ jsx(TableLoadingBody, { colSpan: columnCount });\n    }\n    if (emptyContent && hasNoRows) {\n      return /* @__PURE__ */ jsx(\"tbody\", { children: /* @__PURE__ */ jsx(\"tr\", { children: /* @__PURE__ */ jsx(\"td\", { colSpan: columnCount, children: emptyContent }) }) });\n    }\n    return /* @__PURE__ */ jsx(MTableBody, { ...bodyProps });\n  };\n}\nfunction constructFilters(filterConfig, dataValue, columns, t) {\n  const extractDistinctValues = (field) => {\n    const distinctValues = /* @__PURE__ */ new Set();\n    const addValue = (value) => {\n      if (value !== void 0 && value !== null) {\n        distinctValues.add(value);\n      }\n    };\n    if (dataValue) {\n      dataValue.forEach((el) => {\n        const value = extractValueByField(\n          el,\n          columns.find((c) => c.title === field)?.field\n        );\n        if (Array.isArray(value)) {\n          value.forEach(addValue);\n        } else {\n          addValue(value);\n        }\n      });\n    }\n    return distinctValues;\n  };\n  const constructSelect = (filter) => {\n    return {\n      placeholder: t(\"table.filter.placeholder\"),\n      label: filter.column,\n      multiple: filter.type === \"multiple-select\",\n      items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n        label: value,\n        value\n      }))\n    };\n  };\n  return filterConfig.map((filter) => ({\n    type: filter.type,\n    element: constructSelect(filter)\n  }));\n}\n\nexport { Table, TableToolbar };\n//# sourceMappingURL=Table.esm.js.map\n","import lodash from 'lodash';\n\nclass CommonValidatorFunctions {\n  /**\n   * Checks that the value is on the form `<suffix>` or `<prefix><separator><suffix>`, and validates\n   * those parts separately.\n   *\n   * @param value - The value to check\n   * @param separator - The separator between parts\n   * @param isValidPrefix - Checks that the part before the separator is valid, if present\n   * @param isValidSuffix - Checks that the part after the separator (or the entire value if there is no separator) is valid\n   */\n  static isValidPrefixAndOrSuffix(value, separator, isValidPrefix, isValidSuffix) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    const parts = value.split(separator);\n    if (parts.length === 1) {\n      return isValidSuffix(parts[0]);\n    } else if (parts.length === 2) {\n      return isValidPrefix(parts[0]) && isValidSuffix(parts[1]);\n    }\n    return false;\n  }\n  /**\n   * Checks that the value can be safely transferred as JSON.\n   *\n   * @param value - The value to check\n   */\n  static isJsonSafe(value) {\n    try {\n      return lodash.isEqual(value, JSON.parse(JSON.stringify(value)));\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a valid DNS subdomain name.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsSubdomain(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 253 && value.split(\".\").every(CommonValidatorFunctions.isValidDnsLabel);\n  }\n  /**\n   * Checks that the value is a valid DNS label.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsLabel(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9]+(?:\\-+[a-z0-9]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid tag.\n   *\n   * @deprecated This will be removed in a future release\n   * @param value - The value to check\n   */\n  static isValidTag(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9+#]+(\\-[a-z0-9+#]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid string URL.\n   *\n   * @param value - The value to check\n   */\n  static isValidUrl(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    try {\n      new URL(value);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a non empty string value.\n   *\n   * @deprecated use isNonEmptyString instead\n   * @param value - The value to check\n   */\n  static isValidString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n  /**\n   * Checks that the value is a string value that's not empty.\n   *\n   * @param value - The value to check\n   */\n  static isNonEmptyString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n}\n\nexport { CommonValidatorFunctions };\n//# sourceMappingURL=CommonValidatorFunctions.esm.js.map\n","import { CommonValidatorFunctions } from './CommonValidatorFunctions.esm.js';\n\nclass KubernetesValidatorFunctions {\n  static isValidApiVersion(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      (n) => n.length >= 1 && n.length <= 63 && /^[a-z0-9A-Z]+$/.test(n)\n    );\n  }\n  static isValidKind(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-zA-Z][a-z0-9A-Z]*$/.test(value);\n  }\n  static isValidObjectName(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(value);\n  }\n  static isValidNamespace(value) {\n    return CommonValidatorFunctions.isValidDnsLabel(value);\n  }\n  static isValidLabelKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidLabelValue(value) {\n    return value === \"\" || KubernetesValidatorFunctions.isValidObjectName(value);\n  }\n  static isValidAnnotationKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidAnnotationValue(value) {\n    return typeof value === \"string\";\n  }\n}\n\nexport { KubernetesValidatorFunctions };\n//# sourceMappingURL=KubernetesValidatorFunctions.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\"\n});\n\nexport { catalogApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst scaffolderTranslationRef = createTranslationRef({\n  id: \"scaffolder\",\n  messages: {\n    actionsPage: {\n      title: \"Installed actions\",\n      pageTitle: \"Create a New Component\",\n      subtitle: \"This is the collection of all installed actions\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no actions installed or there was an issue communicating with backend.\"\n        },\n        searchFieldPlaceholder: \"Search for an action\"\n      },\n      action: {\n        input: \"Input\",\n        output: \"Output\",\n        examples: \"Examples\"\n      }\n    },\n    fields: {\n      entityNamePicker: {\n        title: \"Name\",\n        description: \"Unique name of the component\"\n      },\n      entityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      entityTagsPicker: {\n        title: \"Tags\",\n        description: \"Add any relevant tags, hit 'Enter' to add new tags. Valid format: [a-z0-9+#] separated by [-], at most 63 characters\"\n      },\n      myGroupsPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownedEntityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownerPicker: {\n        title: \"Owner\",\n        description: \"The owner of the component\"\n      },\n      azureRepoPicker: {\n        organization: {\n          title: \"Organization\",\n          description: \"The Organization that this repo will belong to\"\n        },\n        project: {\n          title: \"Project\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      bitbucketRepoPicker: {\n        workspaces: {\n          title: \"Allowed Workspaces\",\n          inputTitle: \"Workspaces\",\n          description: \"The Workspace that this repo will belong to\"\n        },\n        project: {\n          title: \"Allowed Projects\",\n          inputTitle: \"Projects\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      gerritRepoPicker: {\n        owner: {\n          title: \"Owner\",\n          description: \"The owner of the project (optional)\"\n        },\n        parent: {\n          title: \"Parent\",\n          description: \"The project parent that the repo will belong to\"\n        }\n      },\n      giteaRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"Gitea namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      githubRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"The organization, user or project that this repo will belong to\"\n        }\n      },\n      gitlabRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"GitLab namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      repoUrlPicker: {\n        host: {\n          title: \"Host\",\n          description: \"The host where the repository will be created\"\n        },\n        repository: {\n          title: \"Repositories Available\",\n          inputTitle: \"Repository\",\n          description: \"The name of the repository\"\n        }\n      }\n    },\n    listTaskPage: {\n      title: \"List template tasks\",\n      pageTitle: \"Templates Tasks\",\n      subtitle: \"All tasks that have been started\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no tasks or there was an issue communicating with backend.\"\n        },\n        tableTitle: \"Tasks\",\n        tableCell: {\n          taskID: \"Task ID\",\n          template: \"Template\",\n          created: \"Created\",\n          owner: \"Owner\",\n          status: \"Status\"\n        }\n      }\n    },\n    ownerListPicker: {\n      title: \"Task Owner\",\n      options: {\n        owned: \"Owned\",\n        all: \"All\"\n      }\n    },\n    ongoingTask: {\n      title: \"Run of\",\n      pageTitle: {\n        hasTemplateName: \"Run of {{templateName}}\",\n        noTemplateName: \"Scaffolder Run\"\n      },\n      subtitle: \"Task {{taskId}}\",\n      cancelButtonTitle: \"Cancel\",\n      retryButtonTitle: \"Retry\",\n      startOverButtonTitle: \"Start Over\",\n      hideLogsButtonTitle: \"Hide Logs\",\n      showLogsButtonTitle: \"Show Logs\",\n      contextMenu: {\n        hideLogs: \"Hide Logs\",\n        showLogs: \"Show Logs\",\n        hideButtonBar: \"Hide Button Bar\",\n        retry: \"Retry\",\n        showButtonBar: \"Show Button Bar\",\n        startOver: \"Start Over\",\n        cancel: \"Cancel\"\n      }\n    },\n    templateEditorForm: {\n      stepper: {\n        emptyText: \"There are no spec parameters in the template to preview.\"\n      }\n    },\n    renderSchema: {\n      tableCell: {\n        name: \"Name\",\n        title: \"Title\",\n        description: \"Description\",\n        type: \"Type\"\n      },\n      undefined: \"No schema defined\"\n    },\n    templateTypePicker: {\n      title: \"Categories\"\n    },\n    templateIntroPage: {\n      title: \"Manage Templates\",\n      subtitle: \"Edit, preview, and try out templates, forms, and custom fields\"\n    },\n    templateFormPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates forms\"\n    },\n    templateCustomFieldPage: {\n      title: \"Custom Field Explorer\",\n      subtitle: \"Edit, preview, and try out custom fields\"\n    },\n    templateEditorPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\",\n      dryRunResults: {\n        title: \"Dry-run results\"\n      },\n      dryRunResultsList: {\n        title: \"Result {{resultId}}\",\n        downloadButtonTitle: \"Download as .zip\",\n        deleteButtonTitle: \"Delete result\"\n      },\n      dryRunResultsView: {\n        tab: {\n          files: \"Files\",\n          log: \"Log\",\n          output: \"Output\"\n        }\n      },\n      taskStatusStepper: {\n        skippedStepTitle: \"Skipped\"\n      },\n      customFieldExplorer: {\n        selectFieldLabel: \"Choose Custom Field Extension\",\n        fieldForm: {\n          title: \"Field Options\",\n          applyButtonTitle: \"Apply\"\n        },\n        fieldPreview: {\n          title: \"Field Preview\"\n        },\n        preview: {\n          title: \"Template Spec\"\n        }\n      },\n      templateEditorBrowser: {\n        closeConfirmMessage: \"Are you sure? Unsaved changes will be lost\",\n        saveIconTooltip: \"Save all files\",\n        reloadIconTooltip: \"Reload directory\",\n        closeIconTooltip: \"Close directory\"\n      },\n      templateEditorIntro: {\n        title: \"Get started by choosing one of the options below\",\n        loadLocal: {\n          title: \"Load Template Directory\",\n          description: \"Load a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers with the page loaded over HTTPS\"\n        },\n        createLocal: {\n          title: \"Create New Template\",\n          description: \"Create a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers with the page loaded over HTTPS\"\n        },\n        formEditor: {\n          title: \"Template Form Playground\",\n          description: \"Preview and edit a template form, either using a sample template or by loading a template from the catalog.\"\n        },\n        fieldExplorer: {\n          title: \"Custom Field Explorer\",\n          description: \"View and play around with available installed custom field extensions.\"\n        }\n      },\n      templateEditorTextArea: {\n        saveIconTooltip: \"Save file\",\n        refreshIconTooltip: \"Reload file\",\n        emptyStateParagraph: \"Please select an action on the file menu.\"\n      },\n      templateFormPreviewer: {\n        title: \"Load Existing Template\"\n      }\n    },\n    templateListPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      templateGroups: {\n        defaultTitle: \"Templates\",\n        otherTitle: \"Other Templates\"\n      },\n      contentHeader: {\n        registerExistingButtonTitle: \"Register Existing Component\",\n        supportButtonTitle: \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\"\n      },\n      additionalLinksForEntity: {\n        viewTechDocsTitle: \"View TechDocs\"\n      }\n    },\n    templateWizardPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      pageContextMenu: {\n        editConfigurationTitle: \"Edit Configuration\"\n      }\n    },\n    templateEditorToolbar: {\n      customFieldExplorerTooltip: \"Custom Fields Explorer\",\n      installedActionsDocumentationTooltip: \"Installed Actions Documentation\",\n      addToCatalogButton: \"Publish\",\n      addToCatalogDialogTitle: \"Publish changes\",\n      addToCatalogDialogContent: {\n        stepsIntroduction: \"Follow the instructions below to create or update a template:\",\n        stepsListItems: \"Save the template files in a local directory\\nCreate a pull request to a new or existing git repository\\nIf the template already exists, the changes will be reflected in the software catalog once the pull request gets merged\\nBut if you are creating a new template, follow the documentation linked below to register the new template repository in software catalog\"\n      },\n      addToCatalogDialogActions: {\n        documentationButton: \"Go to the documentation\",\n        documentationUrl: \"https://backstage.io/docs/features/software-templates/adding-templates/\"\n      }\n    },\n    templateEditorToolbarFileMenu: {\n      button: \"File\",\n      options: {\n        openDirectory: \"Open template directory\",\n        createDirectory: \"Create template directory\",\n        closeEditor: \"Close template editor\"\n      }\n    },\n    templateEditorToolbarTemplatesMenu: {\n      button: \"Templates\"\n    }\n  }\n});\n\nexport { scaffolderTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createContext } from 'react';\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  // As per NN/g's guidance on timing for exposing hidden content\n  // See https://www.nngroup.com/articles/timing-exposing-content/\n  defaultOpenDelayMs: 100,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2,\n  mobileSidebarHeight: 56\n};\nconst makeSidebarConfig = (customSidebarConfig) => ({\n  ...sidebarConfig,\n  ...customSidebarConfig,\n  iconContainerWidth: sidebarConfig.drawerWidthClosed,\n  iconSize: sidebarConfig.drawerWidthClosed - sidebarConfig.iconPadding * 2,\n  userBadgeDiameter: sidebarConfig.drawerWidthClosed - sidebarConfig.userBadgePadding * 2\n});\nconst submenuConfig = {\n  drawerWidthClosed: 0,\n  drawerWidthOpen: 202,\n  defaultOpenDelayMs: sidebarConfig.defaultOpenDelayMs + 200\n};\nconst makeSidebarSubmenuConfig = (customSubmenuConfig) => ({\n  ...submenuConfig,\n  ...customSubmenuConfig\n});\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarConfigContext = createContext({\n  sidebarConfig,\n  submenuConfig\n});\nconst SidebarItemWithSubmenuContext = createContext({\n  isHoveredOn: false,\n  setIsHoveredOn: () => {\n  }\n});\n\nexport { SIDEBAR_INTRO_LOCAL_STORAGE, SidebarConfigContext, SidebarItemWithSubmenuContext, makeSidebarConfig, makeSidebarSubmenuConfig, sidebarConfig, submenuConfig };\n//# sourceMappingURL=config.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst formDecoratorsApiRef = createApiRef({\n  id: \"plugin.scaffolder.form-decorators\"\n});\n\nexport { formDecoratorsApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction CopyTextButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = t(\"copyTextButton.tooltipText\"),\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open,\n      children: /* @__PURE__ */ jsx(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel, children: /* @__PURE__ */ jsx(CopyIcon, {}) })\n    }\n  ) });\n}\n\nexport { CopyTextButton };\n//# sourceMappingURL=CopyTextButton.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { EmptyState, CodeSnippet, Link } from '@backstage/core-components';\nimport { useEntity } from '../../hooks/useEntity.esm.js';\nimport '../../hooks/useEntityListProvider.esm.js';\nimport 'react';\nimport 'react-use/esm/useAsync';\nimport 'lodash/isEqual';\nimport 'lodash/sortBy';\nimport '@backstage/core-plugin-api';\nimport '../../api.esm.js';\nimport '@backstage/catalog-model';\nimport 'react-use/esm/useObservable';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    code: {\n      borderRadius: 6,\n      margin: theme.spacing(2, 0),\n      background: theme.palette.type === \"dark\" ? \"#444\" : theme.palette.common.white\n    }\n  }),\n  { name: \"BackstageMissingAnnotationEmptyState\" }\n);\nfunction generateYamlExample(annotations, entity) {\n  const kind = entity?.kind || \"Component\";\n  const name = entity?.metadata.name || \"example\";\n  const type = entity?.spec?.type || \"website\";\n  const owner = entity?.spec?.owner || \"user:default/guest\";\n  const yamlText = `apiVersion: backstage.io/v1alpha1\nkind: ${kind}\nmetadata:\n  name: ${name}\n  annotations:${annotations.map((ann) => `\n    ${ann}: value`).join(\"\")}\nspec:\n  type: ${type}\n  owner: ${owner}`;\n  let line = 6;\n  const lineNumbers = [];\n  annotations.forEach(() => {\n    lineNumbers.push(line);\n    line++;\n  });\n  return {\n    yamlText,\n    lineNumbers\n  };\n}\nfunction generateDescription(annotations, entityKind = \"Component\") {\n  const isSingular = annotations.length <= 1;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    \"The \",\n    isSingular ? \"annotation\" : \"annotations\",\n    \" \",\n    annotations.map((ann) => /* @__PURE__ */ jsx(\"code\", { children: ann })).reduce((prev, curr) => /* @__PURE__ */ jsxs(Fragment, { children: [\n      prev,\n      \", \",\n      curr\n    ] })),\n    \" \",\n    isSingular ? \"is\" : \"are\",\n    \" missing. You need to add the\",\n    \" \",\n    isSingular ? \"annotation\" : \"annotations\",\n    \" to your \",\n    entityKind,\n    \" if you want to enable this tool.\"\n  ] });\n}\nfunction MissingAnnotationEmptyState(props) {\n  let entity;\n  try {\n    const entityContext = useEntity();\n    entity = entityContext.entity;\n  } catch (err) {\n  }\n  const { annotation, readMoreUrl } = props;\n  const annotations = Array.isArray(annotation) ? annotation : [annotation];\n  const url = readMoreUrl || \"https://backstage.io/docs/features/software-catalog/well-known-annotations\";\n  const classes = useStyles();\n  const entityKind = entity?.kind || \"Component\";\n  const { yamlText, lineNumbers } = generateYamlExample(annotations, entity);\n  return /* @__PURE__ */ jsx(\n    EmptyState,\n    {\n      missing: \"field\",\n      title: \"Missing Annotation\",\n      description: generateDescription(annotations, entityKind),\n      action: /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsxs(Typography, { variant: \"body1\", children: [\n          \"Add the annotation to your \",\n          entityKind,\n          \" YAML as shown in the highlighted example below:\"\n        ] }),\n        /* @__PURE__ */ jsx(Box, { className: classes.code, children: /* @__PURE__ */ jsx(\n          CodeSnippet,\n          {\n            text: yamlText,\n            language: \"yaml\",\n            showLineNumbers: true,\n            highlightedNumbers: lineNumbers,\n            customStyle: { background: \"inherit\", fontSize: \"115%\" }\n          }\n        ) }),\n        /* @__PURE__ */ jsx(Button, { color: \"primary\", component: Link, to: url, children: \"Read more\" })\n      ] })\n    }\n  );\n}\n\nexport { MissingAnnotationEmptyState };\n//# sourceMappingURL=MissingAnnotationEmptyState.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nvar SessionState = /* @__PURE__ */ ((SessionState2) => {\n  SessionState2[\"SignedIn\"] = \"SignedIn\";\n  SessionState2[\"SignedOut\"] = \"SignedOut\";\n  return SessionState2;\n})(SessionState || {});\nconst googleAuthApiRef = createApiRef({\n  id: \"core.auth.google\"\n});\nconst githubAuthApiRef = createApiRef({\n  id: \"core.auth.github\"\n});\nconst oktaAuthApiRef = createApiRef({\n  id: \"core.auth.okta\"\n});\nconst gitlabAuthApiRef = createApiRef({\n  id: \"core.auth.gitlab\"\n});\nconst microsoftAuthApiRef = createApiRef({\n  id: \"core.auth.microsoft\"\n});\nconst oneloginAuthApiRef = createApiRef({\n  id: \"core.auth.onelogin\"\n});\nconst bitbucketAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket\"\n});\nconst bitbucketServerAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket-server\"\n});\nconst atlassianAuthApiRef = createApiRef({\n  id: \"core.auth.atlassian\"\n});\nconst vmwareCloudAuthApiRef = createApiRef({\n  id: \"core.auth.vmware-cloud\"\n});\n\nexport { SessionState, atlassianAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, githubAuthApiRef, gitlabAuthApiRef, googleAuthApiRef, microsoftAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, vmwareCloudAuthApiRef };\n//# sourceMappingURL=auth.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { NotFoundError } from '@backstage/errors';\n\nclass KubernetesBackendClient {\n  discoveryApi;\n  fetchApi;\n  kubernetesAuthProvidersApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n    this.kubernetesAuthProvidersApi = options.kubernetesAuthProvidersApi;\n  }\n  async handleResponse(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message;\n      switch (response.status) {\n        case 404:\n          message = \"Could not find the Kubernetes Backend (HTTP 404). Make sure the plugin has been fully installed.\";\n          break;\n        default:\n          message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.json();\n  }\n  async postRequired(path, requestBody) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}${path}`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(requestBody)\n    });\n    return this.handleResponse(response);\n  }\n  async getCluster(clusterName) {\n    const cluster = await this.getClusters().then(\n      (clusters) => clusters.find((c) => c.name === clusterName)\n    );\n    if (!cluster) {\n      throw new NotFoundError(`Cluster ${clusterName} not found`);\n    }\n    return cluster;\n  }\n  async getCredentials(authProvider, oidcTokenProvider) {\n    return await this.kubernetesAuthProvidersApi.getCredentials(\n      authProvider === \"oidc\" ? `${authProvider}.${oidcTokenProvider}` : authProvider\n    );\n  }\n  async getObjectsByEntity(requestBody) {\n    return await this.postRequired(\n      `/services/${requestBody.entity.metadata.name}`,\n      requestBody\n    );\n  }\n  async getWorkloadsByEntity(request) {\n    return await this.postRequired(\"/resources/workloads/query\", {\n      auth: request.auth,\n      entityRef: stringifyEntityRef(request.entity)\n    });\n  }\n  async getCustomObjectsByEntity(request) {\n    return await this.postRequired(`/resources/custom/query`, {\n      entityRef: stringifyEntityRef(request.entity),\n      auth: request.auth,\n      customResources: request.customResources\n    });\n  }\n  async getClusters() {\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}/clusters`;\n    const response = await this.fetchApi.fetch(url);\n    return (await this.handleResponse(response)).items;\n  }\n  async proxy(options) {\n    const { authProvider, oidcTokenProvider } = await this.getCluster(\n      options.clusterName\n    );\n    const kubernetesCredentials = await this.getCredentials(\n      authProvider,\n      oidcTokenProvider\n    );\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}/proxy${options.path}`;\n    const headers = KubernetesBackendClient.getKubernetesHeaders(\n      options,\n      kubernetesCredentials?.token,\n      authProvider,\n      oidcTokenProvider\n    );\n    return await this.fetchApi.fetch(url, { ...options.init, headers });\n  }\n  static getKubernetesHeaders(options, k8sToken, authProvider, oidcTokenProvider) {\n    const kubernetesAuthHeader = KubernetesBackendClient.getKubernetesAuthHeaderByAuthProvider(\n      authProvider,\n      oidcTokenProvider\n    );\n    return {\n      ...options.init?.headers,\n      [`Backstage-Kubernetes-Cluster`]: options.clusterName,\n      ...k8sToken && {\n        [kubernetesAuthHeader]: k8sToken\n      }\n    };\n  }\n  static getKubernetesAuthHeaderByAuthProvider(authProvider, oidcTokenProvider) {\n    let header = \"Backstage-Kubernetes-Authorization\";\n    header = header.concat(\"-\", authProvider);\n    if (oidcTokenProvider) header = header.concat(\"-\", oidcTokenProvider);\n    return header;\n  }\n}\n\nexport { KubernetesBackendClient };\n//# sourceMappingURL=KubernetesBackendClient.esm.js.map\n","class KubernetesProxyClient {\n  kubernetesApi;\n  constructor(options) {\n    this.kubernetesApi = options.kubernetesApi;\n  }\n  async handleText(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message;\n      switch (response.status) {\n        default:\n          message = `Proxy request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.text();\n  }\n  async handleJson(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      switch (response.status) {\n        case 404:\n          message = `Proxy request failed with ${response.status} ${response.statusText}, ${payload}`;\n          break;\n        default:\n          message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.json();\n  }\n  async getEventsByInvolvedObjectName({\n    clusterName,\n    involvedObjectName,\n    namespace\n  }) {\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/events?fieldSelector=involvedObject.name=${involvedObjectName}`,\n      init: {\n        method: \"GET\"\n      }\n    }).then((response) => this.handleJson(response)).then((eventList) => eventList.items);\n  }\n  async getPodLogs({\n    podName,\n    namespace,\n    clusterName,\n    containerName,\n    previous\n  }) {\n    const params = new URLSearchParams({\n      container: containerName\n    });\n    if (previous) {\n      params.append(\"previous\", \"\");\n    }\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/pods/${podName}/log?${params.toString()}`,\n      init: {\n        method: \"GET\"\n      }\n    }).then((response) => this.handleText(response)).then((text) => ({ text }));\n  }\n  async deletePod({\n    podName,\n    namespace,\n    clusterName\n  }) {\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/pods/${podName}`,\n      init: {\n        method: \"DELETE\"\n      }\n    }).then((response) => this.handleText(response)).then((text) => ({ text }));\n  }\n}\n\nexport { KubernetesProxyClient };\n//# sourceMappingURL=KubernetesProxyClient.esm.js.map\n","class GoogleKubernetesAuthProvider {\n  authProvider;\n  constructor(authProvider) {\n    this.authProvider = authProvider;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    const googleAuthToken = (await this.getCredentials()).token;\n    if (\"auth\" in requestBody) {\n      requestBody.auth.google = googleAuthToken;\n    } else {\n      requestBody.auth = { google: googleAuthToken };\n    }\n    return requestBody;\n  }\n  async getCredentials() {\n    return {\n      token: await this.authProvider.getAccessToken(\n        \"https://www.googleapis.com/auth/cloud-platform.read-only\"\n      )\n    };\n  }\n}\n\nexport { GoogleKubernetesAuthProvider };\n//# sourceMappingURL=GoogleKubernetesAuthProvider.esm.js.map\n","class ServerSideKubernetesAuthProvider {\n  async decorateRequestBodyForAuth(requestBody) {\n    return requestBody;\n  }\n  async getCredentials() {\n    return {};\n  }\n}\n\nexport { ServerSideKubernetesAuthProvider };\n//# sourceMappingURL=ServerSideAuthProvider.esm.js.map\n","class OidcKubernetesAuthProvider {\n  providerName;\n  authProvider;\n  constructor(providerName, authProvider) {\n    this.providerName = providerName;\n    this.authProvider = authProvider;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    const authToken = (await this.getCredentials()).token;\n    const auth = { ...requestBody.auth };\n    if (auth.oidc) {\n      auth.oidc[this.providerName] = authToken;\n    } else {\n      auth.oidc = { [this.providerName]: authToken };\n    }\n    requestBody.auth = auth;\n    return requestBody;\n  }\n  async getCredentials() {\n    return {\n      token: await this.authProvider.getIdToken()\n    };\n  }\n}\n\nexport { OidcKubernetesAuthProvider };\n//# sourceMappingURL=OidcKubernetesAuthProvider.esm.js.map\n","class AksKubernetesAuthProvider {\n  constructor(microsoftAuthApi) {\n    this.microsoftAuthApi = microsoftAuthApi;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    return {\n      ...requestBody,\n      auth: { ...requestBody.auth, aks: (await this.getCredentials()).token }\n    };\n  }\n  async getCredentials() {\n    return {\n      token: await this.microsoftAuthApi.getAccessToken(\n        \"6dae42f8-4368-4678-94ff-3960e28e3630/user.read\"\n      )\n    };\n  }\n}\n\nexport { AksKubernetesAuthProvider };\n//# sourceMappingURL=AksKubernetesAuthProvider.esm.js.map\n","import { GoogleKubernetesAuthProvider } from './GoogleKubernetesAuthProvider.esm.js';\nimport { ServerSideKubernetesAuthProvider } from './ServerSideAuthProvider.esm.js';\nimport { OidcKubernetesAuthProvider } from './OidcKubernetesAuthProvider.esm.js';\nimport { AksKubernetesAuthProvider } from './AksKubernetesAuthProvider.esm.js';\n\nclass KubernetesAuthProviders {\n  kubernetesAuthProviderMap;\n  constructor(options) {\n    this.kubernetesAuthProviderMap = /* @__PURE__ */ new Map();\n    this.kubernetesAuthProviderMap.set(\n      \"google\",\n      new GoogleKubernetesAuthProvider(options.googleAuthApi)\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"serviceAccount\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"googleServiceAccount\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"aws\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"azure\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"localKubectlProxy\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"aks\",\n      new AksKubernetesAuthProvider(options.microsoftAuthApi)\n    );\n    if (options.oidcProviders) {\n      Object.keys(options.oidcProviders).forEach((provider) => {\n        this.kubernetesAuthProviderMap.set(\n          `oidc.${provider}`,\n          new OidcKubernetesAuthProvider(\n            provider,\n            options.oidcProviders[provider]\n          )\n        );\n      });\n    }\n  }\n  async decorateRequestBodyForAuth(authProvider, requestBody) {\n    const kubernetesAuthProvider = this.kubernetesAuthProviderMap.get(authProvider);\n    if (kubernetesAuthProvider) {\n      return await kubernetesAuthProvider.decorateRequestBodyForAuth(\n        requestBody\n      );\n    }\n    if (authProvider.startsWith(\"oidc.\")) {\n      throw new Error(\n        `KubernetesAuthProviders has no oidcProvider configured for ${authProvider}`\n      );\n    }\n    throw new Error(\n      `authProvider \"${authProvider}\" has no KubernetesAuthProvider defined for it`\n    );\n  }\n  async getCredentials(authProvider) {\n    const kubernetesAuthProvider = this.kubernetesAuthProviderMap.get(authProvider);\n    if (kubernetesAuthProvider) {\n      return await kubernetesAuthProvider.getCredentials();\n    }\n    if (authProvider.startsWith(\"oidc.\")) {\n      throw new Error(\n        `KubernetesAuthProviders has no oidcProvider configured for ${authProvider}`\n      );\n    }\n    throw new Error(\n      `authProvider \"${authProvider}\" has no KubernetesAuthProvider defined for it`\n    );\n  }\n}\n\nexport { KubernetesAuthProviders };\n//# sourceMappingURL=KubernetesAuthProviders.esm.js.map\n","const basePath = \"https://portal.azure.com/#blade/Microsoft_Azure_ContainerService/AksK8ResourceMenuBlade/overview-Deployment/aksClusterId\";\nconst requiredParams = [\"subscriptionId\", \"resourceGroup\", \"clusterName\"];\nclass AksClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardParameters) {\n      throw new Error(\"AKS dashboard requires a dashboardParameters option\");\n    }\n    const args = options.dashboardParameters;\n    for (const param of requiredParams) {\n      if (typeof args[param] !== \"string\") {\n        throw new Error(\n          `AKS dashboard requires a \"${param}\" of type string in the dashboardParameters option`\n        );\n      }\n    }\n    const path = `/subscriptions/${args.subscriptionId}/resourceGroups/${args.resourceGroup}/providers/Microsoft.ContainerService/managedClusters/${args.clusterName}`;\n    const { name, namespace, uid } = options.object.metadata;\n    const { selector } = options.object.spec;\n    const params = {\n      kind: options.kind,\n      metadata: { name, namespace, uid },\n      spec: {\n        selector\n      }\n    };\n    return new URL(\n      `${basePath}/${encodeURIComponent(path)}/resource/${encodeURIComponent(\n        JSON.stringify(params)\n      )}`\n    );\n  }\n}\n\nexport { AksClusterLinksFormatter };\n//# sourceMappingURL=AksClusterLinksFormatter.esm.js.map\n","class EksClusterLinksFormatter {\n  async formatClusterLink(_options) {\n    throw new Error(\n      \"EKS formatter is not yet implemented. Please, contribute!\"\n    );\n  }\n}\n\nexport { EksClusterLinksFormatter };\n//# sourceMappingURL=EksClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployment\",\n  pod: \"pod\",\n  ingress: \"ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"deployment\"\n};\nclass GkeClusterLinksFormatter {\n  constructor(googleAuthApi) {\n    this.googleAuthApi = googleAuthApi;\n  }\n  async formatClusterLink(options) {\n    if (!options.dashboardParameters) {\n      throw new Error(\"GKE dashboard requires a dashboardParameters option\");\n    }\n    const args = options.dashboardParameters;\n    if (typeof args.projectId !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"projectId\" of type string in the dashboardParameters option'\n      );\n    }\n    if (typeof args.region !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"region\" of type string in the dashboardParameters option'\n      );\n    }\n    if (typeof args.clusterName !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"clusterName\" of type string in the dashboardParameters option'\n      );\n    }\n    const basePath = new URL(\"https://console.cloud.google.com/\");\n    const region = encodeURIComponent(args.region);\n    const clusterName = encodeURIComponent(args.clusterName);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    let path;\n    if (namespace && name && validKind) {\n      const kindsWithDetails = [\"ingress\", \"pod\"];\n      const landingPage = kindsWithDetails.includes(validKind) ? \"details\" : \"overview\";\n      path = `kubernetes/${validKind}/${region}/${clusterName}/${namespace}/${name}/${landingPage}`;\n    } else {\n      path = `kubernetes/clusters/details/${region}/${clusterName}/details`;\n    }\n    const result = new URL(path, basePath);\n    result.searchParams.set(\"project\", args.projectId);\n    if (this.googleAuthApi) {\n      const profile = await this.googleAuthApi.getProfile({ optional: true });\n      if (profile?.email) {\n        result.searchParams.set(\"authuser\", profile.email);\n      }\n    }\n    return result;\n  }\n}\n\nexport { GkeClusterLinksFormatter };\n//# sourceMappingURL=GkeClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployment\",\n  pod: \"pod\",\n  ingress: \"ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"deployment\",\n  statefulset: \"statefulset\"\n};\nclass StandardClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"standard dashboard requires a dashboardUrl option\");\n    }\n    const result = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!result.pathname.endsWith(\"/\")) {\n      result.pathname += \"/\";\n    }\n    if (validKind && name && namespace) {\n      result.hash = `/${validKind}/${namespace}/${name}`;\n    } else if (namespace) {\n      result.hash = \"/workloads\";\n    }\n    if (namespace) {\n      result.hash += `?namespace=${namespace}`;\n    }\n    return result;\n  }\n}\n\nexport { StandardClusterLinksFormatter };\n//# sourceMappingURL=StandardClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployments\",\n  ingress: \"ingresses\",\n  service: \"services\",\n  horizontalpodautoscaler: \"horizontalpodautoscalers\",\n  persistentvolume: \"persistentvolumes\"\n};\nclass OpenshiftClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"OpenShift dashboard requires a dashboardUrl option\");\n    }\n    const basePath = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!basePath.pathname.endsWith(\"/\")) {\n      basePath.pathname += \"/\";\n    }\n    let path = \"\";\n    if (namespace) {\n      if (name && validKind) {\n        path = `k8s/ns/${namespace}/${validKind}/${name}`;\n      } else {\n        path = `k8s/cluster/projects/${namespace}`;\n      }\n    } else if (validKind) {\n      path = `k8s/cluster/${validKind}`;\n      if (name) {\n        path += `/${name}`;\n      }\n    }\n    return new URL(path, basePath);\n  }\n}\n\nexport { OpenshiftClusterLinksFormatter };\n//# sourceMappingURL=OpenshiftClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"apps.deployment\",\n  ingress: \"networking.k8s.io.ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"autoscaling.horizontalpodautoscaler\"\n};\nclass RancherClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"Rancher dashboard requires a dashboardUrl option\");\n    }\n    const basePath = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!basePath.pathname.endsWith(\"/\")) {\n      basePath.pathname += \"/\";\n    }\n    let path = \"\";\n    if (validKind && name && namespace) {\n      path = `explorer/${validKind}/${namespace}/${name}`;\n    } else if (namespace) {\n      path = \"explorer/workload\";\n    }\n    return new URL(path, basePath);\n  }\n}\n\nexport { RancherClusterLinksFormatter };\n//# sourceMappingURL=RancherClusterLinksFormatter.esm.js.map\n","import { AksClusterLinksFormatter } from './AksClusterLinksFormatter.esm.js';\nimport { EksClusterLinksFormatter } from './EksClusterLinksFormatter.esm.js';\nimport { GkeClusterLinksFormatter } from './GkeClusterLinksFormatter.esm.js';\nimport { StandardClusterLinksFormatter } from './StandardClusterLinksFormatter.esm.js';\nimport { OpenshiftClusterLinksFormatter } from './OpenshiftClusterLinksFormatter.esm.js';\nimport { RancherClusterLinksFormatter } from './RancherClusterLinksFormatter.esm.js';\n\nconst DEFAULT_FORMATTER_NAME = \"standard\";\nfunction getDefaultFormatters(deps) {\n  return {\n    standard: new StandardClusterLinksFormatter(),\n    aks: new AksClusterLinksFormatter(),\n    eks: new EksClusterLinksFormatter(),\n    gke: new GkeClusterLinksFormatter(deps.googleAuthApi),\n    openshift: new OpenshiftClusterLinksFormatter(),\n    rancher: new RancherClusterLinksFormatter()\n  };\n}\n\nexport { AksClusterLinksFormatter, DEFAULT_FORMATTER_NAME, EksClusterLinksFormatter, GkeClusterLinksFormatter, OpenshiftClusterLinksFormatter, RancherClusterLinksFormatter, StandardClusterLinksFormatter, getDefaultFormatters };\n//# sourceMappingURL=index.esm.js.map\n","class KubernetesClusterLinkFormatter {\n  formatters;\n  defaultFormatterName;\n  constructor(options) {\n    this.formatters = options.formatters;\n    this.defaultFormatterName = options.defaultFormatterName;\n  }\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl && !options.dashboardParameters) {\n      return void 0;\n    }\n    if (options.dashboardUrl && !options.object) {\n      return options.dashboardUrl;\n    }\n    const app = options.dashboardApp ?? this.defaultFormatterName;\n    const formatter = this.formatters[app];\n    if (!formatter) {\n      throw new Error(`Could not find Kubernetes dashboard app named '${app}'`);\n    }\n    const url = await formatter.formatClusterLink({\n      dashboardUrl: options.dashboardUrl ? new URL(options.dashboardUrl) : void 0,\n      dashboardParameters: options.dashboardParameters,\n      object: options.object,\n      kind: options.kind\n    });\n    return url.toString();\n  }\n}\n\nexport { KubernetesClusterLinkFormatter };\n//# sourceMappingURL=KubernetesClusterLinkFormatter.esm.js.map\n","import { kubernetesApiRef, kubernetesAuthProvidersApiRef, KubernetesBackendClient, kubernetesProxyApiRef, KubernetesProxyClient, KubernetesAuthProviders, kubernetesClusterLinkFormatterApiRef, getDefaultFormatters, KubernetesClusterLinkFormatter, DEFAULT_FORMATTER_NAME } from '@backstage/plugin-kubernetes-react';\nimport { createRouteRef, createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, gitlabAuthApiRef, googleAuthApiRef, microsoftAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\n\nconst rootCatalogKubernetesRouteRef = createRouteRef({\n  id: \"kubernetes\"\n});\nconst kubernetesPlugin = createPlugin({\n  id: \"kubernetes\",\n  apis: [\n    createApiFactory({\n      api: kubernetesApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef,\n        kubernetesAuthProvidersApi: kubernetesAuthProvidersApiRef\n      },\n      factory: ({ discoveryApi, fetchApi, kubernetesAuthProvidersApi }) => new KubernetesBackendClient({\n        discoveryApi,\n        fetchApi,\n        kubernetesAuthProvidersApi\n      })\n    }),\n    createApiFactory({\n      api: kubernetesProxyApiRef,\n      deps: {\n        kubernetesApi: kubernetesApiRef\n      },\n      factory: ({ kubernetesApi }) => new KubernetesProxyClient({\n        kubernetesApi\n      })\n    }),\n    createApiFactory({\n      api: kubernetesAuthProvidersApiRef,\n      deps: {\n        gitlabAuthApi: gitlabAuthApiRef,\n        googleAuthApi: googleAuthApiRef,\n        microsoftAuthApi: microsoftAuthApiRef,\n        oktaAuthApi: oktaAuthApiRef,\n        oneloginAuthApi: oneloginAuthApiRef\n      },\n      factory: ({\n        gitlabAuthApi,\n        googleAuthApi,\n        microsoftAuthApi,\n        oktaAuthApi,\n        oneloginAuthApi\n      }) => {\n        const oidcProviders = {\n          gitlab: gitlabAuthApi,\n          google: googleAuthApi,\n          microsoft: microsoftAuthApi,\n          okta: oktaAuthApi,\n          onelogin: oneloginAuthApi\n        };\n        return new KubernetesAuthProviders({\n          microsoftAuthApi,\n          googleAuthApi,\n          oidcProviders\n        });\n      }\n    }),\n    createApiFactory({\n      api: kubernetesClusterLinkFormatterApiRef,\n      deps: { googleAuthApi: googleAuthApiRef },\n      factory: (deps) => {\n        const formatters = getDefaultFormatters(deps);\n        return new KubernetesClusterLinkFormatter({\n          formatters,\n          defaultFormatterName: DEFAULT_FORMATTER_NAME\n        });\n      }\n    })\n  ],\n  routes: {\n    entityContent: rootCatalogKubernetesRouteRef\n  }\n});\nconst EntityKubernetesContent = kubernetesPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityKubernetesContent\",\n    component: () => import('./Router.esm.js').then((m) => m.Router),\n    mountPoint: rootCatalogKubernetesRouteRef\n  })\n);\n\nexport { EntityKubernetesContent, kubernetesPlugin, rootCatalogKubernetesRouteRef };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useApi, configApiRef, useApp, AnalyticsContext } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DefaultSearchIcon from '@material-ui/icons/Search';\nimport { forwardRef, useState, useRef, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { SearchContextProvider, useSearch } from '../../context/SearchContext.esm.js';\n\nconst SearchBarBase = forwardRef((props, ref) => {\n  const {\n    onChange,\n    onKeyDown = () => {\n    },\n    onClear = () => {\n    },\n    onSubmit = () => {\n    },\n    debounceTime = 200,\n    clearButton = true,\n    fullWidth = true,\n    value: defaultValue,\n    label,\n    placeholder,\n    inputProps = {},\n    InputProps = {},\n    endAdornment,\n    ...rest\n  } = props;\n  const configApi = useApi(configApiRef);\n  const [value, setValue] = useState(\"\");\n  const forwardedValueRef = useRef(\"\");\n  useEffect(() => {\n    setValue((prevValue) => {\n      if (prevValue === forwardedValueRef.current) {\n        return String(defaultValue);\n      }\n      return prevValue;\n    });\n  }, [defaultValue, forwardedValueRef]);\n  useDebounce(\n    () => {\n      forwardedValueRef.current = value;\n      onChange(value);\n    },\n    debounceTime,\n    [value]\n  );\n  const handleChange = useCallback(\n    (e) => {\n      setValue(e.target.value);\n    },\n    [setValue]\n  );\n  const handleKeyDown = useCallback(\n    (e) => {\n      if (onKeyDown) onKeyDown(e);\n      if (onSubmit && e.key === \"Enter\") {\n        onSubmit();\n      }\n    },\n    [onKeyDown, onSubmit]\n  );\n  const handleClear = useCallback(() => {\n    forwardedValueRef.current = \"\";\n    onChange(\"\");\n    setValue(\"\");\n    if (onClear) {\n      onClear();\n    }\n  }, [onChange, onClear]);\n  const ariaLabel = label ? void 0 : \"Search\";\n  const inputPlaceholder = placeholder ?? `Search in ${configApi.getOptionalString(\"app.title\") || \"Backstage\"}`;\n  const SearchIcon = useApp().getSystemIcon(\"search\") || DefaultSearchIcon;\n  const startAdornment = /* @__PURE__ */ jsx(InputAdornment, { position: \"start\", children: /* @__PURE__ */ jsx(IconButton, { \"aria-label\": \"Query\", size: \"small\", disabled: true, children: /* @__PURE__ */ jsx(SearchIcon, {}) }) });\n  const clearButtonEndAdornment = /* @__PURE__ */ jsx(InputAdornment, { position: \"end\", children: /* @__PURE__ */ jsx(\n    Button,\n    {\n      \"aria-label\": \"Clear\",\n      size: \"small\",\n      onClick: handleClear,\n      onKeyDown: (event) => {\n        if (event.key === \"Enter\") {\n          event.stopPropagation();\n        }\n      },\n      children: \"Clear\"\n    }\n  ) });\n  return /* @__PURE__ */ jsx(SearchContextProvider, { inheritParentContextIfAvailable: true, children: /* @__PURE__ */ jsx(\n    TextField,\n    {\n      id: \"search-bar-text-field\",\n      \"data-testid\": \"search-bar-next\",\n      variant: \"outlined\",\n      margin: \"normal\",\n      inputRef: ref,\n      value,\n      label,\n      placeholder: inputPlaceholder,\n      InputProps: {\n        startAdornment,\n        endAdornment: clearButton ? clearButtonEndAdornment : endAdornment,\n        ...InputProps\n      },\n      inputProps: {\n        \"aria-label\": ariaLabel,\n        ...inputProps\n      },\n      fullWidth,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      ...rest\n    }\n  ) });\n});\nconst SearchBar = forwardRef((props, ref) => {\n  const { value: initialValue = \"\", onChange, ...rest } = props;\n  const { term, setTerm } = useSearch();\n  useEffect(() => {\n    if (initialValue) {\n      setTerm(String(initialValue));\n    }\n  }, [initialValue, setTerm]);\n  const handleChange = useCallback(\n    (newValue) => {\n      if (onChange) {\n        onChange(newValue);\n      } else {\n        setTerm(newValue);\n      }\n    },\n    [onChange, setTerm]\n  );\n  return /* @__PURE__ */ jsx(SearchContextProvider, { inheritParentContextIfAvailable: true, children: /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: { pluginId: \"search\", extension: \"SearchBar\" },\n      children: /* @__PURE__ */ jsx(\n        SearchBarBase,\n        {\n          ...rest,\n          ref,\n          value: term,\n          onChange: handleChange\n        }\n      )\n    }\n  ) });\n});\n\nexport { SearchBar, SearchBarBase };\n//# sourceMappingURL=SearchBar.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst alertApiRef = createApiRef({\n  id: \"core.alert\"\n});\n\nexport { alertApiRef };\n//# sourceMappingURL=AlertApi.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useApi, identityApiRef, errorApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nexport { MyGroupsPickerSchema } from './schema.esm.js';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport { NotFoundError } from '@backstage/errors';\nimport useAsync from 'react-use/esm/useAsync';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst MyGroupsPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.myGroupsPicker.title\"),\n      description = t(\"fields.myGroupsPicker.description\")\n    },\n    required,\n    rawErrors,\n    onChange,\n    formData\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const errorApi = useApi(errorApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: groups, loading } = useAsync(async () => {\n    const { userEntityRef } = await identityApi.getBackstageIdentity();\n    if (!userEntityRef) {\n      errorApi.post(new NotFoundError(\"No user entity ref found\"));\n      return { catalogEntities: [], entityRefToPresentation: /* @__PURE__ */ new Map() };\n    }\n    const { items } = await catalogApi.getEntities({\n      filter: {\n        kind: \"Group\",\n        [\"relations.hasMember\"]: [userEntityRef]\n      }\n    });\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const updateChange = (_, value) => {\n    onChange(value ? stringifyEntityRef(value) : \"\");\n  };\n  const selectedEntity = groups?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) || null;\n  useEffect(() => {\n    if (required && groups?.catalogEntities.length === 1 && !selectedEntity) {\n      onChange(stringifyEntityRef(groups.catalogEntities[0]));\n    }\n  }, [groups, onChange, selectedEntity, required]);\n  return /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          disabled: required && groups?.catalogEntities.length === 1,\n          id: \"OwnershipEntityRefPicker-dropdown\",\n          options: groups?.catalogEntities || [],\n          value: selectedEntity,\n          loading,\n          onChange: updateChange,\n          getOptionLabel: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle,\n          autoSelect: true,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              margin: \"dense\",\n              helperText: description,\n              FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n              variant: \"outlined\",\n              required,\n              InputProps: params.InputProps\n            }\n          ),\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          filterOptions: createFilterOptions({\n            stringify: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n          }),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\n\nexport { MyGroupsPicker };\n//# sourceMappingURL=MyGroupsPicker.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst oauthRequestApiRef = createApiRef({\n  id: \"core.oauthrequest\"\n});\n\nexport { oauthRequestApiRef };\n//# sourceMappingURL=OAuthRequestApi.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst kubernetesAuthProvidersApiRef = createApiRef({\n  id: \"plugin.kubernetes-auth-providers.service\"\n});\n\nexport { kubernetesAuthProvidersApiRef };\n//# sourceMappingURL=types.esm.js.map\n","import { useApi, identityApiRef, alertApiRef } from '@backstage/core-plugin-api';\nimport { useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\n\nconst useUserProfile = () => {\n  const identityApi = useApi(identityApiRef);\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const { value, loading, error } = useAsync(async () => {\n    let identityProfile = await identityApi.getProfileInfo();\n    const backStageIdentity = await identityApi.getBackstageIdentity();\n    const catalogProfile = await catalogApi.getEntityByRef(\n      backStageIdentity.userEntityRef\n    );\n    if (identityProfile.picture === void 0 && catalogProfile?.spec?.profile?.picture) {\n      identityProfile = {\n        ...identityProfile,\n        picture: catalogProfile.spec.profile.picture\n      };\n    }\n    return {\n      profile: identityProfile,\n      identity: backStageIdentity\n    };\n  }, []);\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load user identity: ${error}`,\n        severity: \"error\"\n      });\n    }\n  }, [error, alertApi]);\n  if (loading || error) {\n    return {\n      profile: {},\n      displayName: \"\",\n      loading\n    };\n  }\n  return {\n    profile: value.profile,\n    backstageIdentity: value.identity,\n    displayName: value.profile.displayName ?? value.identity.userEntityRef,\n    loading\n  };\n};\n\nexport { useUserProfile };\n//# sourceMappingURL=useUserProfileInfo.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst AzureRepoPicker = (props) => {\n  const {\n    allowedOrganizations = [],\n    allowedProject = [],\n    rawErrors,\n    state,\n    onChange,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const organizationItems = allowedOrganizations ? allowedOrganizations.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const projectItems = allowedProject ? allowedProject.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { organization, project } = state;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !organization,\n        children: allowedOrganizations?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.azureRepoPicker.organization.title\"),\n              onChange: (s) => onChange({ organization: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedOrganizations.length === 1,\n              selected: organization,\n              items: organizationItems\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.azureRepoPicker.organization.description\") })\n        ] }) : /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"orgInput\",\n            label: t(\"fields.azureRepoPicker.organization.title\"),\n            onChange: (e) => onChange({ organization: e.target.value }),\n            helperText: t(\"fields.azureRepoPicker.organization.description\"),\n            disabled: isDisabled,\n            value: organization\n          }\n        )\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !project,\n        children: allowedProject?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.azureRepoPicker.project.title\"),\n              onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedProject.length === 1,\n              selected: project,\n              items: projectItems\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.azureRepoPicker.project.description\") })\n        ] }) : /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"projectInput\",\n            label: t(\"fields.azureRepoPicker.project.title\"),\n            onChange: (e) => onChange({ project: e.target.value }),\n            value: project,\n            disabled: isDisabled,\n            helperText: t(\"fields.azureRepoPicker.project.description\")\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { AzureRepoPicker };\n//# sourceMappingURL=AzureRepoPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useEffect, useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst BitbucketRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    allowedProjects = [],\n    onChange,\n    rawErrors,\n    state,\n    accessToken,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { host, workspace, project } = state;\n  const ownerItems = allowedOwners ? allowedOwners?.map((i) => ({ label: i, value: i })) : [];\n  const projectItems = allowedProjects ? allowedProjects?.map((i) => ({ label: i, value: i })) : [];\n  useEffect(() => {\n    if (host === \"bitbucket.org\" && allowedOwners.length) {\n      onChange({ workspace: allowedOwners[0] });\n    }\n  }, [allowedOwners, host, onChange]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [availableWorkspaces, setAvailableWorkspaces] = useState([]);\n  const [availableProjects, setAvailableProjects] = useState([]);\n  const updateAvailableWorkspaces = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableWorkspaces([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"workspaces\",\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableWorkspaces(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableWorkspaces([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableWorkspaces, 500, [updateAvailableWorkspaces]);\n  const updateAvailableProjects = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace) {\n      setAvailableProjects([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"projects\",\n      context: { workspace },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableProjects(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableProjects([]);\n    });\n  }, [scaffolderApi, accessToken, host, workspace]);\n  useDebounce(updateAvailableProjects, 500, [updateAvailableProjects]);\n  const updateAvailableRepositories = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace || !project) {\n      onChange({ availableRepos: [] });\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositories\",\n      context: { workspace, project },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      onChange({\n        availableRepos: results.map((r) => {\n          return { name: r.id };\n        })\n      });\n    }).catch(() => {\n      onChange({ availableRepos: [] });\n    });\n  }, [scaffolderApi, accessToken, host, workspace, project, onChange]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    host === \"bitbucket.org\" && /* @__PURE__ */ jsxs(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !workspace,\n        children: [\n          allowedOwners?.length ? /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.bitbucketRepoPicker.workspaces.title\"),\n              onChange: (s) => onChange({ workspace: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedOwners.length === 1,\n              selected: workspace,\n              items: ownerItems\n            }\n          ) : /* @__PURE__ */ jsx(\n            Autocomplete,\n            {\n              value: workspace,\n              onChange: (_, newValue) => {\n                onChange({ workspace: newValue || \"\" });\n              },\n              options: availableWorkspaces,\n              renderInput: (params) => /* @__PURE__ */ jsx(\n                TextField,\n                {\n                  ...params,\n                  label: t(\"fields.bitbucketRepoPicker.workspaces.inputTitle\"),\n                  disabled: isDisabled,\n                  required: true\n                }\n              ),\n              disabled: isDisabled,\n              freeSolo: true,\n              autoSelect: true\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.bitbucketRepoPicker.workspaces.description\") })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsxs(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !project,\n        children: [\n          allowedProjects?.length ? /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.bitbucketRepoPicker.project.title\"),\n              onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedProjects.length === 1,\n              selected: project,\n              items: projectItems\n            }\n          ) : /* @__PURE__ */ jsx(\n            Autocomplete,\n            {\n              value: project,\n              onChange: (_, newValue) => {\n                onChange({ project: newValue || \"\" });\n              },\n              options: availableProjects,\n              disabled: isDisabled,\n              renderInput: (params) => /* @__PURE__ */ jsx(\n                TextField,\n                {\n                  ...params,\n                  label: t(\"fields.bitbucketRepoPicker.project.inputTitle\"),\n                  disabled: isDisabled,\n                  required: true\n                }\n              ),\n              freeSolo: true,\n              autoSelect: true\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.bitbucketRepoPicker.project.description\") })\n        ]\n      }\n    )\n  ] });\n};\n\nexport { BitbucketRepoPicker };\n//# sourceMappingURL=BitbucketRepoPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GerritRepoPicker = (props) => {\n  const { onChange, rawErrors, state, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { workspace, owner } = state;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(FormControl, { margin: \"normal\", error: rawErrors?.length > 0 && !workspace, children: /* @__PURE__ */ jsx(\n      TextField,\n      {\n        id: \"ownerInput\",\n        label: t(\"fields.gerritRepoPicker.owner.title\"),\n        onChange: (e) => onChange({ owner: e.target.value }),\n        helperText: t(\"fields.gerritRepoPicker.owner.description\"),\n        disabled: isDisabled,\n        value: owner\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !workspace,\n        children: /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"parentInput\",\n            label: t(\"fields.gerritRepoPicker.parent.title\"),\n            onChange: (e) => onChange({ workspace: e.target.value }),\n            disabled: isDisabled,\n            value: workspace,\n            helperText: t(\"fields.gerritRepoPicker.parent.description\")\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { GerritRepoPicker };\n//# sourceMappingURL=GerritRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GiteaRepoPicker = (props) => {\n  const { allowedOwners = [], state, onChange, rawErrors, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner } = state;\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: allowedOwners?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.giteaRepoPicker.owner.title\"),\n            onChange: (selected) => onChange({\n              owner: String(\n                Array.isArray(selected) ? selected[0] : selected\n              )\n            }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.giteaRepoPicker.owner.description\") })\n      ] }) : /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n        TextField,\n        {\n          id: \"ownerInput\",\n          label: t(\"fields.giteaRepoPicker.owner.inputTitle\"),\n          onChange: (e) => onChange({ owner: e.target.value }),\n          helperText: t(\"fields.giteaRepoPicker.owner.description\"),\n          disabled: isDisabled,\n          value: owner\n        }\n      ) })\n    }\n  ) });\n};\n\nexport { GiteaRepoPicker };\n//# sourceMappingURL=GiteaRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { useState, useCallback, useMemo } from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport uniq from 'lodash/uniq';\nimport map from 'lodash/map';\n\nconst GithubRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    rawErrors,\n    state,\n    onChange,\n    accessToken,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { host, owner } = state;\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [availableRepositoriesWithOwner, setAvailableRepositoriesWithOwner] = useState([]);\n  const updateAvailableRepositoriesWithOwner = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host) {\n      setAvailableRepositoriesWithOwner([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositoriesWithOwner\",\n      provider: \"github\",\n      context: { host }\n    }).then(({ results }) => {\n      setAvailableRepositoriesWithOwner(\n        results.map((r) => {\n          const [rOwner, rName] = r.id.split(\"/\");\n          return { owner: rOwner, name: rName };\n        })\n      );\n    }).catch(() => {\n      setAvailableRepositoriesWithOwner([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableRepositoriesWithOwner, 500, [\n    updateAvailableRepositoriesWithOwner\n  ]);\n  const availableOwners = useMemo(\n    () => uniq(map(availableRepositoriesWithOwner, \"owner\")),\n    [availableRepositoriesWithOwner]\n  );\n  const updateAvailableRepositories = useCallback(() => {\n    const availableRepos = availableRepositoriesWithOwner.flatMap(\n      (r) => r.owner === owner ? [{ name: r.name }] : []\n    );\n    onChange({ availableRepos });\n  }, [availableRepositoriesWithOwner, owner, onChange]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: [\n        allowedOwners?.length ? /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.githubRepoPicker.owner.title\"),\n            onChange: (s) => onChange({ owner: String(Array.isArray(s) ? s[0] : s) }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ) }) : /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: owner,\n            onChange: (_, newValue) => {\n              onChange({ owner: newValue || \"\" });\n            },\n            options: availableOwners,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: t(\"fields.githubRepoPicker.owner.inputTitle\"),\n                disabled: isDisabled,\n                required: true\n              }\n            ),\n            freeSolo: true,\n            disabled: isDisabled,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.githubRepoPicker.owner.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { GithubRepoPicker };\n//# sourceMappingURL=GithubRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GitlabRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    state,\n    onChange,\n    rawErrors,\n    accessToken,\n    isDisabled\n  } = props;\n  const [availableGroups, setAvailableGroups] = useState([]);\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner, host } = state;\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableGroups = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host) {\n      setAvailableGroups([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"groups\",\n      provider: \"gitlab\",\n      context: { host }\n    }).then(({ results }) => {\n      setAvailableGroups(\n        results.map((r) => {\n          return {\n            title: r.title,\n            id: r.id\n          };\n        })\n      );\n    }).catch(() => {\n      setAvailableGroups([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableGroups, 500, [updateAvailableGroups]);\n  const updateAvailableRepositories = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host || !owner) {\n      onChange({ availableRepos: [] });\n      return;\n    }\n    const selectedGroup = availableGroups.find((group) => group.title === owner);\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositories\",\n      context: {\n        id: selectedGroup?.id ?? \"\",\n        host\n      },\n      provider: \"gitlab\"\n    }).then(({ results }) => {\n      onChange({\n        availableRepos: results.map((r) => {\n          return { name: r.title, id: r.id };\n        })\n      });\n    }).catch(() => {\n      onChange({ availableRepos: [] });\n    });\n  }, [scaffolderApi, accessToken, host, owner, onChange, availableGroups]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: allowedOwners?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.gitlabRepoPicker.owner.title\"),\n            onChange: (selected) => onChange({\n              owner: String(\n                Array.isArray(selected) ? selected[0] : selected\n              )\n            }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.gitlabRepoPicker.owner.description\") })\n      ] }) : /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          value: owner,\n          onChange: (_, newValue) => {\n            onChange({ owner: newValue || \"\" });\n          },\n          options: availableGroups.map((group) => group.title),\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: t(\"fields.gitlabRepoPicker.owner.title\"),\n              disabled: isDisabled,\n              required: true\n            }\n          ),\n          freeSolo: true,\n          disabled: isDisabled,\n          autoSelect: true\n        }\n      )\n    }\n  ) });\n};\n\nexport { GitlabRepoPicker };\n//# sourceMappingURL=GitlabRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { Progress, Select } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerHost = (props) => {\n  const { host, hosts, onChange, rawErrors, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { value: { integrations } = { integrations: [] }, loading } = useAsync(\n    async () => {\n      return await scaffolderApi.getIntegrationsList({\n        allowedHosts: hosts ?? []\n      });\n    }\n  );\n  useEffect(() => {\n    if (!host) {\n      if (hosts?.length) {\n        onChange(hosts[0]);\n      } else if (integrations?.length) {\n        onChange(integrations[0].host);\n      }\n    }\n  }, [hosts, host, onChange, integrations]);\n  const hostsOptions = integrations ? integrations.filter((i) => hosts?.length ? hosts?.includes(i.host) : true).map((i) => ({ label: i.title, value: i.host })) : [{ label: \"Loading...\", value: \"loading\" }];\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !host,\n      children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            disabled: isDisabled || hosts?.length === 1,\n            label: t(\"fields.repoUrlPicker.host.title\"),\n            onChange: (s) => onChange(String(Array.isArray(s) ? s[0] : s)),\n            selected: host,\n            items: hostsOptions,\n            \"data-testid\": \"host-select\"\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.repoUrlPicker.host.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { RepoUrlPickerHost };\n//# sourceMappingURL=RepoUrlPickerHost.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useEffect } from 'react';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerRepoName = (props) => {\n  const {\n    repoName,\n    allowedRepos,\n    onChange,\n    rawErrors,\n    availableRepos,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  useEffect(() => {\n    if (!repoName) {\n      if (allowedRepos?.length) {\n        onChange({ name: allowedRepos[0] });\n      }\n    }\n  }, [allowedRepos, repoName, onChange]);\n  const repoItems = allowedRepos ? allowedRepos.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !repoName,\n      children: [\n        allowedRepos?.length ? /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.repoUrlPicker.repository.title\"),\n            onChange: (selected) => onChange({\n              name: String(Array.isArray(selected) ? selected[0] : selected)\n            }),\n            disabled: isDisabled || allowedRepos.length === 1,\n            selected: repoName,\n            items: repoItems\n          }\n        ) : /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: repoName,\n            onInputChange: (_, newValue) => {\n              const selectedRepo = availableRepos?.find(\n                (r) => r.name === newValue\n              );\n              onChange(selectedRepo || { name: newValue || \"\" });\n            },\n            options: (availableRepos || []).map((r) => r.name),\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: t(\"fields.repoUrlPicker.repository.inputTitle\"),\n                required: true\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true,\n            disabled: isDisabled\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.repoUrlPicker.repository.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { RepoUrlPickerRepoName };\n//# sourceMappingURL=RepoUrlPickerRepoName.esm.js.map\n","function serializeRepoPickerUrl(data) {\n  if (!data.host) {\n    return void 0;\n  }\n  const params = new URLSearchParams();\n  if (data.owner) {\n    params.set(\"owner\", data.owner);\n  }\n  if (data.repoName) {\n    params.set(\"repo\", data.repoName);\n  }\n  if (data.organization) {\n    params.set(\"organization\", data.organization);\n  }\n  if (data.workspace) {\n    params.set(\"workspace\", data.workspace);\n  }\n  if (data.project) {\n    params.set(\"project\", data.project);\n  }\n  return `${data.host}?${params.toString()}`;\n}\nfunction parseRepoPickerUrl(url) {\n  let host = \"\";\n  let owner = \"\";\n  let repoName = \"\";\n  let organization = \"\";\n  let workspace = \"\";\n  let project = \"\";\n  try {\n    if (url) {\n      const parsed = new URL(`https://${url}`);\n      host = parsed.host;\n      owner = parsed.searchParams.get(\"owner\") || \"\";\n      repoName = parsed.searchParams.get(\"repo\") || \"\";\n      organization = parsed.searchParams.get(\"organization\") || \"\";\n      workspace = parsed.searchParams.get(\"workspace\") || \"\";\n      project = parsed.searchParams.get(\"project\") || \"\";\n    }\n  } catch {\n  }\n  return { host, owner, repoName, organization, workspace, project };\n}\n\nexport { parseRepoPickerUrl, serializeRepoPickerUrl };\n//# sourceMappingURL=utils.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { useState, useMemo, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { AzureRepoPicker } from './AzureRepoPicker.esm.js';\nimport { BitbucketRepoPicker } from './BitbucketRepoPicker.esm.js';\nimport { GerritRepoPicker } from './GerritRepoPicker.esm.js';\nimport { GiteaRepoPicker } from './GiteaRepoPicker.esm.js';\nimport { GithubRepoPicker } from './GithubRepoPicker.esm.js';\nimport { GitlabRepoPicker } from './GitlabRepoPicker.esm.js';\nimport { RepoUrlPickerHost } from './RepoUrlPickerHost.esm.js';\nimport { RepoUrlPickerRepoName } from './RepoUrlPickerRepoName.esm.js';\nimport { parseRepoPickerUrl, serializeRepoPickerUrl } from './utils.esm.js';\nexport { RepoUrlPickerSchema } from './schema.esm.js';\n\nconst RepoUrlPicker = (props) => {\n  const { uiSchema, onChange, rawErrors, formData, schema } = props;\n  const [state, setState] = useState(\n    parseRepoPickerUrl(formData)\n  );\n  const [credentialsHost, setCredentialsHost] = useState(\n    void 0\n  );\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  const allowedHosts = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedHosts ?? [],\n    [uiSchema]\n  );\n  const allowedOrganizations = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOrganizations ?? [],\n    [uiSchema]\n  );\n  const allowedOwners = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOwners ?? [],\n    [uiSchema]\n  );\n  const allowedProjects = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedProjects ?? [],\n    [uiSchema]\n  );\n  const allowedRepos = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedRepos ?? [],\n    [uiSchema]\n  );\n  const isDisabled = useMemo(\n    () => uiSchema?.[\"ui:disabled\"] ?? false,\n    [uiSchema]\n  );\n  const { owner, organization, project, repoName } = state;\n  useEffect(() => {\n    onChange(serializeRepoPickerUrl(state));\n  }, [state, onChange]);\n  useEffect(() => {\n    if (allowedOrganizations.length > 0 && !organization) {\n      setState((prevState) => ({\n        ...prevState,\n        organization: allowedOrganizations[0]\n      }));\n    }\n  }, [setState, allowedOrganizations, organization]);\n  useEffect(() => {\n    if (allowedOwners.length > 0 && !owner) {\n      setState((prevState) => ({\n        ...prevState,\n        owner: allowedOwners[0]\n      }));\n    }\n  }, [setState, allowedOwners, owner]);\n  useEffect(() => {\n    if (allowedProjects.length > 0 && !project) {\n      setState((prevState) => ({\n        ...prevState,\n        project: allowedProjects[0]\n      }));\n    }\n  }, [setState, allowedProjects, project]);\n  useEffect(() => {\n    if (allowedRepos.length > 0 && !repoName) {\n      setState((prevState) => ({ ...prevState, repoName: allowedRepos[0] }));\n    }\n  }, [setState, allowedRepos, repoName]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !state.host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey] && credentialsHost === state.host) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${state.host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n      setCredentialsHost(state.host);\n    },\n    500,\n    [state, uiSchema]\n  );\n  const hostType = (state.host && integrationApi.byHost(state.host)?.type) ?? null;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    schema.title && /* @__PURE__ */ jsxs(Box, { my: 1, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: schema.title }),\n      /* @__PURE__ */ jsx(Divider, {})\n    ] }),\n    schema.description && /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: schema.description }),\n    /* @__PURE__ */ jsx(\n      RepoUrlPickerHost,\n      {\n        host: state.host,\n        hosts: allowedHosts,\n        onChange: (host) => setState((prevState) => ({ ...prevState, host })),\n        rawErrors,\n        isDisabled\n      }\n    ),\n    hostType === \"github\" && /* @__PURE__ */ jsx(\n      GithubRepoPicker,\n      {\n        allowedOwners,\n        onChange: updateLocalState,\n        rawErrors,\n        state,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"gitea\" && /* @__PURE__ */ jsx(\n      GiteaRepoPicker,\n      {\n        allowedOwners,\n        allowedRepos,\n        rawErrors,\n        state,\n        isDisabled,\n        onChange: updateLocalState\n      }\n    ),\n    hostType === \"gitlab\" && /* @__PURE__ */ jsx(\n      GitlabRepoPicker,\n      {\n        allowedOwners,\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"bitbucket\" && /* @__PURE__ */ jsx(\n      BitbucketRepoPicker,\n      {\n        allowedOwners,\n        allowedProjects,\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"azure\" && /* @__PURE__ */ jsx(\n      AzureRepoPicker,\n      {\n        allowedOrganizations,\n        allowedProject: allowedProjects,\n        rawErrors,\n        state,\n        isDisabled,\n        onChange: updateLocalState\n      }\n    ),\n    hostType === \"gerrit\" && /* @__PURE__ */ jsx(\n      GerritRepoPicker,\n      {\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      RepoUrlPickerRepoName,\n      {\n        repoName: state.repoName,\n        allowedRepos,\n        onChange: (repo) => setState((prevState) => ({\n          ...prevState,\n          repoName: repo.id || repo.name\n        })),\n        isDisabled,\n        rawErrors,\n        availableRepos: state.availableRepos\n      }\n    )\n  ] });\n};\n\nexport { RepoUrlPicker };\n//# sourceMappingURL=RepoUrlPicker.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Link } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { forwardRef } from 'react';\nimport { entityRouteRef, entityRouteParams } from '../../routes.esm.js';\nimport { EntityDisplayName } from '../EntityDisplayName/EntityDisplayName.esm.js';\n\nconst EntityRefLink = forwardRef(\n  (props, ref) => {\n    const {\n      entityRef,\n      defaultKind,\n      defaultNamespace,\n      title,\n      children,\n      hideIcon,\n      disableTooltip,\n      ...linkProps\n    } = props;\n    const entityRoute = useEntityRoute(props.entityRef);\n    const content = children ?? title ?? /* @__PURE__ */ jsx(\n      EntityDisplayName,\n      {\n        entityRef,\n        defaultKind,\n        defaultNamespace,\n        hideIcon,\n        disableTooltip\n      }\n    );\n    return /* @__PURE__ */ jsx(Link, { ...linkProps, ref, to: entityRoute, children: content });\n  }\n);\nfunction useEntityRoute(entityRef) {\n  const entityRoute = useRouteRef(entityRouteRef);\n  const routeParams = entityRouteParams(entityRef, { encodeParams: true });\n  return entityRoute(routeParams);\n}\n\nexport { EntityRefLink };\n//# sourceMappingURL=EntityRefLink.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useElementFilter } from '@backstage/core-plugin-api';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { orderBy } from 'lodash';\nimport { createElement, useContext, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { SidebarGroup } from './SidebarGroup.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"fixed\",\n      backgroundColor: theme.palette.navigation.background,\n      color: theme.palette.navigation.color,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: theme.zIndex.snackbar,\n      // SidebarDivider color\n      borderTop: \"1px solid #383838\",\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    overlay: (props) => ({\n      background: theme.palette.navigation.background,\n      width: \"100%\",\n      bottom: `${props.sidebarConfig.mobileSidebarHeight}px`,\n      height: `calc(100% - ${props.sidebarConfig.mobileSidebarHeight}px)`,\n      flex: \"0 1 auto\",\n      overflow: \"auto\"\n    }),\n    overlayHeader: {\n      display: \"flex\",\n      color: theme.palette.navigation.color,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2, 3)\n    },\n    overlayHeaderClose: {\n      color: theme.palette.navigation.color\n    },\n    marginMobileSidebar: (props) => ({\n      marginBottom: `${props.sidebarConfig.mobileSidebarHeight}px`\n    })\n  })\n);\nconst sortSidebarGroupsForPriority = (children) => orderBy(\n  children,\n  ({ props: { priority } }) => Number.isInteger(priority) ? priority : -1,\n  \"desc\"\n);\nconst sidebarGroupType = createElement(SidebarGroup).type;\nconst OverlayMenu = ({\n  children,\n  label = \"Menu\",\n  open,\n  onClose\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  return /* @__PURE__ */ jsxs(\n    Drawer,\n    {\n      anchor: \"bottom\",\n      open,\n      onClose,\n      ModalProps: {\n        BackdropProps: { classes: { root: classes.marginMobileSidebar } }\n      },\n      classes: {\n        root: classes.marginMobileSidebar,\n        paperAnchorBottom: classes.overlay\n      },\n      children: [\n        /* @__PURE__ */ jsxs(Box, { className: classes.overlayHeader, children: [\n          /* @__PURE__ */ jsx(Typography, { variant: \"h3\", children: label }),\n          /* @__PURE__ */ jsx(\n            IconButton,\n            {\n              onClick: onClose,\n              classes: { root: classes.overlayHeaderClose },\n              children: /* @__PURE__ */ jsx(CloseIcon, {})\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx(Box, { component: \"nav\", children })\n      ]\n    }\n  );\n};\nconst MobileSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { children } = props;\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const [selectedMenuItemIndex, setSelectedMenuItemIndex] = useState(-1);\n  useEffect(() => {\n    setSelectedMenuItemIndex(-1);\n  }, [location.pathname]);\n  let sidebarGroups = useElementFilter(\n    children,\n    (elements) => elements.getElements().filter((child) => child.type === sidebarGroupType)\n  );\n  if (!children) {\n    return null;\n  } else if (!sidebarGroups.length) {\n    sidebarGroups.push(\n      /* @__PURE__ */ jsx(SidebarGroup, { icon: /* @__PURE__ */ jsx(MenuIcon, {}), children }, \"default_menu\")\n    );\n  } else {\n    sidebarGroups = sortSidebarGroupsForPriority(sidebarGroups);\n  }\n  const shouldShowGroupChildren = selectedMenuItemIndex >= 0 && !sidebarGroups[selectedMenuItemIndex].props.to;\n  return /* @__PURE__ */ jsx(SidebarOpenStateProvider, { value: { isOpen: true, setOpen: () => {\n  } }, children: /* @__PURE__ */ jsxs(\n    MobileSidebarContext.Provider,\n    {\n      value: { selectedMenuItemIndex, setSelectedMenuItemIndex },\n      children: [\n        /* @__PURE__ */ jsx(\n          OverlayMenu,\n          {\n            label: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.label,\n            open: shouldShowGroupChildren,\n            onClose: () => setSelectedMenuItemIndex(-1),\n            children: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.children\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          BottomNavigation,\n          {\n            className: classes.root,\n            \"data-testid\": \"mobile-sidebar-root\",\n            component: \"nav\",\n            children: sidebarGroups\n          }\n        )\n      ]\n    }\n  ) });\n};\n\nexport { MobileSidebar };\n//# sourceMappingURL=MobileSidebar.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport classNames from 'classnames';\nimport { useContext, useState, useRef } from 'react';\nimport { makeSidebarConfig, makeSidebarSubmenuConfig, SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebar } from './MobileSidebar.esm.js';\nimport { useContent } from './Page.esm.js';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    drawer: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      bottom: 0,\n      zIndex: theme.zIndex.appBar,\n      background: theme.palette.navigation.background,\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      }),\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      },\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    drawerWidth: (props) => ({\n      width: props.sidebarConfig.drawerWidthClosed\n    }),\n    drawerOpen: (props) => ({\n      width: props.sidebarConfig.drawerWidthOpen,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shorter\n      })\n    }),\n    visuallyHidden: {\n      top: 0,\n      position: \"absolute\",\n      zIndex: 1e3,\n      transform: \"translateY(-200%)\",\n      \"&:focus\": {\n        transform: \"translateY(5px)\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebar\" }\n);\nconst DesktopSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const {\n    openDelayMs = sidebarConfig.defaultOpenDelayMs,\n    closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n    disableExpandOnHover,\n    children\n  } = props;\n  const classes = useStyles({ sidebarConfig });\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  const [state, setState] = useState(0 /* Closed */);\n  const hoverTimerRef = useRef();\n  const { isPinned, toggleSidebarPinState } = useSidebarPinState();\n  const handleOpen = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== 2 /* Open */ && !isSmallScreen) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(2 /* Open */);\n      }, openDelayMs);\n      setState(1 /* Idle */);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === 1 /* Idle */) {\n      setState(0 /* Closed */);\n    } else if (state === 2 /* Open */) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(0 /* Closed */);\n      }, closeDelayMs);\n    }\n  };\n  const isOpen = state === 2 /* Open */ && !isSmallScreen || isPinned;\n  const setOpen = (open) => {\n    if (open) {\n      setState(2 /* Open */);\n      toggleSidebarPinState();\n    } else {\n      setState(0 /* Closed */);\n      toggleSidebarPinState();\n    }\n  };\n  return /* @__PURE__ */ jsxs(\"nav\", { style: {}, \"aria-label\": \"sidebar nav\", children: [\n    /* @__PURE__ */ jsx(A11ySkipSidebar, {}),\n    /* @__PURE__ */ jsx(SidebarOpenStateProvider, { value: { isOpen, setOpen }, children: /* @__PURE__ */ jsx(\n      Box,\n      {\n        className: classes.root,\n        \"data-testid\": \"sidebar-root\",\n        onMouseEnter: disableExpandOnHover ? () => {\n        } : handleOpen,\n        onFocus: disableExpandOnHover ? () => {\n        } : handleOpen,\n        onMouseLeave: disableExpandOnHover ? () => {\n        } : handleClose,\n        onBlur: disableExpandOnHover ? () => {\n        } : handleClose,\n        children: /* @__PURE__ */ jsx(\n          Box,\n          {\n            className: classNames(classes.drawer, classes.drawerWidth, {\n              [classes.drawerOpen]: isOpen\n            }),\n            children\n          }\n        )\n      }\n    ) })\n  ] });\n};\nconst Sidebar = (props) => {\n  const sidebarConfig = makeSidebarConfig(\n    props.sidebarOptions ?? {}\n  );\n  const submenuConfig = makeSidebarSubmenuConfig(\n    props.submenuOptions ?? {}\n  );\n  const { children, disableExpandOnHover, openDelayMs, closeDelayMs } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ jsx(MobileSidebar, { children }) : /* @__PURE__ */ jsx(SidebarConfigContext.Provider, { value: { sidebarConfig, submenuConfig }, children: /* @__PURE__ */ jsx(\n    DesktopSidebar,\n    {\n      openDelayMs,\n      closeDelayMs,\n      disableExpandOnHover,\n      children\n    }\n  ) });\n};\nfunction A11ySkipSidebar() {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { focusContent, contentRef } = useContent();\n  const classes = useStyles({ sidebarConfig });\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!contentRef?.current) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    Button,\n    {\n      onClick: focusContent,\n      variant: \"contained\",\n      className: classNames(classes.visuallyHidden),\n      children: t(\"skipToContent\")\n    }\n  );\n}\n\nexport { Sidebar };\n//# sourceMappingURL=Bar.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { HighlightedSearchResultText } from '../HighlightedSearchResultText/HighlightedSearchResultText.esm.js';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '@backstage/core-components';\n\nconst DefaultResultListItemComponent = ({\n  result,\n  highlight,\n  icon,\n  secondaryAction,\n  lineClamp = 5\n}) => {\n  if (!result) return null;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    icon && /* @__PURE__ */ jsx(ListItemIcon, { children: icon }),\n    /* @__PURE__ */ jsx(\n      ListItemText,\n      {\n        primaryTypographyProps: { variant: \"h6\" },\n        primary: /* @__PURE__ */ jsx(Link, { noTrack: true, to: result.location, children: highlight?.fields.title ? /* @__PURE__ */ jsx(\n          HighlightedSearchResultText,\n          {\n            text: highlight?.fields.title || \"\",\n            preTag: highlight?.preTag || \"\",\n            postTag: highlight?.postTag || \"\"\n          }\n        ) : result.title }),\n        secondary: /* @__PURE__ */ jsx(\n          Typography,\n          {\n            component: \"span\",\n            style: {\n              display: \"-webkit-box\",\n              WebkitBoxOrient: \"vertical\",\n              WebkitLineClamp: lineClamp,\n              overflow: \"hidden\"\n            },\n            color: \"textSecondary\",\n            variant: \"body2\",\n            children: highlight?.fields.text ? /* @__PURE__ */ jsx(\n              HighlightedSearchResultText,\n              {\n                text: highlight.fields.text,\n                preTag: highlight.preTag,\n                postTag: highlight.postTag\n              }\n            ) : result.text\n          }\n        )\n      }\n    ),\n    secondaryAction && /* @__PURE__ */ jsx(Box, { alignItems: \"flex-end\", children: secondaryAction })\n  ] });\n};\nconst HigherOrderDefaultResultListItem = (props) => {\n  return /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: {\n        pluginId: \"search\",\n        extension: \"DefaultResultListItem\"\n      },\n      children: /* @__PURE__ */ jsx(DefaultResultListItemComponent, { ...props })\n    }\n  );\n};\n\nexport { HigherOrderDefaultResultListItem as DefaultResultListItem, DefaultResultListItemComponent };\n//# sourceMappingURL=DefaultResultListItem.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useCallback, createElement, Fragment, isValidElement, cloneElement } from 'react';\nimport { useAnalytics, createReactExtension, useElementFilter, getComponentData } from '@backstage/core-plugin-api';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { DefaultResultListItem as HigherOrderDefaultResultListItem } from './components/DefaultResultListItem/DefaultResultListItem.esm.js';\n\nconst SEARCH_RESULT_LIST_ITEM_EXTENSION = \"search.results.list.items.extensions.v1\";\nconst findSearchResultListItemExtensionElement = (elements, result) => {\n  for (const element of elements) {\n    if (!isValidElement(element)) continue;\n    const predicate = getComponentData(\n      element,\n      SEARCH_RESULT_LIST_ITEM_EXTENSION\n    );\n    if (!predicate?.(result)) continue;\n    return cloneElement(element, {\n      rank: result.rank,\n      highlight: result.highlight,\n      result: result.document,\n      // Use props in situations where a consumer is manually rendering the extension\n      ...element.props\n    });\n  }\n  return null;\n};\nconst SearchResultListItemExtension = (props) => {\n  const {\n    rank,\n    result,\n    noTrack,\n    children,\n    alignItems = \"flex-start\",\n    ...rest\n  } = props;\n  const analytics = useAnalytics();\n  const handleClickCapture = useCallback(() => {\n    if (noTrack) return;\n    if (!result) return;\n    analytics.captureEvent(\"discover\", result.title, {\n      attributes: { to: result.location },\n      value: rank\n    });\n  }, [rank, result, noTrack, analytics]);\n  return /* @__PURE__ */ jsx(\n    ListItem,\n    {\n      divider: true,\n      alignItems,\n      onClickCapture: handleClickCapture,\n      ...rest,\n      children\n    }\n  );\n};\nconst createSearchResultListItemExtension = (options) => {\n  const { name, component, predicate = () => true } = options;\n  return createReactExtension({\n    name,\n    component: {\n      lazy: () => component().then(\n        (type) => (props) => /* @__PURE__ */ jsx(\n          SearchResultListItemExtension,\n          {\n            rank: props.rank,\n            result: props.result,\n            noTrack: props.noTrack,\n            children: createElement(type, props)\n          }\n        )\n      )\n    },\n    data: {\n      [SEARCH_RESULT_LIST_ITEM_EXTENSION]: predicate\n    }\n  });\n};\nconst useSearchResultListItemExtensions = (children) => {\n  const elements = useElementFilter(\n    children,\n    (collection) => {\n      return collection.selectByComponentData({\n        key: SEARCH_RESULT_LIST_ITEM_EXTENSION\n      }).getElements();\n    },\n    [children]\n  );\n  return useCallback(\n    (result, key) => {\n      const element = findSearchResultListItemExtensionElement(\n        elements,\n        result\n      );\n      return /* @__PURE__ */ jsx(Fragment, { children: element ?? /* @__PURE__ */ jsx(\n        SearchResultListItemExtension,\n        {\n          rank: result.rank,\n          result: result.document,\n          children: /* @__PURE__ */ jsx(\n            HigherOrderDefaultResultListItem,\n            {\n              rank: result.rank,\n              highlight: result.highlight,\n              result: result.document\n            }\n          )\n        }\n      ) }, key);\n    },\n    [elements]\n  );\n};\nconst SearchResultListItemExtensions = (props) => {\n  const { results, children, ...rest } = props;\n  const render = useSearchResultListItemExtensions(children);\n  return /* @__PURE__ */ jsx(List, { ...rest, children: results.map(render) });\n};\n\nexport { SearchResultListItemExtension, SearchResultListItemExtensions, createSearchResultListItemExtension, useSearchResultListItemExtensions };\n//# sourceMappingURL=extensions.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst permissionApiRef = createApiRef({\n  id: \"plugin.permission.api\"\n});\n\nexport { permissionApiRef };\n//# sourceMappingURL=PermissionApi.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useAsyncEntity } from '@backstage/plugin-catalog-react';\nimport { attachComponentData, useApiHolder, useElementFilter } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst ENTITY_SWITCH_KEY = \"core.backstage.entitySwitch\";\nconst EntitySwitchCaseComponent = (_props) => null;\nattachComponentData(EntitySwitchCaseComponent, ENTITY_SWITCH_KEY, true);\nconst EntitySwitch = (props) => {\n  const { entity, loading } = useAsyncEntity();\n  const apis = useApiHolder();\n  const results = useElementFilter(\n    props.children,\n    (collection) => collection.selectByComponentData({\n      key: ENTITY_SWITCH_KEY,\n      withStrictError: \"Child of EntitySwitch is not an EntitySwitch.Case\"\n    }).getElements().flatMap((element) => {\n      if (loading && !entity) {\n        return [];\n      }\n      const { if: condition, children: elementsChildren } = element.props;\n      if (!entity) {\n        return [\n          {\n            if: condition === void 0,\n            children: elementsChildren\n          }\n        ];\n      }\n      return [\n        {\n          if: condition?.(entity, { apis }),\n          children: elementsChildren\n        }\n      ];\n    }),\n    [apis, entity, loading]\n  );\n  const hasAsyncCases = results.some(\n    (r) => typeof r.if === \"object\" && \"then\" in r.if\n  );\n  if (hasAsyncCases) {\n    return /* @__PURE__ */ jsx(\n      AsyncEntitySwitch,\n      {\n        results,\n        renderMultipleMatches: props.renderMultipleMatches\n      }\n    );\n  }\n  if (props.renderMultipleMatches === \"all\") {\n    const children = results.filter((r) => r.if).map((r) => r.children);\n    if (children.length === 0) {\n      return getDefaultChildren(results);\n    }\n    return /* @__PURE__ */ jsx(Fragment, { children });\n  }\n  return results.find((r) => r.if)?.children ?? getDefaultChildren(results);\n};\nfunction AsyncEntitySwitch({\n  results,\n  renderMultipleMatches\n}) {\n  const { loading, value } = useAsync(async () => {\n    const promises = results.map(\n      async ({ if: condition, children: output }) => {\n        try {\n          if (await condition) {\n            return output;\n          }\n        } catch {\n        }\n        return null;\n      }\n    );\n    if (renderMultipleMatches === \"all\") {\n      const children = (await Promise.all(promises)).filter(Boolean);\n      if (children.length === 0) {\n        return getDefaultChildren(results);\n      }\n      return /* @__PURE__ */ jsx(Fragment, { children });\n    }\n    return (await Promise.all(promises)).find(Boolean) ?? getDefaultChildren(results);\n  }, [results]);\n  if (loading || !value) {\n    return null;\n  }\n  return value;\n}\nfunction getDefaultChildren(results) {\n  return results.filter((r) => r.if === void 0)[0]?.children ?? null;\n}\nEntitySwitch.Case = EntitySwitchCaseComponent;\n\nexport { EntitySwitch };\n//# sourceMappingURL=EntitySwitch.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MicDropSvgUrl from './mic-drop.svg';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    micDrop: {\n      maxWidth: \"60%\",\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"96%\",\n        bottom: \"unset\",\n        right: \"unset\",\n        margin: theme.spacing(10, \"auto\", 4)\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageMicDrop\" }\n);\nconst MicDrop = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"img\",\n    {\n      src: MicDropSvgUrl,\n      className: classes.micDrop,\n      alt: \"Girl dropping mic from her hands\"\n    }\n  );\n};\n\nexport { MicDrop };\n//# sourceMappingURL=MicDrop.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { useState } from 'react';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/core/Snackbar';\nimport '@material-ui/icons/Close';\nimport '@material-ui/lab/Alert';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport 'react-idle-timer';\nimport '@material-ui/core/Button';\nimport '@material-ui/core/Dialog';\nimport '@material-ui/core/DialogActions';\nimport '@material-ui/core/DialogContent';\nimport '@material-ui/core/DialogContentText';\nimport '@material-ui/core/DialogTitle';\nimport '../../components/Avatar/Avatar.esm.js';\nimport '../../components/LinkButton/LinkButton.esm.js';\nimport { CodeSnippet } from '../../components/CodeSnippet/CodeSnippet.esm.js';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/FileCopy';\nimport 'react-use/esm/useCopyToClipboard';\nimport '@material-ui/core/useMediaQuery';\nimport 'react-router-dom';\nimport '@material-ui/icons/AddCircleOutline';\nimport 'd3-zoom';\nimport 'd3-selection';\nimport '@material-ui/core/styles/useTheme';\nimport '@dagrejs/dagre';\nimport 'lodash/debounce';\nimport '../../components/DependencyGraph/types.esm.js';\nimport '../../components/DependencyGraph/Node.esm.js';\nimport '../../components/DependencyGraph/Edge.esm.js';\nimport '../../components/DismissableBanner/DismissableBanner.esm.js';\nimport '../../components/EmptyState/EmptyState.esm.js';\nimport '../../components/EmptyState/MissingAnnotationEmptyState.esm.js';\nimport '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport '../../components/FavoriteToggle/FavoriteToggle.esm.js';\nimport '../../components/ResponseErrorPanel/ResponseErrorPanel.esm.js';\nimport '../../components/FeatureDiscovery/FeatureCalloutCircular.esm.js';\nimport '../../components/HeaderIconLinkRow/HeaderIconLinkRow.esm.js';\nimport '../../components/HeaderIconLinkRow/IconLinkVertical.esm.js';\nimport '../../components/HorizontalScrollGrid/HorizontalScrollGrid.esm.js';\nimport '../../components/Lifecycle/Lifecycle.esm.js';\nimport '../../components/LogViewer/LogViewer.esm.js';\nimport '../../components/MarkdownContent/MarkdownContent.esm.js';\nimport '../../components/OAuthRequestDialog/OAuthRequestDialog.esm.js';\nimport '../../components/OverflowTooltip/OverflowTooltip.esm.js';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/LinearProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport '../../components/ProgressBars/GaugeCard.esm.js';\nimport '../../components/ProgressBars/Gauge.esm.js';\nimport 'rc-progress';\nimport '../../components/Select/Select.esm.js';\nimport '../../components/SimpleStepper/SimpleStepper.esm.js';\nimport '../../components/SimpleStepper/SimpleStepperStep.esm.js';\nimport '../../components/Status/Status.esm.js';\nimport '../../components/StructuredMetadataTable/StructuredMetadataTable.esm.js';\nimport '../../components/SupportButton/SupportButton.esm.js';\nimport '../../components/TabbedLayout/TabbedLayout.esm.js';\nimport 'react-helmet';\nimport '../Content/Content.esm.js';\nimport '../HeaderTabs/HeaderTabs.esm.js';\nimport '../../components/Table/SubvalueCell.esm.js';\nimport '../../components/Table/Table.esm.js';\nimport 'react-sparklines';\nimport '../../components/WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageStackDetails\" }\n);\nfunction StackDetails(props) {\n  const { stack } = props;\n  const classes = useStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [detailsOpen, setDetailsOpen] = useState(false);\n  if (!detailsOpen) {\n    return /* @__PURE__ */ jsx(Typography, { variant: \"h6\", className: classes.title, children: /* @__PURE__ */ jsx(Link, { to: \"#\", onClick: () => setDetailsOpen(true), children: t(\"errorPage.showMoreDetails\") }) });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"h6\", className: classes.title, children: /* @__PURE__ */ jsx(Link, { to: \"#\", onClick: () => setDetailsOpen(false), children: t(\"errorPage.showLessDetails\") }) }),\n    /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: stack,\n        language: \"text\",\n        showCopyCodeButton: true,\n        showLineNumbers: true\n      }\n    )\n  ] });\n}\n\nexport { StackDetails };\n//# sourceMappingURL=StackDetails.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport 'lodash';\nimport 'qs';\nimport 'react';\nimport '@react-hookz/web';\nimport { useSupportConfig } from '../../hooks/useSupportConfig.esm.js';\nimport { MicDrop } from './MicDrop.esm.js';\nimport { StackDetails } from './StackDetails.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(2)\n      }\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    },\n    subtitle: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageErrorPage\" }\n);\nfunction ErrorPage(props) {\n  const {\n    status = \"\",\n    statusMessage,\n    additionalInfo,\n    supportUrl,\n    stack\n  } = props;\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return /* @__PURE__ */ jsxs(Grid, { container: true, className: classes.container, children: [\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, sm: 8, md: 4, children: [\n      /* @__PURE__ */ jsx(\n        Typography,\n        {\n          \"data-testid\": \"error\",\n          variant: \"body1\",\n          className: classes.subtitle,\n          children: t(\"errorPage.subtitle\", { status, statusMessage })\n        }\n      ),\n      /* @__PURE__ */ jsx(Typography, { variant: \"body1\", className: classes.subtitle, children: additionalInfo }),\n      /* @__PURE__ */ jsx(Typography, { variant: \"h2\", className: classes.title, children: t(\"errorPage.title\") }),\n      /* @__PURE__ */ jsxs(Typography, { variant: \"h6\", className: classes.title, children: [\n        /* @__PURE__ */ jsx(Link, { to: \"#\", \"data-testid\": \"go-back-link\", onClick: () => navigate(-1), children: t(\"errorPage.goBack\") }),\n        \"... or please\",\n        \" \",\n        /* @__PURE__ */ jsx(Link, { to: supportUrl || support.url, children: \"contact support\" }),\n        \" if you think this is a bug.\"\n      ] }),\n      stack && /* @__PURE__ */ jsx(StackDetails, { stack })\n    ] }),\n    /* @__PURE__ */ jsx(MicDrop, {})\n  ] });\n}\n\nexport { ErrorPage };\n//# sourceMappingURL=ErrorPage.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst analyticsApiRef = createApiRef({\n  id: \"core.analytics\"\n});\n\nexport { analyticsApiRef };\n//# sourceMappingURL=AnalyticsApi.esm.js.map\n","function isQueryEntitiesInitialRequest(request) {\n  return !request.cursor;\n}\nfunction splitRefsIntoChunks(refs, options) {\n  if (!refs.length) {\n    return [];\n  }\n  const {\n    maxCountPerChunk = 1e3,\n    maxStringLengthPerChunk = 90 * 2 ** 10,\n    extraStringLengthPerRef = 3\n  } = {};\n  const chunks = [];\n  let currentChunkStart = 0;\n  let currentChunkStringLength = 0;\n  let currentChunkSize = 0;\n  for (let i = 0; i < refs.length; ++i) {\n    const refLength = refs[i].length + extraStringLengthPerRef;\n    if (currentChunkSize > 0) {\n      if (currentChunkStringLength + refLength > maxStringLengthPerChunk || currentChunkSize + 1 > maxCountPerChunk) {\n        chunks.push(refs.slice(currentChunkStart, i));\n        currentChunkStart = i;\n        currentChunkStringLength = 0;\n        currentChunkSize = 0;\n      }\n    }\n    currentChunkStringLength += refLength;\n    currentChunkSize += 1;\n  }\n  chunks.push(refs.slice(currentChunkStart, refs.length));\n  return chunks;\n}\n\nexport { isQueryEntitiesInitialRequest, splitRefsIntoChunks };\n//# sourceMappingURL=utils.esm.js.map\n","const pluginId = \"catalog\";\n\nexport { pluginId };\n//# sourceMappingURL=pluginId.esm.js.map\n","import crossFetch from 'cross-fetch';\nimport { pluginId } from '../pluginId.esm.js';\nimport * as parser from 'uri-template';\n\nclass DefaultApiClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi || { fetch: crossFetch };\n  }\n  /**\n   * Validate a given location.\n   * @param analyzeLocationRequest -\n   */\n  async analyzeLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/analyze-location`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Create a location for a given target.\n   * @param createLocationRequest -\n   * @param dryRun -\n   */\n  async createLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations{?dryRun}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Delete a single entity by UID.\n   * @param uid -\n   */\n  async deleteEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Delete a location by id.\n   * @param id -\n   */\n  async deleteLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Get all entities matching a given filter.\n   * @param fields - Restrict to just these fields in the response.\n   * @param limit - Number of records to return in the response.\n   * @param filter - Filter for just the entities defined by this filter.\n   * @param offset - Number of records to skip in the query page.\n   * @param after - Pointer to the previous page of results.\n   * @param order -\n   */\n  async getEntities(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities{?fields,limit,filter*,offset,after,order*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Search for entities by a given query.\n   * @param fields - Restrict to just these fields in the response.\n   * @param limit - Number of records to return in the response.\n   * @param offset - Number of records to skip in the query page.\n   * @param orderField - The fields to sort returned results by.\n   * @param cursor - Cursor to a set page of results.\n   * @param filter - Filter for just the entities defined by this filter.\n   * @param fullTextFilterTerm - Text search term.\n   * @param fullTextFilterFields - A comma separated list of fields to sort returned results by.\n   */\n  async getEntitiesByQuery(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-query{?fields,limit,offset,orderField*,cursor,filter*,fullTextFilterTerm,fullTextFilterFields}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a batch set of entities given an array of entityRefs.\n   * @param filter - Filter for just the entities defined by this filter.\n   * @param getEntitiesByRefsRequest -\n   */\n  async getEntitiesByRefs(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-refs{?filter*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Get an entity's ancestry by entity ref.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getEntityAncestryByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}/ancestry`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get an entity by an entity ref.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getEntityByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a single entity by the UID.\n   * @param uid -\n   */\n  async getEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all entity facets that match the given filters.\n   * @param facet -\n   * @param filter - Filter for just the entities defined by this filter.\n   */\n  async getEntityFacets(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entity-facets{?facet*,filter*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a location by id.\n   * @param id -\n   */\n  async getLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a location for entity.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getLocationByEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/by-entity/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all locations\n   */\n  async getLocations(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Refresh the entity related to entityRef.\n   * @param refreshEntityRequest -\n   */\n  async refreshEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/refresh`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Validate that a passed in entity has no errors in schema.\n   * @param validateEntityRequest -\n   */\n  async validateEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/validate-entity`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n}\n\nexport { DefaultApiClient };\n//# sourceMappingURL=Api.client.esm.js.map\n","import { parseEntityRef, stringifyLocationRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport { CATALOG_FILTER_EXISTS } from './types/api.esm.js';\nimport { splitRefsIntoChunks, isQueryEntitiesInitialRequest } from './utils.esm.js';\nimport { DefaultApiClient } from './schema/openapi/generated/apis/Api.client.esm.js';\n\nclass CatalogClient {\n  apiClient;\n  constructor(options) {\n    this.apiClient = new DefaultApiClient(options);\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityAncestors}\n   */\n  async getEntityAncestors(request, options) {\n    return await this.requestRequired(\n      await this.apiClient.getEntityAncestryByName(\n        { path: parseEntityRef(request.entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationById}\n   */\n  async getLocationById(id, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByEntity}\n   */\n  async getLocationByEntity(entityRef, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocationByEntity(\n        { path: parseEntityRef(entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntities}\n   */\n  async getEntities(request, options) {\n    const {\n      filter = [],\n      fields = [],\n      order,\n      offset,\n      limit,\n      after\n    } = request ?? {};\n    const encodedOrder = [];\n    if (order) {\n      for (const directive of [order].flat()) {\n        if (directive) {\n          encodedOrder.push(`${directive.order}:${directive.field}`);\n        }\n      }\n    }\n    const entities = await this.requestRequired(\n      await this.apiClient.getEntities(\n        {\n          query: {\n            fields,\n            limit,\n            filter: this.getFilterValue(filter),\n            offset,\n            after,\n            order: order ? encodedOrder : void 0\n          }\n        },\n        options\n      )\n    );\n    return { items: entities };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntitiesByRefs}\n   */\n  async getEntitiesByRefs(request, options) {\n    const getOneChunk = async (refs) => {\n      const response = await this.apiClient.getEntitiesByRefs(\n        {\n          body: { entityRefs: refs, fields: request.fields },\n          query: { filter: this.getFilterValue(request.filter) }\n        },\n        options\n      );\n      if (!response.ok) {\n        throw await ResponseError.fromResponse(response);\n      }\n      const body = await response.json();\n      return body.items.map((i) => i ?? void 0);\n    };\n    let result;\n    for (const refs of splitRefsIntoChunks(request.entityRefs)) {\n      const entities = await getOneChunk(refs);\n      if (!result) {\n        result = entities;\n      } else {\n        result.push(...entities);\n      }\n    }\n    return { items: result ?? [] };\n  }\n  /**\n   * {@inheritdoc CatalogApi.queryEntities}\n   */\n  async queryEntities(request = {}, options) {\n    const params = {};\n    if (isQueryEntitiesInitialRequest(request)) {\n      const {\n        fields = [],\n        filter,\n        limit,\n        offset,\n        orderFields,\n        fullTextFilter\n      } = request;\n      params.filter = this.getFilterValue(filter);\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (offset !== void 0) {\n        params.offset = offset;\n      }\n      if (orderFields !== void 0) {\n        params.orderField = (Array.isArray(orderFields) ? orderFields : [orderFields]).map(({ field, order }) => `${field},${order}`);\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n      const normalizedFullTextFilterTerm = fullTextFilter?.term?.trim();\n      if (normalizedFullTextFilterTerm) {\n        params.fullTextFilterTerm = normalizedFullTextFilterTerm;\n      }\n      if (fullTextFilter?.fields?.length) {\n        params.fullTextFilterFields = fullTextFilter.fields;\n      }\n    } else {\n      const { fields = [], limit, cursor } = request;\n      params.cursor = cursor;\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n    }\n    return this.requestRequired(\n      await this.apiClient.getEntitiesByQuery({ query: params }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityByRef}\n   */\n  async getEntityByRef(entityRef, options) {\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        {\n          path: parseEntityRef(entityRef)\n        },\n        options\n      )\n    );\n  }\n  // NOTE(freben): When we deprecate getEntityByName from the interface, we may\n  // still want to leave this implementation in place for quite some time\n  // longer, to minimize the risk for breakages. Suggested date for removal:\n  // August 2022\n  /**\n   * @deprecated Use getEntityByRef instead\n   */\n  async getEntityByName(compoundName, options) {\n    const { kind, namespace = \"default\", name } = compoundName;\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        { path: { kind, namespace, name } },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.refreshEntity}\n   */\n  async refreshEntity(entityRef, options) {\n    const response = await this.apiClient.refreshEntity(\n      { body: { entityRef } },\n      options\n    );\n    if (response.status !== 200) {\n      throw new Error(await response.text());\n    }\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityFacets}\n   */\n  async getEntityFacets(request, options) {\n    const { filter = [], facets } = request;\n    return await this.requestOptional(\n      await this.apiClient.getEntityFacets(\n        {\n          query: { facet: facets, filter: this.getFilterValue(filter) }\n        },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.addLocation}\n   */\n  async addLocation(request, options) {\n    const { type = \"url\", target, dryRun } = request;\n    const response = await this.apiClient.createLocation(\n      {\n        body: { type, target },\n        query: { dryRun: dryRun ? \"true\" : void 0 }\n      },\n      options\n    );\n    if (response.status !== 201) {\n      throw new Error(await response.text());\n    }\n    const { location, entities, exists } = await response.json();\n    if (!location) {\n      throw new Error(`Location wasn't added: ${target}`);\n    }\n    return {\n      location,\n      entities,\n      exists\n    };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByRef}\n   */\n  async getLocationByRef(locationRef, options) {\n    const all = await this.requestRequired(\n      await this.apiClient.getLocations({}, options)\n    );\n    return all.map((r) => r.data).find((l) => locationRef === stringifyLocationRef(l));\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeLocationById}\n   */\n  async removeLocationById(id, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeEntityByUid}\n   */\n  async removeEntityByUid(uid, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteEntityByUid({ path: { uid } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.validateEntity}\n   */\n  async validateEntity(entity, locationRef, options) {\n    const response = await this.apiClient.validateEntity(\n      { body: { entity, location: locationRef } },\n      options\n    );\n    if (response.ok) {\n      return {\n        valid: true\n      };\n    }\n    if (response.status !== 400) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { errors = [] } = await response.json();\n    return {\n      valid: false,\n      errors\n    };\n  }\n  //\n  // Private methods\n  //\n  async requestIgnored(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  async requestRequired(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  async requestOptional(response) {\n    if (!response.ok) {\n      if (response.status === 404) {\n        return void 0;\n      }\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  getFilterValue(filter = []) {\n    const filters = [];\n    for (const filterItem of [filter].flat()) {\n      const filterParts = [];\n      for (const [key, value] of Object.entries(filterItem)) {\n        for (const v of [value].flat()) {\n          if (v === CATALOG_FILTER_EXISTS) {\n            filterParts.push(key);\n          } else if (typeof v === \"string\") {\n            filterParts.push(`${key}=${v}`);\n          }\n        }\n      }\n      if (filterParts.length) {\n        filters.push(filterParts.join(\",\"));\n      }\n    }\n    return filters;\n  }\n}\n\nexport { CatalogClient };\n//# sourceMappingURL=CatalogClient.esm.js.map\n","function durationToMilliseconds(duration) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0,\n    milliseconds = 0\n  } = duration;\n  const totalDays = years * 365 + months * 30 + weeks * 7 + days;\n  const totalHours = totalDays * 24 + hours;\n  const totalMinutes = totalHours * 60 + minutes;\n  const totalSeconds = totalMinutes * 60 + seconds;\n  const totalMilliseconds = totalSeconds * 1e3 + milliseconds;\n  return totalMilliseconds;\n}\n\nexport { durationToMilliseconds };\n//# sourceMappingURL=time.esm.js.map\n","import { defaultEntityPresentation } from '@backstage/plugin-catalog-react';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport FeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonIcon from '@material-ui/icons/Person';\nimport StorageIcon from '@material-ui/icons/Storage';\n\nconst DEFAULT_CACHE_TTL = { seconds: 10 };\nconst DEFAULT_BATCH_DELAY = { milliseconds: 50 };\nconst DEFAULT_ICONS = {\n  api: ExtensionIcon,\n  component: MemoryIcon,\n  system: CategoryIcon,\n  resource: StorageIcon,\n  domain: ApartmentIcon,\n  location: LocationOnIcon,\n  user: PersonIcon,\n  group: PeopleIcon,\n  template: FeaturedPlayListIcon\n};\nfunction createDefaultRenderer(options) {\n  return {\n    async: options.async,\n    render: ({ entityRef, entity, context }) => {\n      const presentation = defaultEntityPresentation(\n        entity || entityRef,\n        context\n      );\n      return {\n        snapshot: presentation,\n        loadEntity: options.async\n      };\n    }\n  };\n}\n\nexport { DEFAULT_BATCH_DELAY, DEFAULT_CACHE_TTL, DEFAULT_ICONS, createDefaultRenderer };\n//# sourceMappingURL=defaults.esm.js.map\n","import { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { durationToMilliseconds } from '@backstage/types';\nimport DataLoader from 'dataloader';\nimport ObservableImpl from 'zen-observable';\nimport { createDefaultRenderer, DEFAULT_CACHE_TTL, DEFAULT_BATCH_DELAY, DEFAULT_ICONS } from './defaults.esm.js';\n\nclass ExpiryMap extends Map {\n  #ttlMs;\n  #timestamps = /* @__PURE__ */ new Map();\n  constructor(ttlMs) {\n    super();\n    this.#ttlMs = ttlMs;\n  }\n  set(key, value) {\n    const result = super.set(key, value);\n    this.#timestamps.set(key, Date.now());\n    return result;\n  }\n  get(key) {\n    if (!this.has(key)) {\n      return void 0;\n    }\n    const timestamp = this.#timestamps.get(key);\n    if (Date.now() - timestamp > this.#ttlMs) {\n      this.delete(key);\n      return void 0;\n    }\n    return super.get(key);\n  }\n  delete(key) {\n    this.#timestamps.delete(key);\n    return super.delete(key);\n  }\n  clear() {\n    this.#timestamps.clear();\n    return super.clear();\n  }\n}\nclass DefaultEntityPresentationApi {\n  /**\n   * Creates a new presentation API that does not reach out to the catalog.\n   */\n  static createLocal() {\n    return new DefaultEntityPresentationApi({\n      renderer: createDefaultRenderer({ async: false })\n    });\n  }\n  /**\n   * Creates a new presentation API that calls out to the catalog as needed to\n   * get additional information about entities.\n   */\n  static create(options) {\n    return new DefaultEntityPresentationApi(options);\n  }\n  // This cache holds on to all entity data ever loaded, no matter how old. Each\n  // entry is tagged with a timestamp of when it was inserted. We use this map\n  // to be able to always render SOME data even though the information is old.\n  // Entities change very rarely, so it's likely that the rendered information\n  // was perfectly fine in the first place.\n  #cache;\n  #cacheTtlMs;\n  #loader;\n  #kindIcons;\n  // lowercased kinds\n  #renderer;\n  constructor(options) {\n    const cacheTtl = options.cacheTtl ?? DEFAULT_CACHE_TTL;\n    const batchDelay = options.batchDelay ?? DEFAULT_BATCH_DELAY;\n    const renderer = options.renderer ?? createDefaultRenderer({ async: true });\n    const kindIcons = {};\n    Object.entries(DEFAULT_ICONS).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    Object.entries(options.kindIcons ?? {}).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    if (renderer.async) {\n      if (!options.catalogApi) {\n        throw new TypeError(`Asynchronous rendering requires a catalog API`);\n      }\n      this.#loader = this.#createLoader({\n        cacheTtl,\n        batchDelay,\n        renderer,\n        catalogApi: options.catalogApi\n      });\n    }\n    this.#cacheTtlMs = durationToMilliseconds(cacheTtl);\n    this.#cache = /* @__PURE__ */ new Map();\n    this.#kindIcons = kindIcons;\n    this.#renderer = renderer;\n  }\n  /** {@inheritdoc @backstage/plugin-catalog-react#EntityPresentationApi.forEntity} */\n  forEntity(entityOrRef, context) {\n    const { entityRef, kind, entity, needsLoad } = this.#getEntityForInitialRender(entityOrRef);\n    const render = (options) => {\n      const { snapshot } = this.#renderer.render({\n        entityRef,\n        loading: options.loading,\n        entity: options.entity,\n        context: context || {}\n      });\n      return {\n        ...snapshot,\n        entityRef,\n        Icon: this.#maybeFallbackIcon(snapshot.Icon, kind)\n      };\n    };\n    let initialSnapshot;\n    try {\n      initialSnapshot = render({\n        loading: needsLoad,\n        entity\n      });\n    } catch {\n      initialSnapshot = {\n        primaryTitle: entityRef,\n        entityRef\n      };\n    }\n    if (!needsLoad) {\n      return {\n        snapshot: initialSnapshot,\n        promise: Promise.resolve(initialSnapshot)\n      };\n    }\n    const maybeUpdatedSnapshot = Promise.resolve().then(() => {\n      return this.#loader?.load(entityRef);\n    }).then((newEntity) => {\n      return render({\n        loading: false,\n        entity: newEntity ?? entity\n      });\n    }).catch(() => {\n      return void 0;\n    });\n    const observable = new ObservableImpl(\n      (subscriber) => {\n        let aborted = false;\n        maybeUpdatedSnapshot.then((updatedSnapshot) => {\n          if (updatedSnapshot) {\n            subscriber.next(updatedSnapshot);\n          }\n        }).finally(() => {\n          if (!aborted) {\n            subscriber.complete();\n          }\n        });\n        return () => {\n          aborted = true;\n        };\n      }\n    );\n    const promise = maybeUpdatedSnapshot.then((updatedSnapshot) => {\n      return updatedSnapshot ?? initialSnapshot;\n    });\n    return {\n      snapshot: initialSnapshot,\n      update$: observable,\n      promise\n    };\n  }\n  #getEntityForInitialRender(entityOrRef) {\n    if (typeof entityOrRef !== \"string\") {\n      return {\n        entity: entityOrRef,\n        kind: entityOrRef.kind,\n        entityRef: stringifyEntityRef(entityOrRef),\n        needsLoad: false\n      };\n    }\n    const cached = this.#cache.get(entityOrRef);\n    const cachedEntity = cached?.entity;\n    const cacheNeedsUpdate = !cached || Date.now() - cached.updatedAt > this.#cacheTtlMs;\n    const needsLoad = cacheNeedsUpdate && this.#renderer.async !== false && this.#loader !== void 0;\n    return {\n      entity: cachedEntity,\n      kind: parseEntityRef(entityOrRef).kind,\n      entityRef: entityOrRef,\n      needsLoad\n    };\n  }\n  #createLoader(options) {\n    const cacheTtlMs = durationToMilliseconds(options.cacheTtl);\n    const batchDelayMs = durationToMilliseconds(options.batchDelay);\n    return new DataLoader(\n      async (entityRefs) => {\n        const { items } = await options.catalogApi.getEntitiesByRefs({\n          entityRefs,\n          fields: [\n            \"kind\",\n            \"metadata.name\",\n            \"metadata.namespace\",\n            \"metadata.title\",\n            \"metadata.description\",\n            \"spec.profile.displayName\",\n            \"spec.type\"\n          ]\n        });\n        const now = Date.now();\n        entityRefs.forEach((entityRef, index) => {\n          this.#cache.set(entityRef, {\n            updatedAt: now,\n            entity: items[index]\n          });\n        });\n        return items;\n      },\n      {\n        name: \"DefaultEntityPresentationApi\",\n        // This cache is the one that the data loader uses internally for\n        // memoizing requests; essentially what it achieves is that multiple\n        // requests for the same entity ref will be batched up into a single\n        // request and then the resulting promises are held on to. We put an\n        // expiring map here, which makes it so that it re-fetches data with the\n        // expiry cadence of that map. Otherwise it would only fetch a given ref\n        // once and then never try again. This cache does therefore not fulfill\n        // the same purpose as the one that is in the root of the class.\n        cacheMap: new ExpiryMap(cacheTtlMs),\n        maxBatchSize: 100,\n        batchScheduleFn: batchDelayMs ? (cb) => setTimeout(cb, batchDelayMs) : void 0\n      }\n    );\n  }\n  #maybeFallbackIcon(renderedIcon, kind) {\n    if (renderedIcon) {\n      return renderedIcon;\n    } else if (renderedIcon === false) {\n      return false;\n    }\n    return this.#kindIcons[kind.toLocaleLowerCase(\"en-US\")];\n  }\n}\n\nexport { DefaultEntityPresentationApi, ExpiryMap };\n//# sourceMappingURL=DefaultEntityPresentationApi.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { isArray, isString } from 'lodash';\n\nasync function performMigrationToTheNewBucket({\n  storageApi\n}) {\n  const source = storageApi.forBucket(\"settings\");\n  const target = storageApi.forBucket(\"starredEntities\");\n  const oldStarredEntities = source.snapshot(\"starredEntities\").value;\n  if (!isArray(oldStarredEntities)) {\n    return;\n  }\n  const targetEntities = new Set(\n    target.snapshot(\"entityRefs\").value ?? []\n  );\n  oldStarredEntities.filter(isString).map((old) => old.split(\":\")).filter((split) => split.length === 4 && split[0] === \"entity\").map(\n    ([_, kind, namespace, name]) => stringifyEntityRef({ kind, namespace, name })\n  ).forEach((e) => targetEntities.add(e));\n  await target.set(\"entityRefs\", Array.from(targetEntities));\n  await source.remove(\"starredEntities\");\n}\n\nexport { performMigrationToTheNewBucket };\n//# sourceMappingURL=migration.esm.js.map\n","import ObservableImpl from 'zen-observable';\nimport { performMigrationToTheNewBucket } from './migration.esm.js';\n\nclass DefaultStarredEntitiesApi {\n  settingsStore;\n  starredEntities;\n  constructor(opts) {\n    performMigrationToTheNewBucket(opts).then();\n    this.settingsStore = opts.storageApi.forBucket(\"starredEntities\");\n    this.starredEntities = new Set(\n      this.settingsStore.snapshot(\"entityRefs\").value ?? []\n    );\n    this.settingsStore.observe$(\"entityRefs\").subscribe({\n      next: (next) => {\n        this.starredEntities = new Set(next.value ?? []);\n        this.notifyChanges();\n      }\n    });\n  }\n  async toggleStarred(entityRef) {\n    if (this.starredEntities.has(entityRef)) {\n      this.starredEntities.delete(entityRef);\n    } else {\n      this.starredEntities.add(entityRef);\n    }\n    await this.settingsStore.set(\n      \"entityRefs\",\n      Array.from(this.starredEntities)\n    );\n  }\n  starredEntitie$() {\n    return this.observable;\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    subscriber.next(new Set(this.starredEntities));\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  notifyChanges() {\n    for (const subscription of this.subscribers) {\n      subscription.next(new Set(this.starredEntities));\n    }\n  }\n}\n\nexport { DefaultStarredEntitiesApi };\n//# sourceMappingURL=DefaultStarredEntitiesApi.esm.js.map\n","import { CatalogClient } from '@backstage/catalog-client';\nimport { catalogApiRef, starredEntitiesApiRef, entityPresentationApiRef, entityRouteRef } from '@backstage/plugin-catalog-react';\nimport { rootRouteRef, createComponentRouteRef, viewTechDocRouteRef, createFromTemplateRouteRef, unregisterRedirectRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, storageApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\nimport { DefaultEntityPresentationApi } from './apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js';\nimport { DefaultStarredEntitiesApi } from './apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js';\n\nconst catalogPlugin = createPlugin({\n  id: \"catalog\",\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ discoveryApi, fetchApi }) => new CatalogClient({ discoveryApi, fetchApi })\n    }),\n    createApiFactory({\n      api: starredEntitiesApiRef,\n      deps: { storageApi: storageApiRef },\n      factory: ({ storageApi }) => new DefaultStarredEntitiesApi({ storageApi })\n    }),\n    createApiFactory({\n      api: entityPresentationApiRef,\n      deps: { catalogApi: catalogApiRef },\n      factory: ({ catalogApi }) => DefaultEntityPresentationApi.create({ catalogApi })\n    })\n  ],\n  routes: {\n    catalogIndex: rootRouteRef,\n    catalogEntity: entityRouteRef\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef,\n    createFromTemplate: createFromTemplateRouteRef,\n    unregisterRedirect: unregisterRedirectRouteRef\n  }\n});\nconst CatalogIndexPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogIndexPage\",\n    component: () => import('./components/CatalogPage/index.esm.js').then((m) => m.CatalogPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst CatalogEntityPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogEntityPage\",\n    component: () => import('./components/CatalogEntityPage/index.esm.js').then((m) => m.CatalogEntityPage),\n    mountPoint: entityRouteRef\n  })\n);\nconst EntityAboutCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityAboutCard\",\n    component: {\n      lazy: () => import('./components/AboutCard/index.esm.js').then((m) => m.AboutCard)\n    }\n  })\n);\nconst EntityLinksCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLinksCard\",\n    component: {\n      lazy: () => import('./components/EntityLinksCard/index.esm.js').then((m) => m.EntityLinksCard)\n    }\n  })\n);\nconst EntityLabelsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLabelsCard\",\n    component: {\n      lazy: () => import('./components/EntityLabelsCard/index.esm.js').then((m) => m.EntityLabelsCard)\n    }\n  })\n);\nconst EntityHasSystemsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSystemsCard\",\n    component: {\n      lazy: () => import('./components/HasSystemsCard/index.esm.js').then((m) => m.HasSystemsCard)\n    }\n  })\n);\nconst EntityHasComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasComponentsCard\",\n    component: {\n      lazy: () => import('./components/HasComponentsCard/index.esm.js').then((m) => m.HasComponentsCard)\n    }\n  })\n);\nconst EntityHasSubcomponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubcomponentsCard\",\n    component: {\n      lazy: () => import('./components/HasSubcomponentsCard/index.esm.js').then(\n        (m) => m.HasSubcomponentsCard\n      )\n    }\n  })\n);\nconst EntityHasSubdomainsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubdomainsCard\",\n    component: {\n      lazy: () => import('./components/HasSubdomainsCard/index.esm.js').then((m) => m.HasSubdomainsCard)\n    }\n  })\n);\nconst EntityHasResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasResourcesCard\",\n    component: {\n      lazy: () => import('./components/HasResourcesCard/index.esm.js').then((m) => m.HasResourcesCard)\n    }\n  })\n);\nconst EntityDependsOnComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependsOnComponentsCard/index.esm.js').then(\n        (m) => m.DependsOnComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependencyOfComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependencyOfComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependencyOfComponentsCard/index.esm.js').then(\n        (m) => m.DependencyOfComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependsOnResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnResourcesCard\",\n    component: {\n      lazy: () => import('./components/DependsOnResourcesCard/index.esm.js').then(\n        (m) => m.DependsOnResourcesCard\n      )\n    }\n  })\n);\nconst RelatedEntitiesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"RelatedEntitiesCard\",\n    component: {\n      lazy: () => import('./components/RelatedEntitiesCard/index.esm.js').then(\n        (m) => m.RelatedEntitiesCard\n      )\n    }\n  })\n);\nconst CatalogSearchResultListItem = catalogPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"CatalogSearchResultListItem\",\n    component: () => import('./components/CatalogSearchResultListItem/index.esm.js').then(\n      (m) => m.CatalogSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"software-catalog\"\n  })\n);\n\nexport { CatalogEntityPage, CatalogIndexPage, CatalogSearchResultListItem, EntityAboutCard, EntityDependencyOfComponentsCard, EntityDependsOnComponentsCard, EntityDependsOnResourcesCard, EntityHasComponentsCard, EntityHasResourcesCard, EntityHasSubcomponentsCard, EntityHasSubdomainsCard, EntityHasSystemsCard, EntityLabelsCard, EntityLinksCard, RelatedEntitiesCard, catalogPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TabUI from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useState, useCallback, useEffect } from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    tabsWrapper: {\n      gridArea: \"pageSubheader\",\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: \"uppercase\",\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary\n    },\n    selected: {\n      color: theme.palette.text.primary\n    },\n    tabRoot: {\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary\n      }\n    }\n  }),\n  { name: \"BackstageHeaderTabs\" }\n);\nfunction HeaderTabs(props) {\n  const { tabs, onChange, selectedIndex } = props;\n  const [selectedTab, setSelectedTab] = useState(selectedIndex ?? 0);\n  const styles = useStyles();\n  const handleChange = useCallback(\n    (_, index) => {\n      if (selectedIndex === void 0) {\n        setSelectedTab(index);\n      }\n      if (onChange) onChange(index);\n    },\n    [selectedIndex, onChange]\n  );\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ jsx(Box, { className: styles.tabsWrapper, children: /* @__PURE__ */ jsx(\n    Tabs,\n    {\n      indicatorColor: \"primary\",\n      textColor: \"inherit\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"tabs\",\n      onChange: handleChange,\n      value: selectedTab,\n      children: tabs.map((tab, index) => /* @__PURE__ */ jsx(\n        TabUI,\n        {\n          \"data-testid\": `header-tab-${index}`,\n          label: tab.label,\n          value: index,\n          className: styles.defaultTab,\n          classes: { selected: styles.selected, root: styles.tabRoot },\n          ...tab.tabProps\n        },\n        tab.id\n      ))\n    }\n  ) });\n}\n\nexport { HeaderTabs };\n//# sourceMappingURL=HeaderTabs.esm.js.map\n","function isPermission(permission, comparedPermission) {\n  return permission.name === comparedPermission.name;\n}\nfunction isResourcePermission(permission, resourceType) {\n  if (!(\"resourceType\" in permission)) {\n    return false;\n  }\n  return !resourceType || permission.resourceType === resourceType;\n}\nfunction isCreatePermission(permission) {\n  return permission.attributes.action === \"create\";\n}\nfunction isReadPermission(permission) {\n  return permission.attributes.action === \"read\";\n}\nfunction isUpdatePermission(permission) {\n  return permission.attributes.action === \"update\";\n}\nfunction isDeletePermission(permission) {\n  return permission.attributes.action === \"delete\";\n}\nfunction toPermissionEvaluator(permissionAuthorizer) {\n  return {\n    authorize: async (requests, options) => {\n      const response = await permissionAuthorizer.authorize(requests, options);\n      return response;\n    },\n    authorizeConditional(requests, options) {\n      const parsedRequests = requests;\n      return permissionAuthorizer.authorize(parsedRequests, options);\n    }\n  };\n}\n\nexport { isCreatePermission, isDeletePermission, isPermission, isReadPermission, isResourcePermission, isUpdatePermission, toPermissionEvaluator };\n//# sourceMappingURL=util.esm.js.map\n","import { createContext } from 'react';\n\nconst InternalAppContext = createContext(void 0);\n\nexport { InternalAppContext };\n//# sourceMappingURL=InternalAppContext.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport '@backstage/catalog-model';\nimport 'lodash/get';\nimport { useEntityPresentation } from '../../apis/EntityPresentationApi/useEntityPresentation.esm.js';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      textDecoration: \"inherit\"\n    },\n    icon: {\n      marginRight: theme.spacing(0.5),\n      color: theme.palette.text.secondary,\n      \"& svg\": {\n        verticalAlign: \"middle\"\n      }\n    }\n  }),\n  { name: \"CatalogReactEntityDisplayName\" }\n);\nconst EntityDisplayName = (props) => {\n  const { entityRef, hideIcon, disableTooltip, defaultKind, defaultNamespace } = props;\n  const classes = useStyles();\n  const { primaryTitle, secondaryTitle, Icon } = useEntityPresentation(\n    entityRef,\n    { defaultKind, defaultNamespace }\n  );\n  let content = /* @__PURE__ */ jsx(Fragment, { children: primaryTitle });\n  content = /* @__PURE__ */ jsxs(Box, { component: \"span\", className: classes.root, children: [\n    Icon && !hideIcon ? /* @__PURE__ */ jsx(Box, { component: \"span\", className: classes.icon, children: /* @__PURE__ */ jsx(Icon, { fontSize: \"inherit\" }) }) : null,\n    content\n  ] });\n  if (secondaryTitle && !disableTooltip) {\n    content = /* @__PURE__ */ jsx(Tooltip, { enterDelay: 1500, title: secondaryTitle, children: content });\n  }\n  return content;\n};\n\nexport { EntityDisplayName };\n//# sourceMappingURL=EntityDisplayName.esm.js.map\n","function createApiFactory(factory, instance) {\n  if (\"id\" in factory) {\n    return {\n      api: factory,\n      deps: {},\n      factory: () => instance\n    };\n  }\n  return factory;\n}\n\nexport { createApiFactory };\n//# sourceMappingURL=helpers.esm.js.map\n","import { useState, useEffect } from 'react';\n\nfunction useUpdatingObservable(value, observable, deps) {\n  const [snapshot, setSnapshot] = useState(value);\n  useEffect(() => {\n    setSnapshot(value);\n    const subscription = observable?.subscribe({\n      next: (updatedValue) => {\n        setSnapshot(updatedValue);\n      },\n      complete: () => {\n        subscription?.unsubscribe();\n      }\n    });\n    return () => {\n      subscription?.unsubscribe();\n    };\n  }, deps);\n  return snapshot;\n}\n\nexport { useUpdatingObservable };\n//# sourceMappingURL=useUpdatingObservable.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApiHolder } from '@backstage/core-plugin-api';\nimport { useMemo } from 'react';\nimport { entityPresentationApiRef } from './EntityPresentationApi.esm.js';\nimport { defaultEntityPresentation } from './defaultEntityPresentation.esm.js';\nimport { useUpdatingObservable } from './useUpdatingObservable.esm.js';\n\nfunction useEntityPresentation(entityOrRef, context) {\n  const apis = useApiHolder();\n  const entityPresentationApi = apis.get(entityPresentationApiRef);\n  const deps = [\n    entityPresentationApi,\n    JSON.stringify(entityOrRef),\n    JSON.stringify(context || null)\n  ];\n  const presentation = useMemo(\n    () => {\n      if (!entityPresentationApi) {\n        const fallback = defaultEntityPresentation(entityOrRef, context);\n        return { snapshot: fallback, promise: Promise.resolve(fallback) };\n      }\n      return entityPresentationApi.forEntity(\n        typeof entityOrRef === \"string\" || \"metadata\" in entityOrRef ? entityOrRef : stringifyEntityRef(entityOrRef),\n        context\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps\n  );\n  return useUpdatingObservable(presentation.snapshot, presentation.update$, [\n    presentation\n  ]);\n}\n\nexport { useEntityPresentation };\n//# sourceMappingURL=useEntityPresentation.esm.js.map\n","const generateAuth = async (entity, kubernetesApi, kubernetesAuthProvidersApi) => {\n  const clusters = await kubernetesApi.getClusters();\n  const authProviders = [\n    ...new Set(\n      clusters.map(\n        (c) => `${c.authProvider}${c.oidcTokenProvider ? `.${c.oidcTokenProvider}` : \"\"}`\n      )\n    )\n  ];\n  let requestBody = {\n    entity\n  };\n  for (const authProviderStr of authProviders) {\n    requestBody = await kubernetesAuthProvidersApi.decorateRequestBodyForAuth(\n      authProviderStr,\n      requestBody\n    );\n  }\n  return requestBody.auth ?? {};\n};\n\nexport { generateAuth };\n//# sourceMappingURL=auth.esm.js.map\n","import { useCallback } from 'react';\nimport useInterval from 'react-use/esm/useInterval';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { generateAuth } from './auth.esm.js';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\nimport { kubernetesAuthProvidersApiRef } from '../kubernetes-auth-provider/types.esm.js';\nimport { kubernetesApiRef } from '../api/types.esm.js';\n\nconst useKubernetesObjects = (entity, intervalMs = 1e4) => {\n  const kubernetesApi = useApi(kubernetesApiRef);\n  const kubernetesAuthProvidersApi = useApi(kubernetesAuthProvidersApiRef);\n  const getObjects = useCallback(async () => {\n    const auth = await generateAuth(\n      entity,\n      kubernetesApi,\n      kubernetesAuthProvidersApi\n    );\n    return await kubernetesApi.getObjectsByEntity({\n      auth,\n      entity\n    });\n  }, [kubernetesApi, entity, kubernetesAuthProvidersApi]);\n  const { value, loading, error, retry } = useAsyncRetry(\n    () => getObjects(),\n    [getObjects]\n  );\n  useInterval(() => retry(), intervalMs);\n  return {\n    kubernetesObjects: value,\n    loading,\n    error: error?.message\n  };\n};\n\nexport { useKubernetesObjects };\n//# sourceMappingURL=useKubernetesObjects.esm.js.map\n","import { createContext, useContext } from 'react';\n\nconst DetectedErrorsContext = createContext([]);\nconst useMatchingErrors = (matcher) => {\n  const targetRef = {\n    name: matcher.metadata?.name ?? \"\",\n    namespace: matcher.metadata?.namespace ?? \"\",\n    kind: matcher.kind,\n    apiGroup: matcher.apiVersion\n  };\n  const errors = useContext(DetectedErrorsContext);\n  return errors.filter((e) => {\n    const r = e.sourceRef;\n    return targetRef.apiGroup === r.apiGroup && targetRef.kind === r.kind && targetRef.name === r.name && targetRef.namespace === r.namespace;\n  });\n};\n\nexport { DetectedErrorsContext, useMatchingErrors };\n//# sourceMappingURL=useMatchingErrors.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { WarningPanel } from '@backstage/core-components';\n\nconst clustersWithErrorsToErrorMessage = (clustersWithErrors) => {\n  return clustersWithErrors.map((c, i) => {\n    return /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body2\", children: `Cluster: ${c.cluster.title || c.cluster.name}` }),\n      c.errors.map((e, j) => {\n        return /* @__PURE__ */ jsx(Typography, { variant: \"body2\", children: e.errorType === \"FETCH_ERROR\" ? `Error communicating with Kubernetes: ${e.errorType}, message: ${e.message}` : `Error fetching Kubernetes resource: '${e.resourcePath}', error: ${e.errorType}, status code: ${e.statusCode}` }, j);\n      }),\n      /* @__PURE__ */ jsx(\"br\", {})\n    ] }, i);\n  });\n};\nconst ErrorPanel = ({\n  entityName,\n  errorMessage,\n  clustersWithErrors\n}) => /* @__PURE__ */ jsxs(\n  WarningPanel,\n  {\n    title: \"There was a problem retrieving Kubernetes objects\",\n    message: `There was a problem retrieving some Kubernetes resources for the entity: ${entityName}. This could mean that the Error Reporting card is not completely accurate.`,\n    children: [\n      clustersWithErrors && /* @__PURE__ */ jsxs(\"div\", { children: [\n        \"Errors: \",\n        clustersWithErrorsToErrorMessage(clustersWithErrors)\n      ] }),\n      errorMessage && /* @__PURE__ */ jsxs(Typography, { variant: \"body2\", children: [\n        \"Errors: \",\n        errorMessage\n      ] })\n    ]\n  }\n);\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Table } from '@backstage/core-components';\n\nconst columns = [\n  {\n    title: \"cluster\",\n    width: \"10%\",\n    render: (row) => row.cluster.title || row.cluster.name\n  },\n  {\n    title: \"namespace\",\n    width: \"10%\",\n    render: (row) => row.error.sourceRef.namespace\n  },\n  {\n    title: \"kind\",\n    width: \"10%\",\n    render: (row) => row.error.sourceRef.kind\n  },\n  {\n    title: \"name\",\n    width: \"30%\",\n    render: (row) => {\n      return /* @__PURE__ */ jsxs(Fragment, { children: [\n        row.error.sourceRef.name,\n        \" \"\n      ] });\n    }\n  },\n  {\n    title: \"messages\",\n    width: \"40%\",\n    render: (row) => row.error.message\n  }\n];\nconst sortBySeverity = (a, b) => {\n  if (a.error.severity < b.error.severity) {\n    return 1;\n  } else if (b.error.severity < a.error.severity) {\n    return -1;\n  }\n  return 0;\n};\nconst ErrorReporting = ({\n  detectedErrors,\n  clusters\n}) => {\n  const errors = Array.from(detectedErrors.entries()).flatMap(([clusterName, resourceErrors]) => {\n    return resourceErrors.map((e) => ({\n      cluster: clusters.find((c) => c.name === clusterName),\n      error: e\n    }));\n  }).sort(sortBySeverity);\n  return /* @__PURE__ */ jsx(Fragment, { children: errors.length !== 0 && /* @__PURE__ */ jsx(\n    Table,\n    {\n      title: \"Error Reporting\",\n      data: errors,\n      columns,\n      options: { paging: true, search: false, emptyRowsWhenPaging: false }\n    }\n  ) });\n};\n\nexport { ErrorReporting };\n//# sourceMappingURL=ErrorReporting.esm.js.map\n","const groupResponses = (fetchResponse) => {\n  return fetchResponse.reduce(\n    (prev, next) => {\n      switch (next.type) {\n        case \"deployments\":\n          prev.deployments.push(...next.resources);\n          break;\n        case \"pods\":\n          prev.pods.push(...next.resources);\n          break;\n        case \"replicasets\":\n          prev.replicaSets.push(...next.resources);\n          break;\n        case \"services\":\n          prev.services.push(...next.resources);\n          break;\n        case \"configmaps\":\n          prev.configMaps.push(...next.resources);\n          break;\n        case \"horizontalpodautoscalers\":\n          prev.horizontalPodAutoscalers.push(...next.resources);\n          break;\n        case \"ingresses\":\n          prev.ingresses.push(...next.resources);\n          break;\n        case \"jobs\":\n          prev.jobs.push(...next.resources);\n          break;\n        case \"cronjobs\":\n          prev.cronJobs.push(...next.resources);\n          break;\n        case \"customresources\":\n          prev.customResources.push(...next.resources);\n          break;\n        case \"statefulsets\":\n          prev.statefulsets.push(...next.resources);\n          break;\n        case \"daemonsets\":\n          prev.daemonSets.push(...next.resources);\n          break;\n      }\n      return prev;\n    },\n    {\n      pods: [],\n      replicaSets: [],\n      deployments: [],\n      services: [],\n      configMaps: [],\n      horizontalPodAutoscalers: [],\n      ingresses: [],\n      jobs: [],\n      cronJobs: [],\n      customResources: [],\n      statefulsets: [],\n      daemonSets: []\n    }\n  );\n};\n\nexport { groupResponses };\n//# sourceMappingURL=response.esm.js.map\n","import { createContext } from 'react';\n\nconst PodNamesWithErrorsContext = createContext(\n  /* @__PURE__ */ new Set()\n);\n\nexport { PodNamesWithErrorsContext };\n//# sourceMappingURL=PodNamesWithErrors.esm.js.map\n","import { createContext } from 'react';\n\nconst GroupedResponsesContext = createContext({\n  pods: [],\n  replicaSets: [],\n  deployments: [],\n  daemonSets: [],\n  services: [],\n  configMaps: [],\n  horizontalPodAutoscalers: [],\n  ingresses: [],\n  jobs: [],\n  cronJobs: [],\n  customResources: [],\n  statefulsets: []\n});\n\nexport { GroupedResponsesContext };\n//# sourceMappingURL=GroupedResponses.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\n\nconst useIsPodExecTerminalEnabled = () => {\n  const configApi = useApi(configApiRef);\n  return configApi.getOptionalBoolean(\"kubernetes.podExecTerminal.enabled\");\n};\n\nexport { useIsPodExecTerminalEnabled };\n//# sourceMappingURL=useIsPodExecTerminalEnabled.esm.js.map\n","const currentToDeclaredResourceToPerc = (current, resource) => {\n  if (Number(resource) === 0) return 0;\n  if (typeof current === \"number\" && typeof resource === \"number\") {\n    return Math.round(current / resource * 100);\n  }\n  const numerator = BigInt(\n    typeof current === \"number\" ? Math.round(current) : Number(current)\n  );\n  const denominator = BigInt(\n    typeof resource === \"number\" ? Math.round(resource) : Number(resource)\n  );\n  return Number(numerator * BigInt(100) / denominator);\n};\nconst bytesToMiB = (value) => {\n  return `${(parseFloat(value.toString()) / 1024 / 1024).toFixed(0)}MiB`;\n};\nconst formatMillicores = (value) => {\n  return `${(parseFloat(value.toString()) * 1e3).toFixed(0)}m`;\n};\n\nexport { bytesToMiB, currentToDeclaredResourceToPerc, formatMillicores };\n//# sourceMappingURL=resources.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useState } from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    dialogPaper: { minHeight: \"calc(100% - 64px)\" },\n    dialogContent: { flexBasis: 0 },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  })\n);\nconst KubernetesDialog = ({\n  buttonAriaLabel,\n  buttonIcon,\n  buttonText,\n  children,\n  disabled,\n  title\n}) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const openDialog = () => {\n    setOpen(true);\n  };\n  const closeDialog = () => {\n    setOpen(false);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsxs(\n      Dialog,\n      {\n        maxWidth: \"xl\",\n        fullWidth: true,\n        open,\n        onClose: closeDialog,\n        PaperProps: { className: classes.dialogPaper },\n        children: [\n          /* @__PURE__ */ jsxs(DialogTitle, { id: \"dialog-title\", children: [\n            title,\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                \"aria-label\": \"close\",\n                className: classes.closeButton,\n                onClick: closeDialog,\n                children: /* @__PURE__ */ jsx(CloseIcon, {})\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx(DialogContent, { className: classes.dialogContent, children })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": buttonAriaLabel,\n        component: \"label\",\n        disabled,\n        onClick: openDialog,\n        startIcon: buttonIcon,\n        children: buttonText\n      }\n    )\n  ] });\n};\n\nexport { KubernetesDialog };\n//# sourceMappingURL=KubernetesDialog.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesApiRef } from '../api/types.esm.js';\n\nconst useIsPodExecTerminalSupported = () => {\n  const kubernetesApi = useApi(kubernetesApiRef);\n  return useAsync(async () => {\n    const clusters = await kubernetesApi.getClusters();\n    if (clusters.length !== 1) {\n      return false;\n    }\n    const { authProvider } = clusters[0];\n    const isClientAuthProvider = [\"aks\", \"google\", \"oidc\"].some(\n      (authProviderName) => authProvider.includes(authProviderName)\n    );\n    return !isClientAuthProvider;\n  });\n};\n\nexport { useIsPodExecTerminalSupported };\n//# sourceMappingURL=useIsPodExecTerminalSupported.esm.js.map\n","import { AttachAddon } from 'xterm-addon-attach';\n\nclass PodExecTerminalAttachAddon extends AttachAddon {\n  #textEncoder = new TextEncoder();\n  constructor(socket, options) {\n    super(socket, options);\n    const thisAddon = this;\n    thisAddon._sendBinary = (data) => {\n      if (!thisAddon._checkOpenSocket()) {\n        return;\n      }\n      const buffer = Uint8Array.from([0, ...this.#textEncoder.encode(data)]);\n      thisAddon._socket.send(buffer);\n    };\n    thisAddon._sendData = (data) => {\n      if (!thisAddon._checkOpenSocket()) {\n        return;\n      }\n      thisAddon._sendBinary(data);\n    };\n  }\n}\n\nexport { PodExecTerminalAttachAddon };\n//# sourceMappingURL=PodExecTerminalAttachAddon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport 'xterm/css/xterm.css';\nimport { useApi, discoveryApiRef } from '@backstage/core-plugin-api';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport { Terminal } from 'xterm';\nimport { FitAddon } from 'xterm-addon-fit';\nimport { PodExecTerminalAttachAddon } from './PodExecTerminalAttachAddon.esm.js';\n\nconst hasSocketProtocol = (url) => /wss?:\\/\\//.test(url.toString());\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    podExecTerminal: {\n      width: \"100%\",\n      height: \"100%\",\n      \"& .xterm-screen\": { padding: theme.spacing(1) }\n    }\n  })\n);\nconst PodExecTerminal = (props) => {\n  const classes = useStyles();\n  const { containerName, podNamespace, podName } = props;\n  const [baseUrl, setBaseUrl] = useState(window.location.host);\n  const terminalRef = useRef(null);\n  const discoveryApi = useApi(discoveryApiRef);\n  const namespace = podNamespace ?? \"default\";\n  useEffect(() => {\n    discoveryApi.getBaseUrl(\"kubernetes\").then((url) => url ?? window.location.host).then((url) => url.replace(/^http(s?):\\/\\//, \"ws$1://\")).then((url) => setBaseUrl(url));\n  }, [discoveryApi]);\n  const urlParams = useMemo(() => {\n    const params = new URLSearchParams({\n      container: containerName,\n      stdin: \"true\",\n      stdout: \"true\",\n      stderr: \"true\",\n      tty: \"true\",\n      command: \"/bin/sh\"\n    });\n    return params;\n  }, [containerName]);\n  const socketUrl = useMemo(() => {\n    if (!hasSocketProtocol(baseUrl)) {\n      return \"\";\n    }\n    return new URL(\n      `${baseUrl}/proxy/api/v1/namespaces/${namespace}/pods/${podName}/exec?${urlParams}`\n    );\n  }, [baseUrl, namespace, podName, urlParams]);\n  useEffect(() => {\n    if (!hasSocketProtocol(socketUrl)) {\n      return () => {\n      };\n    }\n    const terminal = new Terminal();\n    const fitAddon = new FitAddon();\n    terminal.loadAddon(fitAddon);\n    if (terminalRef.current) {\n      terminal.open(terminalRef.current);\n      fitAddon.fit();\n    }\n    terminal.writeln(\"Starting terminal, please wait...\");\n    const socket = new WebSocket(socketUrl, [\"channel.k8s.io\"]);\n    socket.onopen = () => {\n      terminal.clear();\n      const attachAddon = new PodExecTerminalAttachAddon(socket, {\n        bidirectional: true\n      });\n      terminal.loadAddon(attachAddon);\n    };\n    socket.onclose = () => {\n      terminal.writeln(\"Socket connection closed\");\n    };\n    return () => {\n      terminal?.clear();\n      socket?.close();\n    };\n  }, [baseUrl, socketUrl]);\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      \"data-testid\": \"terminal\",\n      ref: terminalRef,\n      className: classes.podExecTerminal\n    }\n  );\n};\n\nexport { PodExecTerminal };\n//# sourceMappingURL=PodExecTerminal.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport { KubernetesDialog } from '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '@backstage/core-plugin-api';\nimport { useIsPodExecTerminalSupported } from '../../hooks/useIsPodExecTerminalSupported.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../api/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { PodExecTerminal } from './PodExecTerminal.esm.js';\n\nconst PodExecTerminalDialog = (props) => {\n  const { cluster, containerName, podName } = props;\n  const isPodExecTerminalSupported = useIsPodExecTerminalSupported();\n  return !isPodExecTerminalSupported.loading && isPodExecTerminalSupported.value && /* @__PURE__ */ jsx(\n    KubernetesDialog,\n    {\n      buttonAriaLabel: \"open terminal\",\n      buttonIcon: /* @__PURE__ */ jsx(OpenInBrowserIcon, {}),\n      buttonText: \"Terminal\",\n      disabled: isPodExecTerminalSupported.loading || !isPodExecTerminalSupported.value,\n      title: `${podName} - ${containerName} terminal shell on cluster ${cluster.title || cluster.name}`,\n      children: /* @__PURE__ */ jsx(PodExecTerminal, { ...props })\n    }\n  );\n};\n\nexport { PodExecTerminalDialog };\n//# sourceMappingURL=PodExecTerminalDialog.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Circle } from 'rc-progress';\nimport { useState, useEffect } from 'react';\nimport Box from '@material-ui/core/Box';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"relative\",\n      lineHeight: 0\n    },\n    overlay: {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -60%)\",\n      fontSize: theme.typography.pxToRem(45),\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.textContrast\n    },\n    overlaySmall: {\n      fontSize: theme.typography.pxToRem(25)\n    },\n    description: {\n      fontSize: \"100%\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      position: \"absolute\",\n      wordBreak: \"break-all\",\n      display: \"inline-block\"\n    },\n    circle: {\n      width: \"80%\",\n      transform: \"translate(10%, 0)\"\n    },\n    colorUnknown: {}\n  }),\n  { name: \"BackstageGauge\" }\n);\nconst defaultGaugeProps = {\n  fractional: true,\n  inverse: false,\n  unit: \"%\",\n  max: 100,\n  relativeToMax: false\n};\nconst getProgressColor = ({\n  palette,\n  value,\n  inverse,\n  max\n}) => {\n  if (isNaN(value)) {\n    return \"#ddd\";\n  }\n  const actualMax = max ? max : defaultGaugeProps.max;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue < actualMax / 3) {\n    return palette.status.error;\n  } else if (actualValue < actualMax * (2 / 3)) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n};\nfunction Gauge(props) {\n  const [hoverRef, setHoverRef] = useState(null);\n  const { getColor = getProgressColor, size = \"normal\" } = props;\n  const classes = useStyles(props);\n  const { palette } = useTheme();\n  const {\n    value,\n    fractional,\n    inverse,\n    unit,\n    max,\n    description,\n    relativeToMax,\n    decimalDigits\n  } = {\n    ...defaultGaugeProps,\n    ...props\n  };\n  let asPercentage;\n  if (relativeToMax) {\n    asPercentage = value / max * 100;\n  } else {\n    asPercentage = fractional ? Math.round(value * max) : value;\n  }\n  let asActual;\n  if (relativeToMax) {\n    asActual = value;\n  } else {\n    asActual = max !== 100 ? Math.round(value) : asPercentage;\n  }\n  const asDisplay = decimalDigits === void 0 ? asActual.toString() : asActual.toFixed(decimalDigits);\n  const [isHovering, setIsHovering] = useState(false);\n  useEffect(() => {\n    const node = hoverRef;\n    const handleMouseOver = () => setIsHovering(true);\n    const handleMouseOut = () => setIsHovering(false);\n    if (node && description) {\n      node.addEventListener(\"mouseenter\", handleMouseOver);\n      node.addEventListener(\"mouseleave\", handleMouseOut);\n      return () => {\n        node.removeEventListener(\"mouseenter\", handleMouseOver);\n        node.removeEventListener(\"mouseleave\", handleMouseOut);\n      };\n    }\n    return () => {\n      setIsHovering(false);\n    };\n  }, [description, hoverRef]);\n  return /* @__PURE__ */ jsxs(Box, { ...{ ref: setHoverRef }, className: classes.root, children: [\n    /* @__PURE__ */ jsx(\n      Circle,\n      {\n        strokeLinecap: \"butt\",\n        percent: asPercentage,\n        strokeWidth: 12,\n        trailWidth: 12,\n        strokeColor: getColor({\n          palette,\n          value: asPercentage,\n          inverse,\n          max: relativeToMax ? 100 : max\n        }),\n        className: classes.circle\n      }\n    ),\n    description && isHovering ? /* @__PURE__ */ jsx(Box, { className: classes.description, children: description }) : /* @__PURE__ */ jsx(\n      Box,\n      {\n        className: classNames(classes.overlay, {\n          [classes.overlaySmall]: size === \"small\"\n        }),\n        children: isNaN(value) ? \"N/A\" : `${asDisplay}${unit}`\n      }\n    )\n  ] });\n}\n\nexport { Gauge, getProgressColor };\n//# sourceMappingURL=Gauge.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useTheme } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Line } from 'rc-progress';\nimport { getProgressColor } from './Gauge.esm.js';\n\nfunction LinearGauge(props) {\n  const { value, getColor = getProgressColor, width = \"thick\" } = props;\n  const { palette } = useTheme();\n  if (isNaN(value)) {\n    return null;\n  }\n  let percent = Math.round(value * 100 * 100) / 100;\n  if (percent > 100) {\n    percent = 100;\n  }\n  const lineWidth = width === \"thick\" ? 4 : 1;\n  const strokeColor = getColor({\n    palette,\n    value: percent,\n    inverse: false,\n    max: 100\n  });\n  return /* @__PURE__ */ jsx(Tooltip, { title: `${percent}%`, children: /* @__PURE__ */ jsx(Typography, { component: \"span\", children: /* @__PURE__ */ jsx(\n    Line,\n    {\n      percent,\n      strokeWidth: lineWidth,\n      trailWidth: lineWidth,\n      strokeColor\n    }\n  ) }) });\n}\n\nexport { LinearGauge };\n//# sourceMappingURL=LinearGauge.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { LinearGauge } from '@backstage/core-components';\nimport { currentToDeclaredResourceToPerc } from '../../utils/resources.esm.js';\n\nconst getProgressColor = ({\n  palette,\n  value,\n  inverse,\n  max\n}) => {\n  if (isNaN(value)) {\n    return palette.status.pending;\n  }\n  const actualMax = max ? max : 100;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue >= actualMax) {\n    return palette.status.error;\n  } else if (actualValue > 90 || actualValue < 40) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n};\nconst ResourceUtilization = ({\n  compressed = false,\n  title,\n  usage,\n  total,\n  totalFormatted\n}) => {\n  const utilization = currentToDeclaredResourceToPerc(usage, total);\n  return /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 0, children: [\n    /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: compressed ? \"caption\" : \"subtitle2\",\n        children: `${title}: ${totalFormatted}`\n      }\n    ) }),\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n      /* @__PURE__ */ jsx(\n        LinearGauge,\n        {\n          getColor: getProgressColor,\n          width: compressed ? \"thin\" : \"thick\",\n          value: utilization / 100\n        }\n      ),\n      !compressed && /* @__PURE__ */ jsxs(Typography, { variant: \"caption\", children: [\n        \"usage: \",\n        `${utilization}%`\n      ] })\n    ] })\n  ] });\n};\n\nexport { ResourceUtilization };\n//# sourceMappingURL=ResourceUtilization.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { useApi, storageApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/esm/useObservable';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(0),\n      marginBottom: theme.spacing(0),\n      marginTop: theme.spacing(0),\n      display: \"flex\",\n      flexFlow: \"row nowrap\"\n    },\n    // showing on top\n    topPosition: {\n      position: \"relative\",\n      marginBottom: theme.spacing(6),\n      marginTop: -theme.spacing(3),\n      zIndex: \"unset\"\n    },\n    icon: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    content: {\n      width: \"100%\",\n      maxWidth: \"inherit\",\n      flexWrap: \"nowrap\",\n      color: theme.palette.banner.text\n    },\n    message: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& a\": {\n        color: theme.palette.banner.link\n      }\n    },\n    button: {\n      color: theme.palette.banner.closeButtonColor ?? \"inherit\"\n    },\n    info: {\n      backgroundColor: theme.palette.banner.info\n    },\n    error: {\n      backgroundColor: theme.palette.banner.error\n    },\n    warning: {\n      backgroundColor: theme.palette.banner.warning ?? theme.palette.banner.error\n    }\n  }),\n  { name: \"BackstageDismissableBanner\" }\n);\nconst DismissableBanner = (props) => {\n  const { variant, message, id, fixed = false } = props;\n  const classes = useStyles();\n  const storageApi = useApi(storageApiRef);\n  const notificationsStore = storageApi.forBucket(\"notifications\");\n  const observedItems = useObservable(\n    notificationsStore.observe$(\"dismissedBanners\"),\n    notificationsStore.snapshot(\"dismissedBanners\")\n  );\n  const dismissedBanners = useMemo(\n    () => new Set(observedItems.value ?? []),\n    [observedItems.value]\n  );\n  const loadingSettings = observedItems.presence === \"unknown\";\n  const handleClick = () => {\n    notificationsStore.set(\"dismissedBanners\", [...dismissedBanners, id]);\n  };\n  return /* @__PURE__ */ jsx(\n    Snackbar,\n    {\n      anchorOrigin: fixed ? { vertical: \"bottom\", horizontal: \"center\" } : { vertical: \"top\", horizontal: \"center\" },\n      open: !loadingSettings && !dismissedBanners.has(id),\n      classes: {\n        root: classNames(classes.root, !fixed && classes.topPosition)\n      },\n      children: /* @__PURE__ */ jsx(\n        SnackbarContent,\n        {\n          classes: {\n            root: classNames(classes.content, classes[variant]),\n            message: classes.message\n          },\n          message,\n          action: [\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                title: \"Permanently dismiss this message\",\n                className: classes.button,\n                onClick: handleClick,\n                children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n              },\n              \"dismiss\"\n            )\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DismissableBanner };\n//# sourceMappingURL=DismissableBanner.esm.js.map\n","import useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst usePodLogs = ({ containerScope, previous }) => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  return useAsync(async () => {\n    return await kubernetesProxyApi.getPodLogs({\n      podName: containerScope.podName,\n      namespace: containerScope.podNamespace,\n      containerName: containerScope.containerName,\n      clusterName: containerScope.cluster.name,\n      previous\n    });\n  }, [JSON.stringify(containerScope)]);\n};\n\nexport { usePodLogs };\n//# sourceMappingURL=usePodLogs.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { DismissableBanner, EmptyState, LogViewer } from '@backstage/core-components';\nimport Paper from '@material-ui/core/Paper';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { usePodLogs } from './usePodLogs.esm.js';\n\nconst PodLogs = ({\n  containerScope,\n  previous\n}) => {\n  const { value, error, loading } = usePodLogs({\n    containerScope,\n    previous\n  });\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    error && /* @__PURE__ */ jsx(\n      DismissableBanner,\n      {\n        ...{\n          message: error.message,\n          variant: \"error\",\n          fixed: false\n        },\n        id: \"pod-logs\"\n      }\n    ),\n    /* @__PURE__ */ jsxs(\n      Paper,\n      {\n        elevation: 1,\n        style: { height: \"100%\", width: \"100%\", minHeight: \"55rem\" },\n        children: [\n          loading && /* @__PURE__ */ jsx(Skeleton, { variant: \"rect\", width: \"100%\", height: \"100%\" }),\n          !loading && value !== void 0 && (value.text === \"\" ? /* @__PURE__ */ jsx(\n            EmptyState,\n            {\n              missing: \"data\",\n              title: \"No logs emitted\",\n              description: \"No logs were emitted by the container\"\n            }\n          ) : /* @__PURE__ */ jsx(LogViewer, { text: value.text }))\n        ]\n      }\n    )\n  ] });\n};\n\nexport { PodLogs };\n//# sourceMappingURL=PodLogs.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport SubjectIcon from '@material-ui/icons/Subject';\nimport { KubernetesDialog } from '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport { PodLogs } from './PodLogs.esm.js';\n\nconst PodLogsDialog = ({ containerScope }) => {\n  return /* @__PURE__ */ jsx(\n    KubernetesDialog,\n    {\n      buttonAriaLabel: \"get logs\",\n      buttonIcon: /* @__PURE__ */ jsx(SubjectIcon, {}),\n      buttonText: \"Logs\",\n      disabled: false,\n      title: `${containerScope.podName} - ${containerScope.containerName} logs on cluster ${containerScope.cluster.title || containerScope.cluster.name}`,\n      children: /* @__PURE__ */ jsx(PodLogs, { containerScope })\n    }\n  );\n};\n\nexport { PodLogsDialog };\n//# sourceMappingURL=PodLogsDialog.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { StructuredMetadataTable } from '@backstage/core-components';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { DateTime } from 'luxon';\nimport '@backstage/core-plugin-api';\nimport { useIsPodExecTerminalEnabled } from '../../../hooks/useIsPodExecTerminalEnabled.esm.js';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/usePodMetrics.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\nimport { formatMillicores, bytesToMiB } from '../../../utils/resources.esm.js';\nimport { PodExecTerminalDialog } from '../../PodExecTerminal/PodExecTerminalDialog.esm.js';\nimport { ResourceUtilization } from '../../ResourceUtilization/ResourceUtilization.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport { PodLogsDialog } from '../PodLogs/PodLogsDialog.esm.js';\n\nconst getContainerHealthChecks = (containerSpec, containerStatus) => {\n  const healthCheck = {\n    \"not waiting to start\": containerStatus.state?.waiting === void 0,\n    \"no restarts\": containerStatus.restartCount === 0\n  };\n  if (containerStatus.state?.terminated?.reason === \"Completed\") {\n    return healthCheck;\n  }\n  Object.assign(\n    healthCheck,\n    { started: !!containerStatus.started },\n    { ready: containerStatus.ready },\n    { \"readiness probe set\": containerSpec?.readinessProbe !== void 0 }\n  );\n  if (containerSpec && containerSpec?.livenessProbe !== void 0) {\n    Object.assign(healthCheck, {\n      \"liveness probe set\": containerSpec.livenessProbe\n    });\n  }\n  return healthCheck;\n};\nconst getCurrentState = (containerStatus) => {\n  return containerStatus.state?.waiting?.reason || containerStatus.state?.terminated?.reason || (containerStatus.state?.running !== void 0 ? \"Running\" : \"Unknown\");\n};\nconst getStartedAtTime = (containerStatus) => {\n  return containerStatus.state?.running?.startedAt || containerStatus.state?.terminated?.startedAt;\n};\nconst ContainerDatetime = ({ prefix, dateTime }) => {\n  return /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n    prefix,\n    \":\",\n    \" \",\n    DateTime.fromISO(dateTime).toRelative({\n      locale: \"en\"\n    })\n  ] });\n};\nconst ContainerCard = ({\n  podScope,\n  containerSpec,\n  containerStatus,\n  containerMetrics\n}) => {\n  const isPodExecTerminalEnabled = useIsPodExecTerminalEnabled();\n  if (containerSpec === void 0) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"error reading pod from cluster\" });\n  }\n  const containerStartedTime = getStartedAtTime(containerStatus);\n  const containerFinishedTime = containerStatus.state?.terminated?.finishedAt;\n  return /* @__PURE__ */ jsxs(Card, { children: [\n    /* @__PURE__ */ jsx(\n      CardHeader,\n      {\n        title: containerStatus.name,\n        subheader: containerStatus.image\n      }\n    ),\n    /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        containerStartedTime && /* @__PURE__ */ jsx(\n          ContainerDatetime,\n          {\n            prefix: \"Started\",\n            dateTime: containerStartedTime\n          }\n        ),\n        containerFinishedTime && /* @__PURE__ */ jsx(\n          ContainerDatetime,\n          {\n            prefix: \"Completed\",\n            dateTime: containerFinishedTime\n          }\n        ),\n        containerStartedTime && containerFinishedTime && /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n          \"Execution time:\",\n          \" \",\n          DateTime.fromISO(containerFinishedTime).diff(DateTime.fromISO(containerStartedTime), [\n            \"hours\",\n            \"minutes\",\n            \"seconds\"\n          ]).toHuman()\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n        \"Status: \",\n        getCurrentState(containerStatus)\n      ] }) }),\n      containerStatus.restartCount > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n        \"Restarts: \",\n        containerStatus.restartCount\n      ] }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", children: \"Container health\" }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n        StructuredMetadataTable,\n        {\n          metadata: getContainerHealthChecks(\n            containerSpec,\n            containerStatus\n          ),\n          options: { nestedValuesAsYaml: true }\n        }\n      ) }),\n      containerMetrics && /* @__PURE__ */ jsxs(Grid, { container: true, item: true, xs: 12, spacing: 0, children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: \"Resource utilization\" }) }),\n        /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, style: { minHeight: \"5rem\" }, children: [\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"CPU requests\",\n              usage: containerMetrics.cpuUsage.currentUsage,\n              total: containerMetrics.cpuUsage.requestTotal,\n              totalFormatted: formatMillicores(\n                containerMetrics.cpuUsage.requestTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"CPU limits\",\n              usage: containerMetrics.cpuUsage.currentUsage,\n              total: containerMetrics.cpuUsage.limitTotal,\n              totalFormatted: formatMillicores(\n                containerMetrics.cpuUsage.limitTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"Memory requests\",\n              usage: containerMetrics.memoryUsage.currentUsage,\n              total: containerMetrics.memoryUsage.requestTotal,\n              totalFormatted: bytesToMiB(\n                containerMetrics.memoryUsage.requestTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"Memory limits\",\n              usage: containerMetrics.memoryUsage.currentUsage,\n              total: containerMetrics.memoryUsage.limitTotal,\n              totalFormatted: bytesToMiB(\n                containerMetrics.memoryUsage.limitTotal\n              )\n            }\n          )\n        ] })\n      ] })\n    ] }) }),\n    /* @__PURE__ */ jsxs(CardActions, { children: [\n      /* @__PURE__ */ jsx(\n        PodLogsDialog,\n        {\n          containerScope: {\n            containerName: containerStatus.name,\n            ...podScope\n          }\n        }\n      ),\n      isPodExecTerminalEnabled && /* @__PURE__ */ jsx(\n        PodExecTerminalDialog,\n        {\n          cluster: podScope.cluster,\n          containerName: containerStatus.name,\n          podName: podScope.podName,\n          podNamespace: podScope.podNamespace\n        }\n      )\n    ] })\n  ] });\n};\n\nexport { ContainerCard };\n//# sourceMappingURL=ContainerCard.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport jsyaml from 'js-yaml';\nimport { useState } from 'react';\n\nconst ManifestYaml = ({ object }) => {\n  const [managedFields, setManagedFields] = useState(false);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      FormControlLabel,\n      {\n        control: /* @__PURE__ */ jsx(\n          Switch,\n          {\n            checked: managedFields,\n            onChange: (event) => {\n              setManagedFields(event.target.checked);\n            },\n            name: \"Managed Fields\"\n          }\n        ),\n        label: \"Managed Fields\"\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        language: \"yaml\",\n        text: jsyaml.dump(object, {\n          // NOTE: this will remove any field called `managedFields`\n          // not just the metadata one\n          // TODO: @mclarke make this only remove the `metadata.managedFields`\n          replacer: (key, value) => {\n            if (!managedFields) {\n              return key === \"managedFields\" ? void 0 : value;\n            }\n            return value;\n          }\n        })\n      }\n    )\n  ] });\n};\n\nexport { ManifestYaml };\n//# sourceMappingURL=ManifestYaml.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { makeStyles, createStyles, withStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ManifestYaml } from './ManifestYaml.esm.js';\n\nconst useDrawerContentStyles = makeStyles(\n  (_theme) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    content: {\n      height: \"80%\"\n    },\n    icon: {\n      fontSize: 20\n    }\n  })\n);\nconst KubernetesDrawerContent = ({\n  children,\n  header,\n  kubernetesObject,\n  close\n}) => {\n  const classes = useDrawerContentStyles();\n  const [isYaml, setIsYaml] = useState(false);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\"div\", { className: classes.header, children: /* @__PURE__ */ jsxs(Grid, { container: true, justifyContent: \"flex-start\", alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: kubernetesObject.metadata?.name }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 1, children: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          title: \"Close the drawer\",\n          onClick: () => close(),\n          color: \"inherit\",\n          children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n        },\n        \"dismiss\"\n      ) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: header }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ jsx(\n            Switch,\n            {\n              checked: isYaml,\n              onChange: (event) => {\n                setIsYaml(event.target.checked);\n              },\n              name: \"YAML\"\n            }\n          ),\n          label: \"YAML\"\n        }\n      ) })\n    ] }) }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n      isYaml && /* @__PURE__ */ jsx(ManifestYaml, { object: kubernetesObject }),\n      !isYaml && children\n    ] })\n  ] });\n};\nconst useDrawerStyles = makeStyles(\n  (theme) => createStyles({\n    paper: {\n      width: \"50%\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2.5)\n    }\n  })\n);\nconst DrawerButton = withStyles({\n  root: {\n    padding: \"6px 5px\"\n  },\n  label: {\n    textTransform: \"none\"\n  }\n})(Button);\nconst KubernetesDrawer = ({\n  open,\n  label,\n  drawerContentsHeader,\n  kubernetesObject,\n  children\n}) => {\n  const classes = useDrawerStyles();\n  const [isOpen, setIsOpen] = useState(open ?? false);\n  const toggleDrawer = (e, newValue) => {\n    e.stopPropagation();\n    setIsOpen(newValue);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DrawerButton, { onClick: () => setIsOpen(true), children: label }),\n    /* @__PURE__ */ jsx(\n      Drawer,\n      {\n        classes: {\n          paper: classes.paper\n        },\n        anchor: \"right\",\n        open: isOpen,\n        onClose: (e) => toggleDrawer(e, false),\n        onClick: (event) => event.stopPropagation(),\n        children: isOpen && /* @__PURE__ */ jsx(\n          KubernetesDrawerContent,\n          {\n            header: drawerContentsHeader,\n            kubernetesObject,\n            children,\n            close: () => setIsOpen(false)\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { KubernetesDrawer };\n//# sourceMappingURL=KubernetesDrawer.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst kubernetesReactTranslationRef = createTranslationRef({\n  id: \"kubernetes-react\",\n  messages: {\n    podDrawer: {\n      buttons: {\n        delete: \"Delete Pod\"\n      }\n    }\n  }\n});\n\nexport { kubernetesReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { useCallback } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst usePodDelete = () => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  const deletePod = useCallback(\n    async (podScope) => {\n      return await kubernetesProxyApi.deletePod({\n        podName: podScope.podName,\n        namespace: podScope.podNamespace,\n        clusterName: podScope.cluster.name\n      });\n    },\n    [kubernetesProxyApi]\n  );\n  return deletePod;\n};\n\nexport { usePodDelete };\n//# sourceMappingURL=usePodDelete.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { kubernetesReactTranslationRef } from '../../../translation.esm.js';\nimport { usePodDelete } from './usePodDelete.esm.js';\n\nconst PodDeleteButton = ({ podScope }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const deletePod = usePodDelete();\n  const { t } = useTranslationRef(kubernetesReactTranslationRef);\n  const buttonText = t(\"podDrawer.buttons.delete\");\n  const handleDeleteClick = async () => {\n    setIsLoading(true);\n    try {\n      await deletePod(podScope);\n    } catch (error) {\n      setHasError(true);\n      console.error(error);\n    }\n  };\n  return /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: 12, children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n    /* @__PURE__ */ jsx(CardActions, { children: /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": buttonText,\n        component: \"label\",\n        onClick: handleDeleteClick,\n        startIcon: isLoading ? /* @__PURE__ */ jsx(CircularProgress, { size: 18 }) : /* @__PURE__ */ jsx(CloseIcon, {}),\n        disabled: isLoading,\n        children: buttonText\n      }\n    ) }),\n    hasError && /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: \"body1\",\n        color: \"error\",\n        style: { textAlign: \"right\" },\n        children: \"Could not delete the pod. Please check the console for the full report.\"\n      }\n    )\n  ] }) });\n};\n\nexport { PodDeleteButton };\n//# sourceMappingURL=PodDeleteButton.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\nimport { StatusError, StatusOK, StatusWarning } from '@backstage/core-components';\nimport { DateTime } from 'luxon';\n\nconst PodCondition = ({ condition }) => {\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    condition.status === \"False\" && /* @__PURE__ */ jsxs(StatusError, { children: [\n      condition.type,\n      \" - (\",\n      condition.reason,\n      \" \",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \") - \",\n      condition.message,\n      \" \"\n    ] }),\n    condition.status === \"True\" && /* @__PURE__ */ jsxs(StatusOK, { children: [\n      condition.type,\n      \" - (\",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \")\"\n    ] }),\n    condition.status === \"Unknown\" && /* @__PURE__ */ jsxs(StatusWarning, { children: [\n      condition.type,\n      \" - (\",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \") \",\n      condition.message\n    ] })\n  ] });\n};\nconst PendingPodContent = ({ pod }) => {\n  const startupConditions = [\n    pod.status?.conditions?.find((c) => c.type === \"PodScheduled\"),\n    pod.status?.conditions?.find((c) => c.type === \"Initialized\"),\n    pod.status?.conditions?.find((c) => c.type === \"ContainersReady\"),\n    pod.status?.conditions?.find((c) => c.type === \"Ready\")\n  ].filter((c) => !!c);\n  return /* @__PURE__ */ jsx(Grid, { container: true, spacing: 2, children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Pod is Pending. Conditions:\" }),\n    /* @__PURE__ */ jsx(List, { children: startupConditions.map((c) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(PodCondition, { condition: c }) }, c.type)) })\n  ] }) });\n};\n\nexport { PendingPodContent };\n//# sourceMappingURL=PendingPodContent.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst useEvents = ({\n  involvedObjectName,\n  namespace,\n  clusterName\n}) => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  return useAsync(async () => {\n    return await kubernetesProxyApi.getEventsByInvolvedObjectName({\n      involvedObjectName,\n      namespace,\n      clusterName\n    });\n  }, [involvedObjectName, namespace, clusterName]);\n};\n\nexport { useEvents };\n//# sourceMappingURL=useEvents.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { DateTime } from 'luxon';\nimport { useEvents } from './useEvents.esm.js';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { DismissableBanner } from '@backstage/core-components';\n\nconst getAvatarByType = (type) => {\n  return /* @__PURE__ */ jsx(ListItemAvatar, { children: /* @__PURE__ */ jsx(Avatar, { children: type === \"Warning\" ? /* @__PURE__ */ jsx(WarningIcon, {}) : /* @__PURE__ */ jsx(InfoIcon, {}) }) });\n};\nconst EventsContent = ({\n  events,\n  warningEventsOnly\n}) => {\n  if (events.length === 0) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"No events found\" });\n  }\n  return /* @__PURE__ */ jsx(Container, { children: /* @__PURE__ */ jsx(Grid, { children: /* @__PURE__ */ jsx(List, { children: events.filter((event) => {\n    if (warningEventsOnly) {\n      return event.type === \"Warning\";\n    }\n    return true;\n  }).map((event, index) => {\n    const timeAgo = event.metadata.creationTimestamp ? DateTime.fromISO(event.metadata.creationTimestamp).toRelative(\n      {\n        locale: \"en\"\n      }\n    ) : \"unknown\";\n    return /* @__PURE__ */ jsxs(ListItem, { children: [\n      /* @__PURE__ */ jsx(Tooltip, { title: `${event.type ?? \"\"} event`, children: getAvatarByType(event.type) }),\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          primary: `First event ${timeAgo} (count: ${event.count})`,\n          secondary: `${event.reason}: ${event.message}`\n        }\n      )\n    ] }, `${event.metadata.name}-${index}`);\n  }) }) }) });\n};\nconst Events = ({\n  involvedObjectName,\n  namespace,\n  clusterName,\n  warningEventsOnly\n}) => {\n  const { value, error, loading } = useEvents({\n    involvedObjectName,\n    namespace,\n    clusterName\n  });\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    error && /* @__PURE__ */ jsx(\n      DismissableBanner,\n      {\n        ...{\n          message: error.message,\n          variant: \"error\",\n          fixed: false\n        },\n        id: \"events\"\n      }\n    ),\n    loading && /* @__PURE__ */ jsx(Skeleton, { variant: \"rect\", width: \"100%\", height: \"100%\" }),\n    !loading && value !== void 0 && /* @__PURE__ */ jsx(EventsContent, { warningEventsOnly, events: value })\n  ] });\n};\n\nexport { Events, EventsContent };\n//# sourceMappingURL=Events.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport HelpIcon from '@material-ui/icons/Help';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\nimport { PodLogs } from '../PodLogs/PodLogs.esm.js';\nimport '@material-ui/icons/Subject';\nimport '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport 'react-use/esm/useAsync';\nimport '@backstage/core-plugin-api';\nimport '../../../api/types.esm.js';\nimport { Events } from '../Events/Events.esm.js';\nimport { LinkButton } from '@backstage/core-components';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  })\n);\nconst FixDialog = ({\n  open,\n  pod,\n  error,\n  clusterName\n}) => {\n  const [isOpen, setOpen] = useState(!!open);\n  const classes = useStyles();\n  const openDialog = () => {\n    setOpen(true);\n  };\n  const closeDialog = () => {\n    setOpen(false);\n  };\n  const pf = error.proposedFix;\n  const dialogContent = () => {\n    return /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Detected error:\" }),\n        /* @__PURE__ */ jsx(Typography, { children: error.message })\n      ] }),\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Cause explanation:\" }),\n        /* @__PURE__ */ jsx(Typography, { children: error.proposedFix?.rootCauseExplanation ?? \"unknown\" })\n      ] }),\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Fix:\" }),\n        /* @__PURE__ */ jsx(List, { children: (error.proposedFix?.actions ?? []).map((fix, i) => {\n          return /* @__PURE__ */ jsx(ListItem, { children: fix }, `${pod.metadata?.name ?? \"unknown\"}-pf-${i}`);\n        }) })\n      ] }),\n      pf && pf.type === \"logs\" && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Crash logs:\" }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n          PodLogs,\n          {\n            previous: true,\n            containerScope: {\n              podName: pod.metadata?.name ?? \"unknown\",\n              podNamespace: pod.metadata?.namespace ?? \"unknown\",\n              cluster: { name: clusterName },\n              containerName: pf.container\n            }\n          }\n        ) })\n      ] }),\n      pf && pf.type === \"events\" && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Events:\" }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n          Events,\n          {\n            warningEventsOnly: true,\n            involvedObjectName: pod.metadata?.name ?? \"\",\n            namespace: pod.metadata?.namespace ?? \"\",\n            clusterName\n          }\n        ) })\n      ] })\n    ] });\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": \"fix issue\",\n        component: \"label\",\n        onClick: openDialog,\n        startIcon: /* @__PURE__ */ jsx(HelpIcon, {}),\n        children: \"Help\"\n      }\n    ),\n    /* @__PURE__ */ jsxs(Dialog, { maxWidth: \"xl\", fullWidth: true, open: isOpen, onClose: closeDialog, children: [\n      /* @__PURE__ */ jsxs(DialogTitle, { id: \"dialog-title\", children: [\n        pod.metadata?.name,\n        \" - \",\n        error.type,\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            \"aria-label\": \"close\",\n            className: classes.closeButton,\n            onClick: closeDialog,\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(DialogContent, { children: dialogContent() }),\n      /* @__PURE__ */ jsx(DialogActions, { children: pf && pf.type === \"docs\" && /* @__PURE__ */ jsx(\n        LinkButton,\n        {\n          to: pf.docsLink,\n          variant: \"outlined\",\n          startIcon: /* @__PURE__ */ jsx(OpenInNewIcon, {}),\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: \"Open docs\"\n        }\n      ) })\n    ] })\n  ] });\n};\n\nexport { FixDialog };\n//# sourceMappingURL=FixDialog.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { FixDialog } from '../FixDialog/FixDialog.esm.js';\n\nconst useStyles = makeStyles(\n  (_theme) => createStyles({\n    root: {\n      overflow: \"auto\"\n    },\n    list: {\n      width: \"100%\"\n    }\n  })\n);\nconst ErrorList = ({ podAndErrors }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Paper, { className: classes.root, children: /* @__PURE__ */ jsx(List, { className: classes.list, children: podAndErrors.filter((pae) => pae.errors.length > 0).flatMap((onlyPodWithErrors) => {\n    return onlyPodWithErrors.errors.map((error, i) => {\n      return /* @__PURE__ */ jsxs(\n        Fragment,\n        {\n          children: [\n            i > 0 && /* @__PURE__ */ jsx(Divider, {}, `error-divider${i}`),\n            /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n                ListItemText,\n                {\n                  primary: error.message,\n                  secondary: onlyPodWithErrors.pod.metadata?.name\n                }\n              ) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(\n                FixDialog,\n                {\n                  pod: onlyPodWithErrors.pod,\n                  error,\n                  clusterName: onlyPodWithErrors.cluster.name\n                }\n              ) })\n            ] }) })\n          ]\n        },\n        `${onlyPodWithErrors.pod.metadata?.name ?? \"unknown\"}-eli-${i}`\n      );\n    });\n  }) }) });\n};\n\nexport { ErrorList };\n//# sourceMappingURL=ErrorList.esm.js.map\n","import { createContext, useContext } from 'react';\n\nconst PodMetricsContext = createContext(\n  /* @__PURE__ */ new Map()\n);\nconst usePodMetrics = (clusterName, matcher) => {\n  const targetRef = {\n    name: matcher.metadata?.name ?? \"\",\n    namespace: matcher.metadata?.namespace ?? \"\"\n  };\n  const metricsMap = useContext(PodMetricsContext);\n  const metrics = metricsMap.get(clusterName);\n  return metrics?.find((m) => {\n    const pod = m.pod;\n    return targetRef.name === (pod.metadata?.name ?? \"\") && targetRef.namespace === (pod.metadata?.namespace ?? \"\");\n  });\n};\n\nexport { PodMetricsContext, usePodMetrics };\n//# sourceMappingURL=usePodMetrics.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\n\nconst useIsPodDeleteEnabled = () => {\n  const configApi = useApi(configApiRef);\n  return configApi.getOptionalConfig(\"kubernetes.frontend\")?.getOptionalBoolean(\"podDelete.enabled\");\n};\n\nexport { useIsPodDeleteEnabled };\n//# sourceMappingURL=useIsPodDeleteEnabled.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { ItemCardGrid } from '@backstage/core-components';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { ContainerCard } from './ContainerCard.esm.js';\nimport '../../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport { KubernetesDrawer } from '../../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { PodDeleteButton } from '../PodDelete/PodDeleteButton.esm.js';\nimport { PendingPodContent } from './PendingPodContent.esm.js';\nimport { ErrorList } from '../ErrorList/ErrorList.esm.js';\nimport { usePodMetrics } from '../../../hooks/usePodMetrics.esm.js';\nimport { ResourceUtilization } from '../../ResourceUtilization/ResourceUtilization.esm.js';\nimport { formatMillicores, bytesToMiB } from '../../../utils/resources.esm.js';\nimport { useIsPodDeleteEnabled } from '../../../hooks/useIsPodDeleteEnabled.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\n\nconst useDrawerContentStyles = makeStyles(\n  (_theme) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    content: {\n      height: \"80%\"\n    },\n    icon: {\n      fontSize: 20\n    },\n    podoklist: {\n      width: \"100%\",\n      maxWidth: 360,\n      maxHeight: 360\n    }\n  })\n);\nfunction getContainerSpecByName(pod, containerName) {\n  return pod.spec?.containers.find((c) => c.name === containerName);\n}\nconst PodDrawer = ({ podAndErrors, open }) => {\n  const classes = useDrawerContentStyles();\n  const podMetrics = usePodMetrics(podAndErrors.cluster.name, podAndErrors.pod);\n  const isPodDeleteEnabled = useIsPodDeleteEnabled();\n  return /* @__PURE__ */ jsx(\n    KubernetesDrawer,\n    {\n      open,\n      drawerContentsHeader: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle1\", children: [\n        \"Pod\",\n        \" \",\n        podAndErrors.pod.status?.podIP && `(${podAndErrors.pod.status?.podIP})`\n      ] }),\n      kubernetesObject: podAndErrors.pod,\n      label: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: podAndErrors.pod.metadata?.name ?? \"unknown\" }),\n      children: /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n        isPodDeleteEnabled && /* @__PURE__ */ jsx(\n          PodDeleteButton,\n          {\n            podScope: {\n              podName: podAndErrors.pod.metadata?.name ?? \"unknown\",\n              podNamespace: podAndErrors.pod.metadata?.namespace ?? \"default\",\n              cluster: podAndErrors.cluster\n            }\n          }\n        ),\n        podMetrics && /* @__PURE__ */ jsxs(Grid, { container: true, item: true, xs: 12, children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Resource utilization\" }) }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, xs: 6, children: [\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"CPU requests\",\n                usage: podMetrics.cpu.currentUsage,\n                total: podMetrics.cpu.requestTotal,\n                totalFormatted: formatMillicores(podMetrics.cpu.requestTotal)\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"CPU limits\",\n                usage: podMetrics.cpu.currentUsage,\n                total: podMetrics.cpu.limitTotal,\n                totalFormatted: formatMillicores(podMetrics.cpu.limitTotal)\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, xs: 6, children: [\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"Memory requests\",\n                usage: podMetrics.memory.currentUsage,\n                total: podMetrics.memory.requestTotal,\n                totalFormatted: bytesToMiB(podMetrics.memory.requestTotal)\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"Memory limits\",\n                usage: podMetrics.memory.currentUsage,\n                total: podMetrics.memory.limitTotal,\n                totalFormatted: bytesToMiB(podMetrics.memory.limitTotal)\n              }\n            )\n          ] })\n        ] }),\n        podAndErrors.pod.status?.phase === \"Pending\" && /* @__PURE__ */ jsx(PendingPodContent, { pod: podAndErrors.pod }),\n        podAndErrors.pod.status?.containerStatuses?.length && /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 2, children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Containers\" }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(ItemCardGrid, { children: podAndErrors.pod.status?.containerStatuses?.map(\n            (containerStatus, i) => {\n              const containerSpec = getContainerSpecByName(\n                podAndErrors.pod,\n                containerStatus.name\n              );\n              const containerMetrics = (podMetrics?.containers ?? []).find((c) => c.container === containerStatus.name);\n              return /* @__PURE__ */ jsx(\n                ContainerCard,\n                {\n                  containerMetrics,\n                  podScope: {\n                    podName: podAndErrors.pod.metadata?.name ?? \"unknown\",\n                    podNamespace: podAndErrors.pod.metadata?.namespace ?? \"unknown\",\n                    cluster: podAndErrors.cluster\n                  },\n                  containerSpec,\n                  containerStatus\n                },\n                `container-card-${podAndErrors.pod.metadata?.name}-${i}`\n              );\n            }\n          ) }) }),\n          podAndErrors.errors.length > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Errors\" }) }),\n          podAndErrors.errors.length > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(ErrorList, { podAndErrors: [podAndErrors] }) })\n        ] })\n      ] })\n    }\n  );\n};\n\nexport { PodDrawer };\n//# sourceMappingURL=PodDrawer.esm.js.map\n","import { createContext } from 'react';\n\nconst ClusterContext = createContext({\n  name: \"\"\n});\n\nexport { ClusterContext };\n//# sourceMappingURL=Cluster.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment } from 'react';\nimport '@material-ui/core/Chip';\nimport { StatusOK, SubvalueCell, StatusError, StatusAborted } from '@backstage/core-components';\nimport { formatMillicores, bytesToMiB } from './resources.esm.js';\n\nconst containersReady = (pod) => {\n  const containerStatuses2 = pod.status?.containerStatuses ?? [];\n  const containersReadyItem = containerStatuses2.filter((cs) => cs.ready).length;\n  return `${containersReadyItem}/${containerStatuses2.length}`;\n};\nconst totalRestarts = (pod) => {\n  const containerStatuses2 = pod.status?.containerStatuses ?? [];\n  return containerStatuses2?.reduce((a, b) => a + b.restartCount, 0);\n};\nconst containerStatuses = (pod) => {\n  const containerStatusesItem = pod.status?.containerStatuses ?? [];\n  const errors = containerStatusesItem.reduce((accum, next) => {\n    if (next.state === void 0) {\n      return accum;\n    }\n    const waiting = next.state.waiting;\n    const terminated = next.state.terminated;\n    const renderCell = (reason) => /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        SubvalueCell,\n        {\n          value: reason === \"Completed\" ? /* @__PURE__ */ jsxs(StatusOK, { children: [\n            \"Container: \",\n            next.name\n          ] }) : /* @__PURE__ */ jsxs(StatusError, { children: [\n            \"Container: \",\n            next.name\n          ] }),\n          subvalue: reason\n        }\n      ),\n      /* @__PURE__ */ jsx(\"br\", {})\n    ] }, `${pod.metadata?.name}-${next.name}`);\n    if (waiting) {\n      accum.push(renderCell(waiting.reason));\n    }\n    if (terminated) {\n      accum.push(renderCell(terminated.reason));\n    }\n    return accum;\n  }, []);\n  if (errors.length === 0) {\n    return /* @__PURE__ */ jsx(StatusOK, { children: \"OK\" });\n  }\n  return errors;\n};\nconst renderCondition = (condition) => {\n  const status = condition.status;\n  if (status === \"True\") {\n    return [condition.type, /* @__PURE__ */ jsx(StatusOK, { children: \"True\" })];\n  } else if (status === \"False\") {\n    return [\n      condition.type,\n      /* @__PURE__ */ jsx(\n        SubvalueCell,\n        {\n          value: /* @__PURE__ */ jsx(StatusError, { children: \"False\" }),\n          subvalue: condition.message ?? \"\"\n        }\n      )\n    ];\n  }\n  return [condition.type, /* @__PURE__ */ jsx(StatusAborted, {})];\n};\nconst currentToDeclaredResourceToPerc = (current, resource) => {\n  if (Number(resource) === 0) return `0%`;\n  if (typeof current === \"number\" && typeof resource === \"number\") {\n    return `${Math.round(current / resource * 100)}%`;\n  }\n  const numerator = BigInt(\n    typeof current === \"number\" ? Math.round(current) : Number(current)\n  );\n  const denominator = BigInt(\n    typeof resource === \"number\" ? Math.round(resource) : Number(resource)\n  );\n  return `${numerator * BigInt(100) / denominator}%`;\n};\nconst podStatusToCpuUtil = (podStatus) => {\n  const cpuUtil = podStatus.cpu;\n  let currentUsage = cpuUtil.currentUsage;\n  if (typeof cpuUtil.currentUsage === \"number\") {\n    currentUsage = cpuUtil.currentUsage / 10;\n  }\n  return /* @__PURE__ */ jsx(\n    SubvalueCell,\n    {\n      value: `requests: ${currentToDeclaredResourceToPerc(\n        currentUsage,\n        cpuUtil.requestTotal\n      )} of ${formatMillicores(cpuUtil.requestTotal)}`,\n      subvalue: `limits: ${currentToDeclaredResourceToPerc(\n        currentUsage,\n        cpuUtil.limitTotal\n      )} of ${formatMillicores(cpuUtil.limitTotal)}`\n    }\n  );\n};\nconst podStatusToMemoryUtil = (podStatus) => {\n  const memUtil = podStatus.memory;\n  return /* @__PURE__ */ jsx(\n    SubvalueCell,\n    {\n      value: `requests: ${currentToDeclaredResourceToPerc(\n        memUtil.currentUsage,\n        memUtil.requestTotal\n      )} of ${bytesToMiB(memUtil.requestTotal)}`,\n      subvalue: `limits: ${currentToDeclaredResourceToPerc(\n        memUtil.currentUsage,\n        memUtil.limitTotal\n      )} of ${bytesToMiB(memUtil.limitTotal)}`\n    }\n  );\n};\n\nexport { containerStatuses, containersReady, currentToDeclaredResourceToPerc, podStatusToCpuUtil, podStatusToMemoryUtil, renderCondition, totalRestarts };\n//# sourceMappingURL=pod.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport { PodDrawer } from './PodDrawer/PodDrawer.esm.js';\nimport { Table } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport { usePodMetrics } from '../../hooks/usePodMetrics.esm.js';\nimport { useMatchingErrors } from '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport { containersReady, totalRestarts, containerStatuses, podStatusToCpuUtil, podStatusToMemoryUtil } from '../../utils/pod.esm.js';\n\nconst READY_COLUMNS = \"READY\";\nconst RESOURCE_COLUMNS = \"RESOURCE\";\nconst READY = [\n  {\n    title: \"containers ready\",\n    align: \"center\",\n    render: containersReady,\n    width: \"auto\"\n  },\n  {\n    title: \"total restarts\",\n    align: \"center\",\n    render: totalRestarts,\n    type: \"numeric\",\n    width: \"auto\"\n  }\n];\nconst PodDrawerTrigger = ({ pod }) => {\n  const errors = useMatchingErrors({\n    kind: \"Pod\",\n    apiVersion: \"v1\",\n    metadata: pod.metadata\n  });\n  return /* @__PURE__ */ jsx(\n    PodDrawer,\n    {\n      podAndErrors: {\n        pod,\n        cluster: useContext(ClusterContext),\n        errors\n      }\n    }\n  );\n};\nconst Cpu = ({ clusterName, pod }) => {\n  const metrics = usePodMetrics(clusterName, pod);\n  if (!metrics) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"unknown\" });\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: podStatusToCpuUtil(metrics) });\n};\nconst Memory = ({ clusterName, pod }) => {\n  const metrics = usePodMetrics(clusterName, pod);\n  if (!metrics) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"unknown\" });\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: podStatusToMemoryUtil(metrics) });\n};\nconst PodsTable = ({ pods, extraColumns = [] }) => {\n  const cluster = useContext(ClusterContext);\n  const defaultColumns = [\n    {\n      title: \"ID\",\n      field: \"metadata.uid\",\n      hidden: true\n    },\n    {\n      title: \"name\",\n      highlight: true,\n      render: (pod) => {\n        return /* @__PURE__ */ jsx(PodDrawerTrigger, { pod });\n      }\n    },\n    {\n      title: \"phase\",\n      render: (pod) => pod.status?.phase ?? \"unknown\",\n      width: \"auto\"\n    },\n    {\n      title: \"status\",\n      render: containerStatuses\n    }\n  ];\n  const columns = [...defaultColumns];\n  if (extraColumns.includes(READY_COLUMNS)) {\n    columns.push(...READY);\n  }\n  if (extraColumns.includes(RESOURCE_COLUMNS)) {\n    const resourceColumns = [\n      {\n        title: \"CPU usage %\",\n        render: (pod) => {\n          return /* @__PURE__ */ jsx(Cpu, { clusterName: cluster.name, pod });\n        },\n        width: \"auto\"\n      },\n      {\n        title: \"Memory usage %\",\n        render: (pod) => {\n          return /* @__PURE__ */ jsx(Memory, { clusterName: cluster.name, pod });\n        },\n        width: \"auto\"\n      }\n    ];\n    columns.push(...resourceColumns);\n  }\n  const tableStyle = {\n    minWidth: \"0\",\n    width: \"100%\"\n  };\n  return /* @__PURE__ */ jsx(\"div\", { style: tableStyle, children: /* @__PURE__ */ jsx(\n    Table,\n    {\n      options: { paging: true, search: false, emptyRowsWhenPaging: false },\n      data: pods.map((pod) => ({\n        ...pod,\n        id: pod?.metadata?.uid\n      })),\n      columns\n    }\n  ) });\n};\n\nexport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS };\n//# sourceMappingURL=PodsTable.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useState, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, createStyles, withStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\nimport { WarningPanel, LinkButton, StructuredMetadataTable } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesClusterLinkFormatterApiRef } from '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { ManifestYaml } from './ManifestYaml.esm.js';\nimport '@backstage/catalog-model';\nimport '@backstage/errors';\n\nconst useDrawerStyles = makeStyles(\n  (theme) => createStyles({\n    paper: {\n      width: \"50%\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2.5)\n    }\n  })\n);\nconst useDrawerContentStyles = makeStyles(\n  (_) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    errorMessage: {\n      marginTop: \"1em\",\n      marginBottom: \"1em\"\n    },\n    options: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    icon: {\n      fontSize: 20\n    },\n    content: {\n      height: \"80%\"\n    }\n  })\n);\nconst PodDrawerButton = withStyles({\n  root: {\n    padding: \"6px 5px\"\n  },\n  label: {\n    textTransform: \"none\"\n  }\n})(Button);\nconst LinkErrorPanel = ({\n  cluster,\n  errorMessage\n}) => /* @__PURE__ */ jsx(\n  WarningPanel,\n  {\n    title: \"There was a problem formatting the link to the Kubernetes dashboard\",\n    message: `Could not format the link to the dashboard of your cluster named '${cluster.name}'. Its dashboardApp property has been set to '${cluster.dashboardApp || \"standard\"}.'`,\n    children: errorMessage && /* @__PURE__ */ jsxs(Typography, { variant: \"body2\", children: [\n      \"Errors: \",\n      errorMessage\n    ] })\n  }\n);\nfunction replaceNullsWithUndefined(someObj) {\n  const replacer = (_, value) => String(value) === \"null\" || String(value) === \"undefined\" ? void 0 : value;\n  return JSON.parse(JSON.stringify(someObj, replacer));\n}\nconst KubernetesStructuredMetadataTableDrawerContent = ({\n  toggleDrawer,\n  object,\n  renderObject,\n  kind\n}) => {\n  const [isYaml, setIsYaml] = useState(false);\n  const formatter = useApi(kubernetesClusterLinkFormatterApiRef);\n  const classes = useDrawerContentStyles();\n  const cluster = useContext(ClusterContext);\n  const { value: clusterLink, error } = useAsync(\n    async () => formatter.formatClusterLink({\n      dashboardUrl: cluster.dashboardUrl,\n      dashboardApp: cluster.dashboardApp,\n      dashboardParameters: cluster.dashboardParameters,\n      object,\n      kind\n    }),\n    [cluster, object, kind, formatter]\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\"div\", { className: classes.header, children: /* @__PURE__ */ jsxs(Grid, { container: true, justifyContent: \"flex-start\", alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: object.metadata?.name ?? \"unknown name\" }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 1, children: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          title: \"Close the drawer\",\n          onClick: (e) => toggleDrawer(e, false),\n          color: \"inherit\",\n          children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n        },\n        \"dismiss\"\n      ) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"body1\", children: kind }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ jsx(\n            Switch,\n            {\n              checked: isYaml,\n              onChange: (event) => {\n                setIsYaml(event.target.checked);\n              },\n              name: \"YAML\"\n            }\n          ),\n          label: \"YAML\"\n        }\n      ) })\n    ] }) }),\n    error && /* @__PURE__ */ jsx(\"div\", { className: classes.errorMessage, children: /* @__PURE__ */ jsx(\n      LinkErrorPanel,\n      {\n        cluster,\n        errorMessage: error.message || error.toString()\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.options, children: /* @__PURE__ */ jsx(\"div\", { children: clusterLink && /* @__PURE__ */ jsx(\n      LinkButton,\n      {\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        to: clusterLink,\n        endIcon: /* @__PURE__ */ jsx(OpenInNewIcon, {}),\n        children: \"Open Kubernetes Dashboard\"\n      }\n    ) }) }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n      isYaml && /* @__PURE__ */ jsx(ManifestYaml, { object }),\n      !isYaml && /* @__PURE__ */ jsx(\n        StructuredMetadataTable,\n        {\n          metadata: renderObject(replaceNullsWithUndefined(object)),\n          options: { nestedValuesAsYaml: true }\n        }\n      )\n    ] })\n  ] });\n};\nconst KubernetesStructuredMetadataTableDrawer = ({\n  object,\n  renderObject,\n  kind,\n  buttonVariant = \"subtitle2\",\n  expanded = false,\n  children\n}) => {\n  const [isOpen, setIsOpen] = useState(expanded);\n  const classes = useDrawerStyles();\n  const toggleDrawer = (e, newValue) => {\n    e.stopPropagation();\n    setIsOpen(newValue);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      PodDrawerButton,\n      {\n        onClick: (e) => toggleDrawer(e, true),\n        onFocus: (event) => event.stopPropagation(),\n        children: children === void 0 ? /* @__PURE__ */ jsx(Typography, { variant: buttonVariant, children: object.metadata?.name ?? \"unknown object\" }) : children\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      Drawer,\n      {\n        classes: {\n          paper: classes.paper\n        },\n        anchor: \"right\",\n        open: isOpen,\n        onClose: (e) => toggleDrawer(e, false),\n        onClick: (event) => event.stopPropagation(),\n        children: /* @__PURE__ */ jsx(\n          KubernetesStructuredMetadataTableDrawerContent,\n          {\n            kind,\n            toggleDrawer,\n            object,\n            renderObject\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { KubernetesStructuredMetadataTableDrawer, LinkErrorPanel };\n//# sourceMappingURL=KubernetesStructuredMetadataTableDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { renderCondition } from '../../utils/pod.esm.js';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst DeploymentDrawer = ({\n  deployment,\n  expanded\n}) => {\n  const namespace = deployment.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: deployment,\n      expanded,\n      kind: \"Deployment\",\n      renderObject: (deploymentObj) => {\n        const conditions = (deploymentObj.status?.conditions ?? []).map(renderCondition).reduce((accum, next) => {\n          accum[next[0]] = next[1];\n          return accum;\n        }, {});\n        return {\n          strategy: deploymentObj.spec?.strategy ?? \"???\",\n          minReadySeconds: deploymentObj.spec?.minReadySeconds ?? \"???\",\n          progressDeadlineSeconds: deploymentObj.spec?.progressDeadlineSeconds ?? \"???\",\n          ...conditions\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: deployment.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Deployment\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DeploymentDrawer };\n//# sourceMappingURL=DeploymentDrawer.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\n\nconst HorizontalPodAutoscalerDrawer = (props) => {\n  const { hpa, expanded, children } = props;\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      kind: \"HorizontalPodAutoscaler\",\n      object: hpa,\n      expanded,\n      renderObject: (hpaObject) => {\n        return {\n          targetCPUUtilizationPercentage: specCpuUtil,\n          currentCPUUtilizationPercentage: cpuUtil,\n          minReplicas: hpaObject.spec?.minReplicas,\n          maxReplicas: hpaObject.spec?.maxReplicas,\n          currentReplicas: hpaObject.status?.currentReplicas,\n          desiredReplicas: hpaObject.status?.desiredReplicas,\n          lastScaleTime: hpa?.status?.lastScaleTime\n        };\n      },\n      children\n    }\n  );\n};\n\nexport { HorizontalPodAutoscalerDrawer };\n//# sourceMappingURL=HorizontalPodAutoscalerDrawer.esm.js.map\n","function getOwnedResources(potentialOwner, possiblyOwned) {\n  return possiblyOwned.filter(\n    (p) => p.metadata?.ownerReferences?.some(\n      (o) => o.uid === potentialOwner.metadata?.uid\n    ) ?? false\n  );\n}\nconst getOwnedPodsThroughReplicaSets = (potentialOwner, replicaSets, pods) => {\n  return getOwnedResources(\n    potentialOwner,\n    replicaSets.filter((rs) => rs.status && rs.status.replicas > 0)\n  ).reduce((accum, rs) => {\n    return accum.concat(getOwnedResources(rs, pods));\n  }, []);\n};\nconst getMatchingHpa = (owner, hpas) => {\n  return hpas.find((hpa) => {\n    return (hpa.spec?.scaleTargetRef?.kind ?? \"\").toLocaleLowerCase(\"en-US\") === owner.kind.toLocaleLowerCase(\"en-US\") && (hpa.metadata?.namespace ?? \"\") === (owner.namespace ?? \"unknown-namespace\") && (hpa.spec?.scaleTargetRef?.name ?? \"\") === (owner.name ?? \"unknown-deployment\");\n  });\n};\n\nexport { getMatchingHpa, getOwnedPodsThroughReplicaSets, getOwnedResources };\n//# sourceMappingURL=owner.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { DeploymentDrawer } from './DeploymentDrawer.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { getMatchingHpa, getOwnedPodsThroughReplicaSets } from '../../utils/owner.esm.js';\n\nconst DeploymentSummary = ({\n  deployment,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 4, item: true, children: /* @__PURE__ */ jsx(DeploymentDrawer, { deployment }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 4, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 4,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst DeploymentAccordion = ({\n  deployment,\n  ownedPods,\n  matchingHpa\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      DeploymentSummary,\n      {\n        deployment,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length,\n        hpa: matchingHpa\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst DeploymentsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.deployments.map((deployment, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DeploymentAccordion,\n        {\n          matchingHpa: getMatchingHpa(\n            {\n              name: deployment.metadata?.name,\n              namespace: deployment.metadata?.namespace,\n              kind: \"deployment\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedPodsThroughReplicaSets(\n            deployment,\n            groupedResponses.replicaSets,\n            groupedResponses.pods\n          ),\n          deployment\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DeploymentsAccordions };\n//# sourceMappingURL=DeploymentsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { renderCondition } from '../../utils/pod.esm.js';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst StatefulSetDrawer = ({\n  statefulset,\n  expanded\n}) => {\n  const namespace = statefulset.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: statefulset,\n      expanded,\n      kind: \"StatefulSet\",\n      renderObject: (statefulsetObj) => {\n        const conditions = (statefulsetObj.status?.conditions ?? []).map(renderCondition).reduce((accum, next) => {\n          accum[next[0]] = next[1];\n          return accum;\n        }, {});\n        return {\n          updateStrategy: statefulset.spec?.updateStrategy ?? \"???\",\n          podManagementPolicy: statefulset.spec?.podManagementPolicy ?? \"???\",\n          serviceName: statefulset.spec?.serviceName ?? \"???\",\n          selector: statefulset.spec?.selector ?? \"???\",\n          revisionHistoryLimit: statefulset.spec?.revisionHistoryLimit ?? \"???\",\n          ...conditions\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: statefulset.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Stateful Set\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { StatefulSetDrawer };\n//# sourceMappingURL=StatefulSetDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { StatefulSetDrawer } from './StatefulSetDrawer.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { getMatchingHpa, getOwnedResources } from '../../utils/owner.esm.js';\n\nconst StatefulSetSummary = ({\n  statefulset,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(StatefulSetDrawer, { statefulset }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst StatefulSetAccordion = ({\n  statefulset,\n  ownedPods,\n  matchingHpa\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      StatefulSetSummary,\n      {\n        statefulset,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length,\n        hpa: matchingHpa\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst StatefulSetsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.statefulsets.map((statefulset, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        StatefulSetAccordion,\n        {\n          matchingHpa: getMatchingHpa(\n            {\n              name: statefulset.metadata?.name,\n              namespace: statefulset.metadata?.namespace,\n              kind: \"statefulset\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedResources(statefulset, groupedResponses.pods),\n          statefulset\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { StatefulSetsAccordions };\n//# sourceMappingURL=StatefulSetsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst IngressDrawer = ({\n  ingress,\n  expanded\n}) => {\n  const namespace = ingress.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: ingress,\n      expanded,\n      kind: \"Ingress\",\n      renderObject: (ingressObject) => {\n        return ingressObject.spec || {};\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: ingress.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Ingress\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { IngressDrawer };\n//# sourceMappingURL=IngressDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { IngressDrawer } from './IngressDrawer.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst IngressSummary = ({ ingress }) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      children: /* @__PURE__ */ jsx(Grid, { xs: 12, item: true, children: /* @__PURE__ */ jsx(IngressDrawer, { ingress }) })\n    }\n  );\n};\nconst IngressCard = ({ ingress }) => {\n  return /* @__PURE__ */ jsx(\n    StructuredMetadataTable,\n    {\n      metadata: {\n        ...ingress.spec\n      },\n      options: {\n        nestedValuesAsYaml: true\n      }\n    }\n  );\n};\nconst IngressAccordion = ({ ingress }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(IngressSummary, { ingress }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(IngressCard, { ingress }) })\n  ] });\n};\nconst IngressesAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.ingresses.map((ingress, i) => /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(IngressAccordion, { ingress }) }, i))\n    }\n  );\n};\n\nexport { IngressesAccordions };\n//# sourceMappingURL=IngressesAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst ServiceDrawer = ({\n  service,\n  expanded\n}) => {\n  const namespace = service.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: service,\n      expanded,\n      kind: \"Service\",\n      renderObject: (serviceObject) => {\n        return serviceObject.spec || {};\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: service.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Service\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { ServiceDrawer };\n//# sourceMappingURL=ServiceDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { ServiceDrawer } from './ServiceDrawer.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst ServiceSummary = ({ service }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 8, item: true, children: /* @__PURE__ */ jsx(ServiceDrawer, { service }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n          \"Type: \",\n          service.spec?.type ?? \"?\"\n        ] }) })\n      ]\n    }\n  );\n};\nconst ServiceCard = ({ service }) => {\n  const metadata = {};\n  if (service.status?.loadBalancer?.ingress?.length ?? -1 > 0) {\n    metadata.loadbalancer = service.status?.loadBalancer;\n  }\n  if (service.spec?.type === \"ClusterIP\") {\n    metadata.clusterIP = service.spec.clusterIP;\n  }\n  if (service.spec?.type === \"ExternalName\") {\n    metadata.externalName = service.spec.externalName;\n  }\n  return /* @__PURE__ */ jsx(\n    StructuredMetadataTable,\n    {\n      metadata: {\n        type: service.spec?.type,\n        ports: service.spec?.ports,\n        ...metadata\n      },\n      options: { nestedValuesAsYaml: true }\n    }\n  );\n};\nconst ServiceAccordion = ({ service }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(ServiceSummary, { service }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(ServiceCard, { service }) })\n  ] });\n};\nconst ServicesAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.services.map((service, i) => /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(ServiceAccordion, { service }) }, i))\n    }\n  );\n};\n\nexport { ServicesAccordions };\n//# sourceMappingURL=ServicesAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n\nconst JobDrawer = ({\n  job,\n  expanded\n}) => {\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: job,\n      expanded,\n      kind: \"Job\",\n      renderObject: (jobObj) => {\n        return {\n          parallelism: jobObj.spec?.parallelism ?? \"???\",\n          completions: jobObj.spec?.completions ?? \"???\",\n          backoffLimit: jobObj.spec?.backoffLimit ?? \"???\",\n          startTime: jobObj.status?.startTime ?? \"???\"\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: job.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Job\" }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { JobDrawer };\n//# sourceMappingURL=JobsDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusPending, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable } from '../Pods/PodsTable.esm.js';\nimport { JobDrawer } from './JobsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\n\nconst JobSummary = ({ job }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(JobDrawer, { job }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 6,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                job.status?.succeeded && /* @__PURE__ */ jsx(StatusOK, { children: \"Succeeded\" }),\n                job.status?.active && /* @__PURE__ */ jsx(StatusPending, { children: \"Running\" }),\n                job.status?.failed && /* @__PURE__ */ jsx(StatusError, { children: \"Failed\" })\n              ] }),\n              /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                \"Start time: \",\n                job.status?.startTime?.toString()\n              ] }),\n              job.status?.completionTime && /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                \"Completion time: \",\n                job.status.completionTime.toString()\n              ] })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst JobAccordion = ({ job, ownedPods }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(JobSummary, { job }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(PodsTable, { pods: ownedPods }) })\n  ] });\n};\nconst JobsAccordions = ({ jobs }) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: jobs.map((job, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        JobAccordion,\n        {\n          ownedPods: getOwnedResources(job, groupedResponses.pods),\n          job\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { JobsAccordions };\n//# sourceMappingURL=JobsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst CronJobDrawer = ({\n  cronJob,\n  expanded\n}) => {\n  const namespace = cronJob.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: cronJob,\n      expanded,\n      kind: \"CronJob\",\n      renderObject: (cronJobObj) => ({\n        schedule: cronJobObj.spec?.schedule ?? \"???\",\n        startingDeadlineSeconds: cronJobObj.spec?.startingDeadlineSeconds ?? \"???\",\n        concurrencyPolicy: cronJobObj.spec?.concurrencyPolicy ?? \"???\",\n        lastScheduleTime: cronJobObj.status?.lastScheduleTime ?? \"???\"\n      }),\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: cronJob.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"CronJob\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { CronJobDrawer };\n//# sourceMappingURL=CronJobsDrawer.esm.js.map\n","import cronstrue from 'cronstrue';\n\nconst k8sCronAliases = /* @__PURE__ */ new Map([\n  [\"@yearly\", \"0 0 1 1 *\"],\n  [\"@annually\", \"0 0 1 1 *\"],\n  [\"@monthly\", \"0 0 1 * *\"],\n  [\"@weekly\", \"0 0 * * 0\"],\n  [\"@daily\", \"0 0 * * *\"],\n  [\"@midnight\", \"0 0 * * *\"],\n  [\"@hourly\", \"0 * * * *\"]\n]);\nconst humanizeCron = (schedule) => {\n  const deAliasedSchedule = k8sCronAliases.get(schedule) || schedule;\n  try {\n    return cronstrue.toString(deAliasedSchedule);\n  } catch (e) {\n    return deAliasedSchedule;\n  }\n};\n\nexport { humanizeCron };\n//# sourceMappingURL=crons.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { JobsAccordions } from '../JobsAccordions/JobsAccordions.esm.js';\nimport { CronJobDrawer } from './CronJobsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StatusError, StatusOK } from '@backstage/core-components';\nimport { humanizeCron } from '../../utils/crons.esm.js';\n\nconst CronJobSummary = ({ cronJob }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(CronJobDrawer, { cronJob }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 6,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: cronJob.spec?.suspend ? /* @__PURE__ */ jsx(StatusError, { children: \"Suspended\" }) : /* @__PURE__ */ jsx(StatusOK, { children: \"Active\" }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"body1\", children: [\n                \"Schedule:\",\n                \" \",\n                cronJob.spec?.schedule ? `${cronJob.spec.schedule} (${humanizeCron(\n                  cronJob.spec.schedule\n                )})` : \"N/A\"\n              ] }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst CronJobAccordion = ({ cronJob, ownedJobs }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(CronJobSummary, { cronJob }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(JobsAccordions, { jobs: ownedJobs.reverse() }) })\n  ] });\n};\nconst CronJobsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.cronJobs.map((cronJob, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        CronJobAccordion,\n        {\n          ownedJobs: getOwnedResources(cronJob, groupedResponses.jobs),\n          cronJob\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { CronJobsAccordions };\n//# sourceMappingURL=CronJobsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst RolloutDrawer = ({\n  rollout,\n  expanded\n}) => {\n  const namespace = rollout.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: rollout,\n      expanded,\n      kind: \"Rollout\",\n      renderObject: () => ({}),\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: rollout.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Rollout\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { RolloutDrawer };\n//# sourceMappingURL=RolloutDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport Typography from '@material-ui/core/Typography';\n\nconst isSetWeightStep = (step) => step.hasOwnProperty(\"setWeight\");\nconst isPauseStep = (step) => step.hasOwnProperty(\"pause\");\nconst isAnalysisStep = (step) => step.hasOwnProperty(\"analysis\");\nconst createLabelForStep = (step) => {\n  if (isSetWeightStep(step)) {\n    return `setWeight ${step.setWeight}%`;\n  } else if (isPauseStep(step)) {\n    return step.pause.duration === void 0 ? \"infinite pause\" : `pause for ${step.pause.duration}`;\n  } else if (isAnalysisStep(step)) {\n    return /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(Typography, { paragraph: true, children: \"analysis templates:\" }),\n      step.analysis.templates.map((t, i) => /* @__PURE__ */ jsx(Typography, { paragraph: true, children: `${t.templateName}${t.clusterScope ? \" (cluster scoped)\" : \"\"}` }, i))\n    ] });\n  }\n  return \"unknown step\";\n};\nconst StepsProgress = ({\n  currentStepIndex,\n  aborted,\n  steps\n}) => {\n  const activeStepIndex = currentStepIndex >= steps.length ? currentStepIndex + 1 : currentStepIndex;\n  return /* @__PURE__ */ jsx(Stepper, { activeStep: aborted ? -1 : activeStepIndex, alternativeLabel: true, children: steps.map((step, i) => /* @__PURE__ */ jsx(Step, { children: /* @__PURE__ */ jsx(StepLabel, { \"data-testid\": `step-${i}`, children: createLabelForStep(step) }) }, i)).concat(\n    /* @__PURE__ */ jsx(Step, { children: /* @__PURE__ */ jsx(StepLabel, { \"data-testid\": \"step--1\", children: \"Canary promoted\" }) }, \"-1\")\n  ) });\n};\n\nexport { StepsProgress };\n//# sourceMappingURL=StepsProgress.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport { DateTime } from 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/usePodMetrics.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../../Pods/PodsTable.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { RolloutDrawer } from './RolloutDrawer.esm.js';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { StepsProgress } from './StepsProgress.esm.js';\nimport { getMatchingHpa, getOwnedPodsThroughReplicaSets } from '../../../utils/owner.esm.js';\n\nconst AbortedTitle = /* @__PURE__ */ jsxs(\n  \"div\",\n  {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexWrap: \"wrap\"\n    },\n    children: [\n      /* @__PURE__ */ jsx(ErrorOutlineIcon, {}),\n      /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: \"Aborted\" })\n    ]\n  }\n);\nconst findAbortedMessage = (rollout) => rollout.status?.conditions?.find(\n  (c) => c.type === \"Progressing\" && c.status === \"False\" && c.reason === \"RolloutAborted\"\n)?.message;\nconst RolloutSummary = ({\n  rollout,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const pauseTime = rollout.status?.pauseConditions?.find(\n    (p) => p.reason === \"CanaryPauseStep\"\n  )?.startTime;\n  const abortedMessage = findAbortedMessage(rollout);\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(RolloutDrawer, { rollout }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        ),\n        pauseTime && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\"\n            },\n            children: [\n              /* @__PURE__ */ jsx(PauseIcon, {}),\n              /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle1\", children: [\n                \"Paused (\",\n                DateTime.fromISO(pauseTime).toRelative({ locale: \"en\" }),\n                \")\"\n              ] })\n            ]\n          }\n        ) }),\n        abortedMessage && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: AbortedTitle })\n      ]\n    }\n  );\n};\nconst RolloutAccordion = ({\n  rollout,\n  ownedPods,\n  matchingHpa,\n  defaultExpanded\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  const currentStepIndex = rollout.status?.currentStepIndex ?? 0;\n  const abortedMessage = findAbortedMessage(rollout);\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded,\n      TransitionProps: { unmountOnExit: true },\n      variant: \"outlined\",\n      children: [\n        /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n          RolloutSummary,\n          {\n            rollout,\n            numberOfCurrentPods: ownedPods.length,\n            numberOfPodsWithErrors: podsWithErrors.length,\n            hpa: matchingHpa\n          }\n        ) }),\n        /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(\"div\", { style: { width: \"100%\" }, children: [\n          /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Rollout status\" }) }),\n          /* @__PURE__ */ jsxs(\"div\", { style: { margin: \"1rem\" }, children: [\n            abortedMessage && /* @__PURE__ */ jsxs(Fragment, { children: [\n              AbortedTitle,\n              /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", children: abortedMessage })\n            ] }),\n            /* @__PURE__ */ jsx(\n              StepsProgress,\n              {\n                aborted: abortedMessage !== void 0,\n                steps: rollout.spec?.strategy?.canary?.steps ?? [],\n                currentStepIndex\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(\n            PodsTable,\n            {\n              pods: ownedPods,\n              extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n            }\n          ) })\n        ] }) })\n      ]\n    }\n  );\n};\nconst RolloutAccordions = ({\n  rollouts,\n  defaultExpanded = false\n}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: rollouts.map((rollout, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        RolloutAccordion,\n        {\n          defaultExpanded,\n          matchingHpa: getMatchingHpa(\n            {\n              name: rollout.metadata?.name,\n              namespace: rollout.metadata?.namespace,\n              kind: \"rollout\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedPodsThroughReplicaSets(\n            rollout,\n            groupedResponses.replicaSets,\n            groupedResponses.pods\n          ),\n          rollout\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { RolloutAccordions };\n//# sourceMappingURL=Rollout.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n\nconst capitalize = (str) => str.charAt(0).toLocaleUpperCase(\"en-US\") + str.slice(1);\nconst DefaultCustomResourceDrawer = ({\n  customResource,\n  customResourceName,\n  expanded\n}) => {\n  const capitalizedName = capitalize(customResourceName);\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: customResource,\n      expanded,\n      kind: capitalizedName,\n      renderObject: (cr) => cr,\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: customResource.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: capitalizedName }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DefaultCustomResourceDrawer };\n//# sourceMappingURL=DefaultCustomResourceDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { DefaultCustomResourceDrawer } from './DefaultCustomResourceDrawer.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst DefaultCustomResourceSummary = ({\n  customResource,\n  customResourceName\n}) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: /* @__PURE__ */ jsx(Grid, { xs: 12, item: true, children: /* @__PURE__ */ jsx(\n        DefaultCustomResourceDrawer,\n        {\n          customResource,\n          customResourceName\n        }\n      ) })\n    }\n  );\n};\nconst DefaultCustomResourceAccordion = ({\n  customResource,\n  customResourceName,\n  defaultExpanded\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded,\n      TransitionProps: { unmountOnExit: true },\n      variant: \"outlined\",\n      children: [\n        /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n          DefaultCustomResourceSummary,\n          {\n            customResource,\n            customResourceName\n          }\n        ) }),\n        /* @__PURE__ */ jsx(AccordionDetails, { children: Object.prototype.hasOwnProperty.call(customResource, \"status\") && /* @__PURE__ */ jsx(\n          StructuredMetadataTable,\n          {\n            metadata: customResource.status,\n            options: { nestedValuesAsYaml: true }\n          }\n        ) })\n      ]\n    }\n  );\n};\nconst DefaultCustomResourceAccordions = ({\n  customResources,\n  customResourceName,\n  defaultExpanded = false\n}) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: customResources.map((cr, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DefaultCustomResourceAccordion,\n        {\n          defaultExpanded,\n          customResource: cr,\n          customResourceName\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DefaultCustomResourceAccordions };\n//# sourceMappingURL=DefaultCustomResource.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport lodash from 'lodash';\nimport { RolloutAccordions } from './ArgoRollouts/Rollout.esm.js';\nimport { DefaultCustomResourceAccordions } from './DefaultCustomResource.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\n\nconst kindToResource = (customResources) => {\n  return lodash.groupBy(customResources, (value) => {\n    return value.kind;\n  });\n};\nconst CustomResources = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  const kindToResourceMap = kindToResource(groupedResponses.customResources);\n  return /* @__PURE__ */ jsx(Fragment, { children: Object.entries(kindToResourceMap).map(([kind, resources], i) => {\n    switch (kind) {\n      case \"Rollout\":\n        return /* @__PURE__ */ jsx(RolloutAccordions, { rollouts: resources }, i);\n      default:\n        return /* @__PURE__ */ jsx(\n          DefaultCustomResourceAccordions,\n          {\n            customResources: resources,\n            customResourceName: kind\n          },\n          i\n        );\n    }\n  }) });\n};\n\nexport { CustomResources };\n//# sourceMappingURL=CustomResources.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst DaemonSetDrawer = ({\n  daemonset,\n  expanded\n}) => {\n  const namespace = daemonset.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: daemonset,\n      expanded,\n      kind: \"DaemonSet\",\n      renderObject: (daemonsetObj) => {\n        return {\n          updateStrategyType: daemonsetObj.spec?.updateStrategy?.type ?? \"???\",\n          minReadySeconds: daemonsetObj.spec?.minReadySeconds ?? \"???\",\n          revisionHistoryLimit: daemonsetObj.spec?.revisionHistoryLimit ?? \"???\",\n          currentNumberScheduled: daemonsetObj.status?.currentNumberScheduled ?? \"???\",\n          desiredNumberScheduled: daemonsetObj.status?.desiredNumberScheduled ?? \"???\",\n          numberAvailable: daemonsetObj.status?.numberAvailable ?? \"???\",\n          numberMisscheduled: daemonsetObj.status?.numberMisscheduled ?? \"???\",\n          numberReady: daemonsetObj.status?.numberReady ?? \"???\"\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: daemonset.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"DaemonSet\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DaemonSetDrawer };\n//# sourceMappingURL=DaemonSetsDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { DaemonSetDrawer } from './DaemonSetsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\n\nconst DaemonSetSummary = ({\n  daemonset,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 4, item: true, children: /* @__PURE__ */ jsx(DaemonSetDrawer, { daemonset }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 4,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst DaemonSetAccordion = ({\n  daemonset,\n  ownedPods\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      DaemonSetSummary,\n      {\n        daemonset,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst DaemonSetsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.daemonSets.map((daemonset, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DaemonSetAccordion,\n        {\n          ownedPods: getOwnedResources(daemonset, groupedResponses.pods),\n          daemonset\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DaemonSetsAccordions };\n//# sourceMappingURL=DaemonSetsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { groupResponses } from '@backstage/plugin-kubernetes-common';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { DeploymentsAccordions } from '../DeploymentsAccordions/DeploymentsAccordions.esm.js';\nimport { StatefulSetsAccordions } from '../StatefulSetsAccordions/StatefulSetsAccordions.esm.js';\nimport { IngressesAccordions } from '../IngressesAccordions/IngressesAccordions.esm.js';\nimport { ServicesAccordions } from '../ServicesAccordions/ServicesAccordions.esm.js';\nimport { CronJobsAccordions } from '../CronJobsAccordions/CronJobsAccordions.esm.js';\nimport { CustomResources } from '../CustomResources/CustomResources.esm.js';\nimport { DaemonSetsAccordions } from '../DaemonSetsAccordions/DaemonSetsAccordions.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport { PodMetricsContext } from '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\n\nconst ClusterSummary = ({\n  clusterName,\n  totalNumberOfPods,\n  numberOfPodsWithErrors\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-start\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(\n          Grid,\n          {\n            xs: 6,\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: true, children: [\n              /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: clusterName }),\n              /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Cluster\" })\n            ] })\n          }\n        ),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                totalNumberOfPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pods with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst Cluster = ({ clusterObjects, podsWithErrors }) => {\n  const groupedResponses = groupResponses(clusterObjects.resources);\n  const podMetricsMap = /* @__PURE__ */ new Map();\n  podMetricsMap.set(clusterObjects.cluster.name, clusterObjects.podMetrics);\n  return /* @__PURE__ */ jsx(ClusterContext.Provider, { value: clusterObjects.cluster, children: /* @__PURE__ */ jsx(GroupedResponsesContext.Provider, { value: groupedResponses, children: /* @__PURE__ */ jsx(PodMetricsContext.Provider, { value: podMetricsMap, children: /* @__PURE__ */ jsx(PodNamesWithErrorsContext.Provider, { value: podsWithErrors, children: /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      ClusterSummary,\n      {\n        clusterName: clusterObjects.cluster.title || clusterObjects.cluster.name,\n        totalNumberOfPods: groupedResponses.pods.length,\n        numberOfPodsWithErrors: podsWithErrors.size\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(Grid, { container: true, direction: \"column\", children: [\n      groupedResponses.customResources.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(CustomResources, {}) }) : void 0,\n      groupedResponses.deployments.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(DeploymentsAccordions, {}) }) : void 0,\n      groupedResponses.daemonSets.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(DaemonSetsAccordions, {}) }) : void 0,\n      groupedResponses.statefulsets.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(StatefulSetsAccordions, {}) }) : void 0,\n      groupedResponses.ingresses.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(IngressesAccordions, {}) }) : void 0,\n      groupedResponses.services.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(ServicesAccordions, {}) }) : void 0,\n      groupedResponses.cronJobs.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(CronJobsAccordions, {}) }) : void 0\n    ] }) })\n  ] }) }) }) }) });\n};\n\nexport { Cluster };\n//# sourceMappingURL=Cluster.esm.js.map\n","const detectErrorsInObjects = (objects, errorMappers) => {\n  return objects.flatMap((o) => {\n    return errorMappers.flatMap((em) => em.detectErrors(o));\n  });\n};\n\nexport { detectErrorsInObjects };\n//# sourceMappingURL=common.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\nimport lodash from 'lodash';\nimport { DateTime } from 'luxon';\n\nfunction isPodReadinessProbeUnready({\n  container,\n  containerStatus\n}) {\n  if (containerStatus.ready || containerStatus.state?.running?.startedAt === void 0 || !container.readinessProbe) {\n    return false;\n  }\n  const startDateTime = DateTime.fromISO(\n    containerStatus.state?.running?.startedAt\n  ).plus({\n    seconds: container.readinessProbe?.initialDelaySeconds ?? 0\n  }).plus({\n    seconds: (container.readinessProbe?.periodSeconds ?? 0) * (container.readinessProbe?.failureThreshold ?? 0)\n  });\n  return startDateTime < DateTime.now();\n}\nconst podToContainerSpecsAndStatuses = (pod) => {\n  const specs = lodash.groupBy(pod.spec?.containers ?? [], (value) => value.name);\n  const result = [];\n  for (const cs of pod.status?.containerStatuses ?? []) {\n    const spec = specs[cs.name];\n    if (spec.length > 0) {\n      result.push({\n        container: spec[0],\n        containerStatus: cs\n      });\n    }\n  }\n  return result;\n};\nconst readinessProbeProposedFixes = (pod) => {\n  const firstUnreadyContainerStatus = pod.status?.containerStatuses?.find(\n    (cs) => {\n      return cs.ready === false;\n    }\n  );\n  return {\n    errorType: \"ReadinessProbeFailed\",\n    rootCauseExplanation: `The container ${firstUnreadyContainerStatus?.name} failed to start properly, but is not crashing`,\n    actions: [\n      \"Ensure that the container starts correctly locally\",\n      \"Check the container's logs looking for error during startup\"\n    ],\n    type: \"events\",\n    podName: pod.metadata?.name ?? \"\"\n  };\n};\nconst restartingPodProposedFixes = (pod) => {\n  const lastTerminatedCs = (pod.status?.containerStatuses ?? []).find(\n    (cs) => cs.lastState?.terminated !== void 0\n  );\n  const lastTerminated = lastTerminatedCs?.lastState?.terminated;\n  if (!lastTerminated) {\n    return void 0;\n  }\n  switch (lastTerminated?.reason) {\n    case \"Unknown\":\n      return {\n        // TODO check this one, it's more likely a cluster issue\n        errorType: \"Unknown\",\n        rootCauseExplanation: `This container has exited with a non-zero exit code (${lastTerminated.exitCode})`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        container: lastTerminatedCs.name,\n        type: \"logs\"\n      };\n    case \"Error\":\n      return {\n        errorType: \"Error\",\n        rootCauseExplanation: `This container has exited with a non-zero exit code (${lastTerminated.exitCode})`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        container: lastTerminatedCs.name,\n        type: \"logs\"\n      };\n    case \"OOMKilled\":\n      return {\n        errorType: \"OOMKilled\",\n        rootCauseExplanation: `The container \"${lastTerminatedCs.name}\" has crashed because it has tried to use more memory that it has been allocated`,\n        actions: [\n          `Increase the amount of memory assigned to the container`,\n          \"Ensure the application is memory bounded and is not trying to consume too much memory\"\n        ],\n        docsLink: \"https://kubernetes.io/docs/tasks/configure-pod-container/assign-memory-resource/#exceed-a-container-s-memory-limit\",\n        type: \"docs\"\n      };\n    default:\n      return void 0;\n  }\n};\nconst waitingProposedFix = (pod) => {\n  const waitingCs = (pod.status?.containerStatuses ?? []).find(\n    (cs) => cs.state?.waiting !== void 0\n  );\n  const waiting = (pod.status?.containerStatuses ?? []).map((cs) => cs.state?.waiting).find((w) => w?.reason !== void 0);\n  switch (waiting?.reason) {\n    case \"InvalidImageName\":\n      return {\n        errorType: \"InvalidImageName\",\n        rootCauseExplanation: \"The image in the pod is invalid\",\n        actions: [\"Ensure the image name is correct and valid image name\"],\n        type: \"docs\",\n        docsLink: \"https://docs.docker.com/engine/reference/commandline/tag/#extended-description\"\n      };\n    case \"ImagePullBackOff\":\n      return {\n        errorType: \"ImagePullBackOff\",\n        rootCauseExplanation: \"The image either could not be found or Kubernetes does not have permission to pull it\",\n        actions: [\n          \"Ensure the image name is correct\",\n          \"Ensure Kubernetes has permission to pull this image\"\n        ],\n        type: \"docs\",\n        docsLink: \"https://kubernetes.io/docs/concepts/containers/images/#imagepullbackoff\"\n      };\n    case \"CrashLoopBackOff\":\n      return {\n        errorType: \"CrashLoopBackOff\",\n        rootCauseExplanation: `The container ${waitingCs?.name} has crashed many times, it will be exponentially restarted until it stops crashing`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        type: \"logs\",\n        container: waitingCs?.name ?? \"unknown\"\n      };\n    case \"CreateContainerConfigError\":\n      return {\n        errorType: \"CreateContainerConfigError\",\n        rootCauseExplanation: \"There is missing or mismatching configuration required to start the container\",\n        actions: [\n          \"Ensure ConfigMaps references in the Deployment manifest are correct and the keys exist\",\n          \"Ensure Secrets references in the Deployment manifest are correct and the keys exist\"\n        ],\n        type: \"docs\",\n        docsLink: \"https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/\"\n      };\n    default:\n      return void 0;\n  }\n};\nconst podErrorMappers = [\n  {\n    detectErrors: (pod) => {\n      return podToContainerSpecsAndStatuses(pod).filter(isPodReadinessProbeUnready).map((cs) => ({\n        type: \"readiness-probe-taking-too-long\",\n        message: `The container ${cs.container.name} failed to start properly, but is not crashing`,\n        severity: 4,\n        proposedFix: readinessProbeProposedFixes(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  },\n  {\n    detectErrors: (pod) => {\n      return (pod.status?.containerStatuses ?? []).filter((cs) => cs.state?.waiting?.message !== void 0).map((cs) => ({\n        type: \"container-waiting\",\n        message: cs.state?.waiting?.message ?? \"container waiting\",\n        severity: 4,\n        proposedFix: waitingProposedFix(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  },\n  {\n    detectErrors: (pod) => {\n      return (pod.status?.containerStatuses ?? []).filter((cs) => cs.restartCount > 0).map((cs) => ({\n        type: \"containers-restarting\",\n        message: `container=${cs.name} restarted ${cs.restartCount} times`,\n        severity: 4,\n        proposedFix: restartingPodProposedFixes(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: cs.restartCount\n      }));\n    }\n  }\n];\nconst detectErrorsInPods = (pods) => detectErrorsInObjects(pods, podErrorMappers);\n\nexport { detectErrorsInPods };\n//# sourceMappingURL=pods.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\n\nconst deploymentErrorMappers = [\n  {\n    detectErrors: (deployment) => {\n      return (deployment.status?.conditions ?? []).filter((c) => c.status === \"False\").filter((c) => c.message !== void 0).map((c) => ({\n        type: \"condition-message-present\",\n        message: c.message ?? \"\",\n        severity: 6,\n        sourceRef: {\n          name: deployment.metadata?.name ?? \"unknown hpa\",\n          namespace: deployment.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Deployment\",\n          apiGroup: \"apps/v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  }\n];\nconst detectErrorsInDeployments = (deployments) => detectErrorsInObjects(deployments, deploymentErrorMappers);\n\nexport { detectErrorsInDeployments };\n//# sourceMappingURL=deployments.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\n\nconst hpaErrorMappers = [\n  {\n    detectErrors: (hpa) => {\n      if ((hpa.spec?.maxReplicas ?? -1) === hpa.status?.currentReplicas) {\n        return [\n          {\n            type: \"hpa-max-current-replicas\",\n            message: `Current number of replicas (${hpa.status?.currentReplicas}) is equal to the configured max number of replicas (${hpa.spec?.maxReplicas ?? -1})`,\n            severity: 8,\n            sourceRef: {\n              name: hpa.metadata?.name ?? \"unknown hpa\",\n              namespace: hpa.metadata?.namespace ?? \"unknown namespace\",\n              kind: \"HorizontalPodAutoscaler\",\n              apiGroup: \"autoscaling/v2\"\n            },\n            occurrenceCount: 1\n          }\n        ];\n      }\n      return [];\n    }\n  }\n];\nconst detectErrorsInHpa = (hpas) => detectErrorsInObjects(hpas, hpaErrorMappers);\n\nexport { detectErrorsInHpa };\n//# sourceMappingURL=hpas.esm.js.map\n","import { groupResponses } from '../util/response.esm.js';\nimport { detectErrorsInPods } from './pods.esm.js';\nimport { detectErrorsInDeployments } from './deployments.esm.js';\nimport { detectErrorsInHpa } from './hpas.esm.js';\n\nconst detectErrors = (objects) => {\n  const errors = /* @__PURE__ */ new Map();\n  for (const clusterResponse of objects.items) {\n    let clusterErrors = [];\n    const groupedResponses = groupResponses(clusterResponse.resources);\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInPods(groupedResponses.pods)\n    );\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInDeployments(groupedResponses.deployments)\n    );\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInHpa(\n        groupedResponses.horizontalPodAutoscalers\n      )\n    );\n    errors.set(clusterResponse.cluster.name, clusterErrors);\n  }\n  return errors;\n};\n\nexport { detectErrors };\n//# sourceMappingURL=error-detection.esm.js.map\n","import { createPermission } from '@backstage/plugin-permission-common';\n\nconst kubernetesProxyPermission = createPermission({\n  name: \"kubernetes.proxy\",\n  attributes: {}\n});\nconst kubernetesResourcesReadPermission = createPermission({\n  name: \"kubernetes.resources.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst kubernetesClustersReadPermission = createPermission({\n  name: \"kubernetes.clusters.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst kubernetesPermissions = [\n  kubernetesProxyPermission,\n  kubernetesResourcesReadPermission,\n  kubernetesClustersReadPermission\n];\n\nexport { kubernetesClustersReadPermission, kubernetesPermissions, kubernetesProxyPermission, kubernetesResourcesReadPermission };\n//# sourceMappingURL=permissions.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst kubernetesTranslationRef = createTranslationRef({\n  id: \"kubernetes\",\n  messages: {\n    kubernetesContentPage: {\n      permissionAlert: {\n        title: \"Permission required\",\n        message: \"To view Kubernetes objects, contact your portal administrator to give you the 'kubernetes.clusters.read' and 'kubernetes.resources.read' permission.\"\n      }\n    }\n  }\n});\n\nexport { kubernetesTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { kubernetesClustersReadPermission, kubernetesResourcesReadPermission } from '@backstage/plugin-kubernetes-common';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { WarningPanel } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { kubernetesTranslationRef } from './alpha/translation.esm.js';\n\nfunction RequireKubernetesPermissions(props) {\n  const kubernetesClustersPermissionResult = usePermission({\n    permission: kubernetesClustersReadPermission\n  });\n  const kubernetesResourcesPermissionResult = usePermission({\n    permission: kubernetesResourcesReadPermission\n  });\n  const { t } = useTranslationRef(kubernetesTranslationRef);\n  if (kubernetesClustersPermissionResult.loading || kubernetesResourcesPermissionResult.loading) {\n    return null;\n  }\n  if (kubernetesClustersPermissionResult.allowed && kubernetesResourcesPermissionResult.allowed) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n  }\n  return /* @__PURE__ */ jsx(\n    WarningPanel,\n    {\n      title: t(\"kubernetesContentPage.permissionAlert.title\"),\n      message: t(\"kubernetesContentPage.permissionAlert.message\")\n    }\n  );\n}\n\nexport { RequireKubernetesPermissions };\n//# sourceMappingURL=RequireKubernetesPermissions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { useKubernetesObjects, DetectedErrorsContext, ErrorPanel, ErrorReporting, Cluster } from '@backstage/plugin-kubernetes-react';\nimport { detectErrors } from '@backstage/plugin-kubernetes-common';\nimport { Page, Content, Progress, EmptyState } from '@backstage/core-components';\nimport { RequireKubernetesPermissions } from './RequireKubernetesPermissions.esm.js';\n\nconst KubernetesContent = ({\n  entity,\n  refreshIntervalMs\n}) => {\n  const { kubernetesObjects, error } = useKubernetesObjects(\n    entity,\n    refreshIntervalMs\n  );\n  const clusters = kubernetesObjects?.items.map((item) => item.cluster) ?? [];\n  const clustersWithErrors = kubernetesObjects?.items.filter((r) => r.errors.length > 0) ?? [];\n  const detectedErrors = kubernetesObjects !== void 0 ? detectErrors(kubernetesObjects) : /* @__PURE__ */ new Map();\n  return /* @__PURE__ */ jsx(Page, { themeId: \"tool\", children: /* @__PURE__ */ jsx(Content, { children: /* @__PURE__ */ jsx(RequireKubernetesPermissions, { children: /* @__PURE__ */ jsxs(\n    DetectedErrorsContext.Provider,\n    {\n      value: [...detectedErrors.values()].flat(),\n      children: [\n        kubernetesObjects === void 0 && error === void 0 && /* @__PURE__ */ jsx(Progress, {}),\n        clustersWithErrors.length > 0 && /* @__PURE__ */ jsx(Grid, { container: true, spacing: 3, direction: \"column\", children: /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n          ErrorPanel,\n          {\n            entityName: entity.metadata.name,\n            clustersWithErrors\n          }\n        ) }) }),\n        error !== void 0 && /* @__PURE__ */ jsx(Grid, { container: true, spacing: 3, direction: \"column\", children: /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n          ErrorPanel,\n          {\n            entityName: entity.metadata.name,\n            errorMessage: error\n          }\n        ) }) }),\n        kubernetesObjects && /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 3, direction: \"column\", children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n            ErrorReporting,\n            {\n              detectedErrors,\n              clusters\n            }\n          ) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"h3\", children: \"Your Clusters\" }) }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, container: true, children: [\n            kubernetesObjects?.items.length <= 0 && /* @__PURE__ */ jsx(\n              Grid,\n              {\n                container: true,\n                justifyContent: \"space-around\",\n                direction: \"row\",\n                alignItems: \"center\",\n                spacing: 2,\n                children: /* @__PURE__ */ jsx(Grid, { item: true, xs: 8, children: /* @__PURE__ */ jsx(\n                  EmptyState,\n                  {\n                    missing: \"data\",\n                    title: \"No Kubernetes resources\",\n                    description: `No resources on any known clusters for ${entity.metadata.name}`\n                  }\n                ) })\n              }\n            ),\n            kubernetesObjects?.items.length > 0 && kubernetesObjects?.items.map((item, i) => {\n              const podsWithErrors = new Set(\n                detectedErrors.get(item.cluster.name)?.filter((de) => de.sourceRef.kind === \"Pod\").map((de) => de.sourceRef.name)\n              );\n              return /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n                Cluster,\n                {\n                  clusterObjects: item,\n                  podsWithErrors\n                }\n              ) }, i);\n            })\n          ] })\n        ] })\n      ]\n    }\n  ) }) }) });\n};\n\nexport { KubernetesContent };\n//# sourceMappingURL=KubernetesContent.esm.js.map\n","const KUBERNETES_ANNOTATION = \"backstage.io/kubernetes-id\";\nconst KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION = \"backstage.io/kubernetes-label-selector\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\nconst ANNOTATION_KUBERNETES_OIDC_TOKEN_PROVIDER = \"kubernetes.io/oidc-token-provider\";\nconst ANNOTATION_KUBERNETES_SKIP_METRICS_LOOKUP = \"kubernetes.io/skip-metrics-lookup\";\nconst ANNOTATION_KUBERNETES_SKIP_TLS_VERIFY = \"kubernetes.io/skip-tls-verify\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_URL = \"kubernetes.io/dashboard-url\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_APP = \"kubernetes.io/dashboard-app\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_PARAMETERS = \"kubernetes.io/dashboard-parameters\";\nconst ANNOTATION_KUBERNETES_AWS_ASSUME_ROLE = \"kubernetes.io/aws-assume-role\";\nconst ANNOTATION_KUBERNETES_AWS_CLUSTER_ID = \"kubernetes.io/x-k8s-aws-id\";\nconst ANNOTATION_KUBERNETES_AWS_EXTERNAL_ID = \"kubernetes.io/aws-external-id\";\n\nexport { ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_KUBERNETES_AWS_ASSUME_ROLE, ANNOTATION_KUBERNETES_AWS_CLUSTER_ID, ANNOTATION_KUBERNETES_AWS_EXTERNAL_ID, ANNOTATION_KUBERNETES_DASHBOARD_APP, ANNOTATION_KUBERNETES_DASHBOARD_PARAMETERS, ANNOTATION_KUBERNETES_DASHBOARD_URL, ANNOTATION_KUBERNETES_OIDC_TOKEN_PROVIDER, ANNOTATION_KUBERNETES_SKIP_METRICS_LOOKUP, ANNOTATION_KUBERNETES_SKIP_TLS_VERIFY, KUBERNETES_ANNOTATION, KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION };\n//# sourceMappingURL=catalog-entity-constants.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useEntity, MissingAnnotationEmptyState } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router-dom';\nimport { KubernetesContent } from './KubernetesContent.esm.js';\nimport Button from '@material-ui/core/Button';\nimport { KUBERNETES_ANNOTATION, KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION } from '@backstage/plugin-kubernetes-common';\n\nconst isKubernetesAvailable = (entity) => Boolean(entity.metadata.annotations?.[KUBERNETES_ANNOTATION]) || Boolean(\n  entity.metadata.annotations?.[KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION]\n);\nconst Router = (props) => {\n  const { entity } = useEntity();\n  const kubernetesAnnotationValue = entity.metadata.annotations?.[KUBERNETES_ANNOTATION];\n  const kubernetesLabelSelectorQueryAnnotationValue = entity.metadata.annotations?.[KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION];\n  if (kubernetesAnnotationValue || kubernetesLabelSelectorQueryAnnotationValue) {\n    return /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(\n      Route,\n      {\n        path: \"/\",\n        element: /* @__PURE__ */ jsx(\n          KubernetesContent,\n          {\n            entity,\n            refreshIntervalMs: props.refreshIntervalMs\n          }\n        )\n      }\n    ) });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(MissingAnnotationEmptyState, { annotation: KUBERNETES_ANNOTATION }),\n    /* @__PURE__ */ jsx(\"h1\", { children: \"Or use a label selector query, which takes precedence over the previous annotation.\" }),\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        href: \"https://backstage.io/docs/features/kubernetes/configuration#surfacing-your-kubernetes-components-as-part-of-an-entity\",\n        children: \"Read Kubernetes Plugin Docs\"\n      }\n    )\n  ] });\n};\n\nexport { Router, isKubernetesAvailable };\n//# sourceMappingURL=Router.esm.js.map\n","var DependencyGraphTypes;\n((DependencyGraphTypes2) => {\n  ((Direction2) => {\n    Direction2[\"TOP_BOTTOM\"] = \"TB\";\n    Direction2[\"BOTTOM_TOP\"] = \"BT\";\n    Direction2[\"LEFT_RIGHT\"] = \"LR\";\n    Direction2[\"RIGHT_LEFT\"] = \"RL\";\n  })(DependencyGraphTypes2.Direction || (DependencyGraphTypes2.Direction = {}));\n  ((Alignment2) => {\n    Alignment2[\"UP_LEFT\"] = \"UL\";\n    Alignment2[\"UP_RIGHT\"] = \"UR\";\n    Alignment2[\"DOWN_LEFT\"] = \"DL\";\n    Alignment2[\"DOWN_RIGHT\"] = \"DR\";\n  })(DependencyGraphTypes2.Alignment || (DependencyGraphTypes2.Alignment = {}));\n  ((Ranker2) => {\n    Ranker2[\"NETWORK_SIMPLEX\"] = \"network-simplex\";\n    Ranker2[\"TIGHT_TREE\"] = \"tight-tree\";\n    Ranker2[\"LONGEST_PATH\"] = \"longest-path\";\n  })(DependencyGraphTypes2.Ranker || (DependencyGraphTypes2.Ranker = {}));\n  ((LabelPosition2) => {\n    LabelPosition2[\"LEFT\"] = \"l\";\n    LabelPosition2[\"RIGHT\"] = \"r\";\n    LabelPosition2[\"CENTER\"] = \"c\";\n  })(DependencyGraphTypes2.LabelPosition || (DependencyGraphTypes2.LabelPosition = {}));\n})(DependencyGraphTypes || (DependencyGraphTypes = {}));\n\nexport { DependencyGraphTypes };\n//# sourceMappingURL=types.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\n\nconst PendingIcon = ({\n  className,\n  dataTestId\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 -960 960 960\",\n      className,\n      \"data-testid\": dataTestId,\n      children: /* @__PURE__ */ jsx(\"path\", { d: \"M280-420q25 0 42.5-17.5T340-480q0-25-17.5-42.5T280-540q-25 0-42.5 17.5T220-480q0 25 17.5 42.5T280-420Zm200 0q25 0 42.5-17.5T540-480q0-25-17.5-42.5T480-540q-25 0-42.5 17.5T420-480q0 25 17.5 42.5T480-420Zm200 0q25 0 42.5-17.5T740-480q0-25-17.5-42.5T680-540q-25 0-42.5 17.5T620-480q0 25 17.5 42.5T680-420ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\" })\n    }\n  );\n};\n\nexport { PendingIcon };\n//# sourceMappingURL=PendingIcon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\n\nconst RunningIcon = ({\n  className,\n  dataTestId\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 -960 960 960\",\n      className,\n      \"data-testid\": dataTestId,\n      children: /* @__PURE__ */ jsx(\"path\", { d: \"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z\" })\n    }\n  );\n};\n\nexport { RunningIcon };\n//# sourceMappingURL=RunningIcon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\n\nconst AbortedIcon = ({\n  className,\n  dataTestId\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 -960 960 960\",\n      className,\n      \"data-testid\": dataTestId,\n      children: /* @__PURE__ */ jsx(\"path\", { d: \"M140-440q-25 0-42.5-17.5T80-500q0-25 17.5-42.5T140-560h240q25 0 42.5 17.5T440-500q0 25-17.5 42.5T380-440H140Zm440 0q-25 0-42.5-17.5T520-500q0-25 17.5-42.5T580-560h240q25 0 42.5 17.5T880-500q0 25-17.5 42.5T820-440H580Z\" })\n    }\n  );\n};\n\nexport { AbortedIcon };\n//# sourceMappingURL=AbortedIcon.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CheckCircleOutline from '@material-ui/icons/CheckCircleOutline';\nimport WarningOutline from '@material-ui/icons/ReportProblemOutlined';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport classNames from 'classnames';\nimport { PendingIcon } from './icons/PendingIcon.esm.js';\nimport { RunningIcon } from './icons/RunningIcon.esm.js';\nimport { AbortedIcon } from './icons/AbortedIcon.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    status: {\n      fontWeight: theme.typography.fontWeightMedium,\n      alignItems: \"baseline\",\n      display: \"flex\"\n    },\n    statusIcon: {\n      flexShrink: 0,\n      position: \"relative\",\n      top: \"0.125em\",\n      marginRight: theme.spacing(1)\n    },\n    statusIconSize: {\n      width: \"0.8em\",\n      height: \"0.8em\"\n    },\n    statusIconSizeForImg: {\n      width: \"1.2em\",\n      height: \"1.2em\"\n    },\n    ok: {\n      fill: theme.palette.status.ok || \"#3E8635\"\n    },\n    warning: {\n      fill: theme.palette.status.warning || \"#F0AB00\"\n    },\n    error: {\n      fill: theme.palette.status.error || \"#C9190B\"\n    },\n    pending: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    },\n    running: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    },\n    aborted: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    }\n  }),\n  { name: \"BackstageStatus\" }\n);\nfunction StatusOK(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status ok\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          CheckCircleOutline,\n          {\n            \"data-testid\": \"status-ok\",\n            className: classNames(\n              classes.ok,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusWarning(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status warning\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          WarningOutline,\n          {\n            \"data-testid\": \"status-warning\",\n            className: classNames(\n              classes.warning,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusError(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status error\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          ErrorOutline,\n          {\n            \"data-testid\": \"status-error\",\n            className: classNames(\n              classes.error,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusPending(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status pending\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          PendingIcon,\n          {\n            dataTestId: \"status-pending\",\n            className: classNames(\n              classes.pending,\n              classes.statusIconSizeForImg,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusRunning(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status running\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          RunningIcon,\n          {\n            dataTestId: \"status-running\",\n            className: classNames(\n              classes.running,\n              classes.statusIcon,\n              classes.statusIconSizeForImg\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusAborted(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status aborted\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          AbortedIcon,\n          {\n            dataTestId: \"status-aborted\",\n            className: classNames(\n              classes.aborted,\n              classes.statusIcon,\n              classes.statusIconSizeForImg\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\n\nexport { StatusAborted, StatusError, StatusOK, StatusPending, StatusRunning, StatusWarning };\n//# sourceMappingURL=Status.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRoute = createRouteRef({\n  id: \"api-docs\"\n});\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\n\nexport { registerComponentRouteRef, rootRoute };\n//# sourceMappingURL=routes.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalEvents = getOrCreateGlobalSingleton(\n  \"core-plugin-api:analytics-tracker-events\",\n  () => ({\n    mostRecentGatheredNavigation: void 0,\n    mostRecentRoutableExtensionRender: void 0,\n    beforeUnloadRegistered: false\n  })\n);\nconst routableExtensionRenderedEvent = \"_ROUTABLE-EXTENSION-RENDERED\";\nclass Tracker {\n  constructor(analyticsApi, context = {\n    routeRef: \"unknown\",\n    pluginId: \"root\",\n    extension: \"App\"\n  }) {\n    this.analyticsApi = analyticsApi;\n    this.context = context;\n    if (!globalEvents.beforeUnloadRegistered) {\n      addEventListener(\n        \"beforeunload\",\n        () => {\n          if (globalEvents.mostRecentGatheredNavigation) {\n            this.analyticsApi.captureEvent({\n              ...globalEvents.mostRecentGatheredNavigation,\n              ...globalEvents.mostRecentRoutableExtensionRender\n            });\n            globalEvents.mostRecentGatheredNavigation = void 0;\n            globalEvents.mostRecentRoutableExtensionRender = void 0;\n          }\n        },\n        { once: true, passive: true }\n      );\n      globalEvents.beforeUnloadRegistered = true;\n    }\n  }\n  setContext(context) {\n    this.context = context;\n  }\n  captureEvent(action, subject, {\n    value,\n    attributes\n  } = {}) {\n    const { _routeNodeType, ...context } = this.context;\n    if (action === routableExtensionRenderedEvent) {\n      if (globalEvents.mostRecentGatheredNavigation) {\n        globalEvents.mostRecentRoutableExtensionRender = {\n          context: {\n            ...context,\n            extension: \"App\"\n          }\n        };\n      }\n      return;\n    }\n    if (globalEvents.mostRecentGatheredNavigation) {\n      try {\n        this.analyticsApi.captureEvent({\n          ...globalEvents.mostRecentGatheredNavigation,\n          ...globalEvents.mostRecentRoutableExtensionRender\n        });\n      } catch (e) {\n        console.warn(\"Error during analytics event capture. %o\", e);\n      }\n      globalEvents.mostRecentGatheredNavigation = void 0;\n      globalEvents.mostRecentRoutableExtensionRender = void 0;\n    }\n    if (action === \"navigate\" && _routeNodeType === \"gathered\" && context.pluginId === \"root\") {\n      globalEvents.mostRecentGatheredNavigation = {\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      };\n      return;\n    }\n    try {\n      this.analyticsApi.captureEvent({\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      });\n    } catch (e) {\n      console.warn(\"Error during analytics event capture. %o\", e);\n    }\n  }\n}\n\nexport { Tracker, routableExtensionRenderedEvent };\n//# sourceMappingURL=Tracker.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/lab/Alert';\nimport { apiDocsConfigRef } from './config.esm.js';\nimport '@backstage/core-components';\nimport { createPlugin, createApiFactory, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport { defaultDefinitionWidgets } from './components/ApiDefinitionCard/ApiDefinitionWidget.esm.js';\nimport '@material-ui/core/Typography';\nimport { rootRoute, registerComponentRouteRef } from './routes.esm.js';\n\nconst apiDocsPlugin = createPlugin({\n  id: \"api-docs\",\n  routes: {\n    root: rootRoute\n  },\n  apis: [\n    createApiFactory({\n      api: apiDocsConfigRef,\n      deps: {},\n      factory: () => {\n        const definitionWidgets = defaultDefinitionWidgets();\n        return {\n          getApiDefinitionWidget: (apiEntity) => {\n            return definitionWidgets.find((d) => d.type === apiEntity.spec.type);\n          }\n        };\n      }\n    })\n  ],\n  externalRoutes: {\n    registerApi: registerComponentRouteRef\n  }\n});\nconst ApiExplorerPage = apiDocsPlugin.provide(\n  createRoutableExtension({\n    name: \"ApiExplorerPage\",\n    component: () => import('./components/ApiExplorerPage/index.esm.js').then((m) => m.ApiExplorerIndexPage),\n    mountPoint: rootRoute\n  })\n);\nconst EntityApiDefinitionCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityApiDefinitionCard\",\n    component: {\n      lazy: () => import('./components/ApiDefinitionCard/index.esm.js').then((m) => m.ApiDefinitionCard)\n    }\n  })\n);\nconst EntityConsumedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ConsumedApisCard)\n    }\n  })\n);\nconst EntityConsumingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ConsumingComponentsCard\n      )\n    }\n  })\n);\nconst EntityProvidedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ProvidedApisCard)\n    }\n  })\n);\nconst EntityProvidingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ProvidingComponentsCard\n      )\n    }\n  })\n);\nconst EntityHasApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.HasApisCard)\n    }\n  })\n);\n\nexport { ApiExplorerPage, EntityApiDefinitionCard, EntityConsumedApisCard, EntityConsumingComponentsCard, EntityHasApisCard, EntityProvidedApisCard, EntityProvidingComponentsCard, apiDocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\"\n});\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\"\n});\n\nexport { techdocsApiRef, techdocsStorageApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useSubvalueCellStyles = makeStyles(\n  (theme) => ({\n    value: {\n      marginBottom: theme.spacing(0.75)\n    },\n    subvalue: {\n      color: theme.palette.textSubtle,\n      fontWeight: \"normal\"\n    }\n  }),\n  { name: \"BackstageSubvalueCell\" }\n);\nfunction SubvalueCell(props) {\n  const { value, subvalue } = props;\n  const classes = useSubvalueCellStyles();\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Box, { className: classes.value, children: value }),\n    /* @__PURE__ */ jsx(Box, { className: classes.subvalue, children: subvalue })\n  ] });\n}\n\nexport { SubvalueCell };\n//# sourceMappingURL=SubvalueCell.esm.js.map\n","class PluginImpl {\n  constructor(config) {\n    this.config = config;\n  }\n  getId() {\n    return this.config.id;\n  }\n  getApis() {\n    return this.config.apis ?? [];\n  }\n  getFeatureFlags() {\n    return this.config.featureFlags?.slice() ?? [];\n  }\n  get routes() {\n    return this.config.routes ?? {};\n  }\n  get externalRoutes() {\n    return this.config.externalRoutes ?? {};\n  }\n  provide(extension) {\n    return extension.expose(this);\n  }\n  toString() {\n    return `plugin{${this.config.id}}`;\n  }\n}\nfunction createPlugin(config) {\n  return new PluginImpl(config);\n}\n\nexport { PluginImpl, createPlugin };\n//# sourceMappingURL=Plugin.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  () => ({\n    highlight: {}\n  }),\n  { name: \"BackstageHighlightedSearchResultText\" }\n);\nconst HighlightedSearchResultText = (props) => {\n  const { text, preTag, postTag } = props;\n  const classes = useStyles();\n  const terms = useMemo(\n    () => text.split(new RegExp(`(${preTag}.+?${postTag})`)),\n    [postTag, preTag, text]\n  );\n  return /* @__PURE__ */ jsx(Fragment, { children: terms.map(\n    (t, idx) => t.includes(preTag) ? /* @__PURE__ */ jsx(\"mark\", { className: classes.highlight, children: t.replace(new RegExp(`${preTag}|${postTag}`, \"g\"), \"\") }, idx) : t\n  ) });\n};\n\nexport { HighlightedSearchResultText };\n//# sourceMappingURL=HighlightedSearchResultText.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createRoutesFromChildren, Route } from 'react-router-dom';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ jsx(Route, { index: true, element: /* @__PURE__ */ jsx(\"div\", {}) }));\n  return !obj.index;\n}\n\nexport { isReactRouterBeta };\n//# sourceMappingURL=isReactRouterBeta.esm.js.map\n","import { useAnalyticsContext } from './AnalyticsContext.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport { analyticsApiRef } from '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { useRef } from 'react';\nimport { Tracker } from './Tracker.esm.js';\n\nfunction useAnalyticsApi() {\n  try {\n    return useApi(analyticsApiRef);\n  } catch {\n    return { captureEvent: () => {\n    } };\n  }\n}\nfunction useAnalytics() {\n  const trackerRef = useRef(null);\n  const context = useAnalyticsContext();\n  const analyticsApi = useAnalyticsApi();\n  function getTracker() {\n    if (trackerRef.current === null) {\n      trackerRef.current = new Tracker(analyticsApi);\n    }\n    return trackerRef.current;\n  }\n  const tracker = getTracker();\n  tracker.setContext(context);\n  return tracker;\n}\n\nexport { useAnalytics };\n//# sourceMappingURL=useAnalytics.esm.js.map\n","import { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction humanizeEntityRef(entityRef, opts) {\n  const defaultKind = opts?.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === void 0 || namespace === \"\") {\n    namespace = DEFAULT_NAMESPACE;\n  }\n  if (opts?.defaultNamespace !== void 0) {\n    if (opts?.defaultNamespace === namespace) {\n      namespace = void 0;\n    }\n  } else if (namespace === DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  kind = defaultKind && defaultKind.toLocaleLowerCase(\"en-US\") === kind ? void 0 : kind;\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction humanizeEntity(entity, defaultName) {\n  for (const path of [\"spec.profile.displayName\", \"metadata.title\"]) {\n    const value = get(entity, path);\n    if (value && typeof value === \"string\") {\n      return value;\n    }\n  }\n  return defaultName;\n}\n\nexport { humanizeEntity, humanizeEntityRef };\n//# sourceMappingURL=humanize.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst configApiRef = createApiRef({\n  id: \"core.config\"\n});\n\nexport { configApiRef };\n//# sourceMappingURL=ConfigApi.esm.js.map\n","import { createContext, useContext } from 'react';\nimport { getOrCreateGlobalSingleton } from './globalObject.esm.js';\nimport { createVersionedValueMap } from './VersionedValue.esm.js';\n\nfunction createVersionedContext(key) {\n  return getOrCreateGlobalSingleton(\n    key,\n    () => createContext(void 0)\n  );\n}\nfunction useVersionedContext(key) {\n  return useContext(createVersionedContext(key));\n}\nfunction createVersionedContextForTesting(key) {\n  return {\n    set(versions) {\n      globalThis[`__@backstage/${key}__`] = createContext(\n        createVersionedValueMap(versions)\n      );\n    },\n    reset() {\n      delete globalThis[`__@backstage/${key}__`];\n    }\n  };\n}\n\nexport { createVersionedContext, createVersionedContextForTesting, useVersionedContext };\n//# sourceMappingURL=VersionedContext.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useLocation, matchRoutes } from 'react-router-dom';\nimport { AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\n\nconst getExtensionContext = (pathname, routes) => {\n  try {\n    const matches = matchRoutes(routes, { pathname });\n    const routeMatch = matches?.filter((match) => match?.route.routeRefs?.size > 0).pop();\n    const routeObject = routeMatch?.route;\n    if (!routeObject) {\n      return void 0;\n    }\n    if (routeObject.path === \"\" && pathname !== \"/\") {\n      return void 0;\n    }\n    let routeRef;\n    if (routeObject.routeRefs.size === 1) {\n      routeRef = routeObject.routeRefs.values().next().value;\n    }\n    let plugin;\n    if (routeObject.plugins.size === 1) {\n      plugin = routeObject.plugins.values().next().value;\n    }\n    const params = Object.entries(\n      routeMatch?.params || {}\n    ).reduce((acc, [key, value]) => {\n      if (value !== void 0 && key !== \"*\") {\n        acc[key] = value;\n      }\n      return acc;\n    }, {});\n    return {\n      extension: \"App\",\n      pluginId: plugin?.getId() || \"root\",\n      ...routeRef ? { routeRef: routeRef.id } : {},\n      _routeNodeType: routeObject.element,\n      params\n    };\n  } catch {\n    return void 0;\n  }\n};\nconst TrackNavigation = ({\n  pathname,\n  search,\n  hash,\n  attributes\n}) => {\n  const analytics = useAnalytics();\n  useEffect(() => {\n    analytics.captureEvent(\"navigate\", `${pathname}${search}${hash}`, {\n      attributes\n    });\n  }, [analytics, pathname, search, hash, attributes]);\n  return null;\n};\nconst RouteTracker = ({\n  routeObjects\n}) => {\n  const { pathname, search, hash } = useLocation();\n  const { params, ...attributes } = getExtensionContext(\n    pathname,\n    routeObjects\n  ) || { params: {} };\n  return /* @__PURE__ */ jsx(AnalyticsContext, { attributes, children: /* @__PURE__ */ jsx(\n    TrackNavigation,\n    {\n      pathname,\n      search,\n      hash,\n      attributes: params\n    }\n  ) });\n};\n\nexport { RouteTracker };\n//# sourceMappingURL=RouteTracker.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext, useState } from 'react';\nimport { attachComponentData, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { RouteTracker } from '../routing/RouteTracker.esm.js';\nimport { Routes, Route } from 'react-router-dom';\n\nfunction getBasePath(configApi) {\n  if (!isReactRouterBeta()) {\n    return \"\";\n  }\n  return readBasePath(configApi);\n}\nfunction readBasePath(configApi) {\n  let { pathname } = new URL(\n    configApi.getOptionalString(\"app.baseUrl\") ?? \"/\",\n    \"http://sample.dev\"\n    // baseUrl can be specified as just a path\n  );\n  pathname = pathname.replace(/\\/*$/, \"\");\n  return pathname;\n}\nfunction SignInPageWrapper({\n  component: Component,\n  appIdentityProxy,\n  children\n}) {\n  const [identityApi, setIdentityApi] = useState();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  if (!identityApi) {\n    return /* @__PURE__ */ jsx(Component, { onSignInSuccess: setIdentityApi });\n  }\n  appIdentityProxy.setTarget(identityApi, {\n    signOutTargetUrl: basePath || \"/\"\n  });\n  return /* @__PURE__ */ jsx(Fragment, { children });\n}\nfunction AppRouter(props) {\n  const { Router: RouterComponent, SignInPage: SignInPageComponent } = useApp().getComponents();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  const mountPath = `${basePath}/*`;\n  const internalAppContext = useContext(InternalAppContext);\n  if (!internalAppContext) {\n    throw new Error(\"AppRouter must be rendered within the AppProvider\");\n  }\n  const { routeObjects, appIdentityProxy } = internalAppContext;\n  if (!SignInPageComponent) {\n    appIdentityProxy.setTarget(\n      {\n        getUserId: () => \"guest\",\n        getIdToken: async () => void 0,\n        getProfile: () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getProfileInfo: async () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getBackstageIdentity: async () => ({\n          type: \"user\",\n          userEntityRef: \"user:default/guest\",\n          ownershipEntityRefs: [\"user:default/guest\"]\n        }),\n        getCredentials: async () => ({}),\n        signOut: async () => {\n        }\n      },\n      { signOutTargetUrl: basePath || \"/\" }\n    );\n    if (isReactRouterBeta()) {\n      return /* @__PURE__ */ jsxs(RouterComponent, { children: [\n        /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n        /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(Route, { path: mountPath, element: /* @__PURE__ */ jsx(Fragment, { children: props.children }) }) })\n      ] });\n    }\n    return /* @__PURE__ */ jsxs(RouterComponent, { basename: basePath, children: [\n      /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n      props.children\n    ] });\n  }\n  if (isReactRouterBeta()) {\n    return /* @__PURE__ */ jsxs(RouterComponent, { children: [\n      /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n      /* @__PURE__ */ jsx(\n        SignInPageWrapper,\n        {\n          component: SignInPageComponent,\n          appIdentityProxy,\n          children: /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(Route, { path: mountPath, element: /* @__PURE__ */ jsx(Fragment, { children: props.children }) }) })\n        }\n      )\n    ] });\n  }\n  return /* @__PURE__ */ jsxs(RouterComponent, { basename: basePath, children: [\n    /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n    /* @__PURE__ */ jsx(\n      SignInPageWrapper,\n      {\n        component: SignInPageComponent,\n        appIdentityProxy,\n        children: props.children\n      }\n    )\n  ] });\n}\nattachComponentData(AppRouter, \"core.type\", \"AppRouter\");\n\nexport { AppRouter, getBasePath };\n//# sourceMappingURL=AppRouter.esm.js.map\n","const DEFAULT_NAMESPACE = \"default\";\nconst ANNOTATION_VIEW_URL = \"backstage.io/view-url\";\nconst ANNOTATION_EDIT_URL = \"backstage.io/edit-url\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\n\nexport { ANNOTATION_EDIT_URL, ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_VIEW_URL, DEFAULT_NAMESPACE };\n//# sourceMappingURL=constants.esm.js.map\n","const AMAZON_AWS_HOST = \"amazonaws.com\";\nfunction readAwsS3IntegrationConfig(config) {\n  const endpoint = config.getOptionalString(\"endpoint\");\n  const s3ForcePathStyle = config.getOptionalBoolean(\"s3ForcePathStyle\") ?? false;\n  let host;\n  let pathname;\n  if (endpoint) {\n    try {\n      const url = new URL(endpoint);\n      host = url.host;\n      pathname = url.pathname;\n    } catch {\n      throw new Error(\n        `invalid awsS3 integration config, endpoint '${endpoint}' is not a valid URL`\n      );\n    }\n    if (pathname !== \"/\") {\n      throw new Error(\n        `invalid awsS3 integration config, endpoints cannot contain path, got '${endpoint}'`\n      );\n    }\n  } else {\n    host = AMAZON_AWS_HOST;\n  }\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  return {\n    host,\n    endpoint,\n    s3ForcePathStyle,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId\n  };\n}\nfunction readAwsS3IntegrationConfigs(configs) {\n  const result = configs.map(readAwsS3IntegrationConfig);\n  if (!result.some((c) => c.host === AMAZON_AWS_HOST)) {\n    result.push({\n      host: AMAZON_AWS_HOST\n    });\n  }\n  return result;\n}\n\nexport { readAwsS3IntegrationConfig, readAwsS3IntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsS3IntegrationConfigs } from './config.esm.js';\n\nclass AwsS3Integration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAwsS3IntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsS3\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsS3Integration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsS3\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AwsS3Integration };\n//# sourceMappingURL=AwsS3Integration.esm.js.map\n","const AMAZON_AWS_CODECOMMIT_HOST = \"console.aws.amazon.com\";\nfunction readAwsCodeCommitIntegrationConfig(config) {\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  const region = config.getString(\"region\");\n  const host = config.getOptionalString(\"host\") || `${region}.${AMAZON_AWS_CODECOMMIT_HOST}`;\n  return {\n    host,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId,\n    region\n  };\n}\nfunction readAwsCodeCommitIntegrationConfigs(configs) {\n  return configs.map(readAwsCodeCommitIntegrationConfig);\n}\n\nexport { readAwsCodeCommitIntegrationConfig, readAwsCodeCommitIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsCodeCommitIntegrationConfigs } from './config.esm.js';\n\nclass AwsCodeCommitIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readAwsCodeCommitIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsCodeCommit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsCodeCommitIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsCodeCommit\";\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const parsedUrl = new URL(url);\n    const pathMatch = parsedUrl.pathname.match(\n      /^\\/codesuite\\/codecommit\\/repositories\\/([^\\/]+)\\//\n    );\n    if (!pathMatch) {\n      throw new Error(``);\n    }\n    const [, repositoryName] = pathMatch;\n    return replaceCodeCommitUrlType(url, repositoryName);\n  }\n}\nfunction replaceCodeCommitUrlType(url, repositoryName, type) {\n  const newString = `files/edit` ;\n  return url.replace(\n    new RegExp(\n      `/codesuite/codecommit/repositories/${repositoryName}/(browse|files/edit)/`\n    ),\n    `/codesuite/codecommit/repositories/${repositoryName}/${newString}/`\n  );\n}\n\nexport { AwsCodeCommitIntegration, replaceCodeCommitUrlType };\n//# sourceMappingURL=AwsCodeCommitIntegration.esm.js.map\n","const VERSION_PREFIX_GIT_BRANCH = \"GB\";\nclass AzureUrl {\n  /**\n   * Parses an azure URL as copied from the browser address bar.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  static fromRepoUrl(repoUrl) {\n    const url = new URL(repoUrl);\n    let owner;\n    let project;\n    let repo;\n    const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n    if (parts[2] === \"_git\") {\n      owner = parts[1];\n      project = repo = parts[3];\n    } else if (parts[3] === \"_git\") {\n      owner = parts[1];\n      project = parts[2];\n      repo = parts[4];\n    } else if (parts[4] === \"_git\") {\n      owner = `${parts[1]}/${parts[2]}`;\n      project = parts[3];\n      repo = parts[5];\n    }\n    if (!owner || !project || !repo) {\n      throw new Error(\"Azure URL must point to a git repository\");\n    }\n    const path = url.searchParams.get(\"path\") ?? void 0;\n    let ref;\n    const version = url.searchParams.get(\"version\");\n    if (version) {\n      const prefix = version.slice(0, 2);\n      if (prefix !== \"GB\") {\n        throw new Error(\"Azure URL version must point to a git branch\");\n      }\n      ref = version.slice(2);\n    }\n    return new AzureUrl(url.origin, owner, project, repo, path, ref);\n  }\n  #origin;\n  #owner;\n  #project;\n  #repo;\n  #path;\n  #ref;\n  constructor(origin, owner, project, repo, path, ref) {\n    this.#origin = origin;\n    this.#owner = owner;\n    this.#project = project;\n    this.#repo = repo;\n    this.#path = path;\n    this.#ref = ref;\n  }\n  #baseUrl = (...parts) => {\n    const url = new URL(this.#origin);\n    url.pathname = parts.map((part) => encodeURIComponent(part)).join(\"/\");\n    return url;\n  };\n  /**\n   * Returns a repo URL that can be used to navigate to the resource in azure.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  toRepoUrl() {\n    let url;\n    if (this.#project === this.#repo) {\n      url = this.#baseUrl(this.#owner, \"_git\", this.#repo);\n    } else {\n      url = this.#baseUrl(this.#owner, this.#project, \"_git\", this.#repo);\n    }\n    if (this.#path) {\n      url.searchParams.set(\"path\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", VERSION_PREFIX_GIT_BRANCH + this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the file download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a file.\n   */\n  toFileUrl() {\n    if (!this.#path) {\n      throw new Error(\n        \"Azure URL must point to a specific path to be able to download a file\"\n      );\n    }\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    url.searchParams.set(\"path\", this.#path);\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the archive download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a repo.\n   */\n  toArchiveUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"recursionLevel\", \"full\");\n    url.searchParams.set(\"download\", \"true\");\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#path) {\n      url.searchParams.set(\"scopePath\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the API url for fetching commits from a branch for this azure resource.\n   *\n   * Throws an error if the URL does not point to a commit.\n   */\n  toCommitsUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"commits\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#ref) {\n      url.searchParams.set(\"searchCriteria.itemVersion.version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the name of the owner, a user or an organization.\n   */\n  getOwner() {\n    return this.#owner;\n  }\n  /**\n   * Returns the name of the project.\n   */\n  getProject() {\n    return this.#project;\n  }\n  /**\n   * Returns the name of the repo.\n   */\n  getRepo() {\n    return this.#repo;\n  }\n  /**\n   * Returns the file path within the repo if the URL contains one.\n   */\n  getPath() {\n    return this.#path;\n  }\n  /**\n   * Returns the git ref in the repo if the URL contains one.\n   */\n  getRef() {\n    return this.#ref;\n  }\n}\n\nexport { AzureUrl };\n//# sourceMappingURL=AzureUrl.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nconst AZURE_HOST = \"dev.azure.com\";\nconst AzureDevOpsCredentialFields = [\n  \"clientId\",\n  \"clientSecret\",\n  \"tenantId\",\n  \"personalAccessToken\"\n];\nconst AzureDevopsCredentialFieldMap = /* @__PURE__ */ new Map([\n  [\"ClientSecret\", [\"clientId\", \"clientSecret\", \"tenantId\"]],\n  [\"ManagedIdentity\", [\"clientId\"]],\n  [\"PersonalAccessToken\", [\"personalAccessToken\"]]\n]);\nfunction asAzureDevOpsCredential(credential) {\n  for (const entry of AzureDevopsCredentialFieldMap.entries()) {\n    const [kind, requiredFields] = entry;\n    const forbiddenFields = AzureDevOpsCredentialFields.filter(\n      (field) => !requiredFields.includes(field)\n    );\n    if (requiredFields.every((field) => credential[field] !== void 0) && forbiddenFields.every((field) => credential[field] === void 0)) {\n      return {\n        kind,\n        organizations: credential.organizations,\n        ...requiredFields.reduce((acc, field) => {\n          acc[field] = credential[field];\n          return acc;\n        }, {})\n      };\n    }\n  }\n  throw new Error(\"is not a valid credential\");\n}\nfunction readAzureIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? AZURE_HOST;\n  let credentialConfigs = config.getOptionalConfigArray(\"credentials\")?.map((credential) => {\n    const result = {\n      organizations: credential.getOptionalStringArray(\"organizations\"),\n      personalAccessToken: credential.getOptionalString(\"personalAccessToken\")?.trim(),\n      tenantId: credential.getOptionalString(\"tenantId\"),\n      clientId: credential.getOptionalString(\"clientId\"),\n      clientSecret: credential.getOptionalString(\"clientSecret\")?.trim()\n    };\n    return result;\n  });\n  const token = config.getOptionalString(\"token\")?.trim();\n  if (config.getOptional(\"credential\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'credential' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (config.getOptional(\"token\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'token' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (token !== void 0) {\n    const mapped = [{ personalAccessToken: token }];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (config.getOptional(\"credential\") !== void 0) {\n    const mapped = [\n      {\n        organizations: config.getOptionalStringArray(\n          \"credential.organizations\"\n        ),\n        token: config.getOptionalString(\"credential.token\")?.trim(),\n        tenantId: config.getOptionalString(\"credential.tenantId\"),\n        clientId: config.getOptionalString(\"credential.clientId\"),\n        clientSecret: config.getOptionalString(\"credential.clientSecret\")?.trim()\n      }\n    ];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Azure integration config, '${host}' is not a valid host`\n    );\n  }\n  let credentials = void 0;\n  if (credentialConfigs !== void 0) {\n    const errors = credentialConfigs?.reduce((acc, credentialConfig, index) => {\n      let error = void 0;\n      try {\n        asAzureDevOpsCredential(credentialConfig);\n      } catch (e) {\n        error = e.message;\n      }\n      if (error !== void 0) {\n        acc.push(`credential at position ${index + 1} ${error}`);\n      }\n      return acc;\n    }, Array.of()).concat(\n      Object.entries(\n        credentialConfigs.filter(\n          (credential) => credential.organizations !== void 0 && credential.organizations.length > 0\n        ).reduce((acc, credential, index) => {\n          credential.organizations?.forEach((organization) => {\n            if (!acc[organization]) {\n              acc[organization] = [];\n            }\n            acc[organization].push(index + 1);\n          });\n          return acc;\n        }, {})\n      ).filter(([_, indexes]) => indexes.length > 1).reduce((acc, [org, indexes]) => {\n        acc.push(\n          `organization ${org} is specified multiple times in credentials at positions ${indexes.slice(0, indexes.length - 1).join(\", \")} and ${indexes[indexes.length - 1]}`\n        );\n        return acc;\n      }, Array.of())\n    );\n    if (errors?.length > 0) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}: ${errors.join(\"; \")}`\n      );\n    }\n    credentials = credentialConfigs.map(\n      (credentialConfig) => asAzureDevOpsCredential(credentialConfig)\n    );\n    if (credentials.some(\n      (credential) => credential.kind !== \"PersonalAccessToken\"\n    ) && host !== AZURE_HOST) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, only personal access tokens can be used with hosts other than ${AZURE_HOST}`\n      );\n    }\n    if (credentials.filter(\n      (credential) => credential.organizations === void 0 || credential.organizations.length === 0\n    ).length > 1) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, you cannot specify multiple credentials without organizations`\n      );\n    }\n  }\n  return {\n    host,\n    credentials,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readAzureIntegrationConfigs(configs) {\n  const result = configs.map(readAzureIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({ host: AZURE_HOST });\n  }\n  return result;\n}\n\nexport { readAzureIntegrationConfig, readAzureIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, isValidUrl } from '../helpers.esm.js';\nimport { AzureUrl } from './AzureUrl.esm.js';\nimport { readAzureIntegrationConfigs } from './config.esm.js';\n\nclass AzureIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAzureIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.azure\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AzureIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"azure\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  /*\n   * Azure repo URLs on the form with a `path` query param are treated specially.\n   *\n   * Example base URL: https://dev.azure.com/organization/project/_git/repository?path=%2Fcatalog-info.yaml\n   */\n  resolveUrl(options) {\n    const { url, base } = options;\n    if (isValidUrl(url)) {\n      return url;\n    }\n    try {\n      const azureUrl = AzureUrl.fromRepoUrl(base);\n      const newUrl = new URL(base);\n      const mockBaseUrl = new URL(`https://a.com${azureUrl.getPath() ?? \"\"}`);\n      const updatedPath = new URL(url, mockBaseUrl).pathname;\n      newUrl.searchParams.set(\"path\", updatedPath);\n      if (options.lineNumber) {\n        newUrl.searchParams.set(\"line\", String(options.lineNumber));\n        newUrl.searchParams.set(\"lineEnd\", String(options.lineNumber + 1));\n        newUrl.searchParams.set(\"lineStartColumn\", \"1\");\n        newUrl.searchParams.set(\"lineEndColumn\", \"1\");\n      }\n      return newUrl.toString();\n    } catch {\n      return new URL(url, base).toString();\n    }\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AzureIntegration };\n//# sourceMappingURL=AzureIntegration.esm.js.map\n","const BITBUCKET_CLOUD_HOST = \"bitbucket.org\";\nconst BITBUCKET_CLOUD_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketCloudIntegrationConfig(config) {\n  const host = BITBUCKET_CLOUD_HOST;\n  const apiBaseUrl = BITBUCKET_CLOUD_API_BASE_URL;\n  const username = config.getString(\"username\");\n  const appPassword = config.getString(\"appPassword\")?.trim();\n  return {\n    host,\n    apiBaseUrl,\n    username,\n    appPassword,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketCloudIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketCloudIntegrationConfig);\n  if (result.length === 0) {\n    result.push({\n      host: BITBUCKET_CLOUD_HOST,\n      apiBaseUrl: BITBUCKET_CLOUD_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketCloudIntegrationConfig, readBitbucketCloudIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketCloudIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketCloudIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketCloudIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketCloudIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketCloud\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = `lines-${options.lineNumber}`;\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketCloudIntegration };\n//# sourceMappingURL=BitbucketCloudIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst BITBUCKET_HOST = \"bitbucket.org\";\nconst BITBUCKET_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? BITBUCKET_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === BITBUCKET_HOST) {\n    apiBaseUrl = BITBUCKET_API_BASE_URL;\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    appPassword,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketIntegrationConfig);\n  if (!result.some((c) => c.host === BITBUCKET_HOST)) {\n    result.push({\n      host: BITBUCKET_HOST,\n      apiBaseUrl: BITBUCKET_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketIntegrationConfig, readBitbucketIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucket\") ?? [\n        // if integrations.bitbucket was not used assume the use was migrated to the new configs\n        // and backport for the deprecated integration to be usable for other parts of the system\n        // until these got migrated\n        ...config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? [],\n        ...config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n      ]\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucket\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (!options.lineNumber) {\n      return resolved;\n    }\n    const url = new URL(resolved);\n    if (this.integrationConfig.host === \"bitbucket.org\") {\n      url.hash = `lines-${options.lineNumber}`;\n    } else {\n      url.hash = `${options.lineNumber}`;\n    }\n    return url.toString();\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"spa\", \"0\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketIntegration };\n//# sourceMappingURL=BitbucketIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nfunction readBitbucketServerIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket Server integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketServerIntegrationConfigs(configs) {\n  return configs.map(readBitbucketServerIntegrationConfig);\n}\n\nexport { readBitbucketServerIntegrationConfig, readBitbucketServerIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketServerIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketServerIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketServerIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketServerIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketServer\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = options.lineNumber.toString();\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    if (url.includes(\"?\")) {\n      return url.substring(0, url.indexOf(\"?\"));\n    }\n    return url;\n  }\n}\n\nexport { BitbucketServerIntegration };\n//# sourceMappingURL=BitbucketServerIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGerritIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  let cloneUrl = config.getOptionalString(\"cloneUrl\");\n  let gitilesBaseUrl = config.getString(\"gitilesBaseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  } else if (cloneUrl && !isValidUrl(cloneUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${cloneUrl}' is not a valid cloneUrl`\n    );\n  } else if (!isValidUrl(gitilesBaseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${gitilesBaseUrl}' is not a valid gitilesBaseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (gitilesBaseUrl) {\n    gitilesBaseUrl = trimEnd(gitilesBaseUrl, \"/\");\n  } else {\n    gitilesBaseUrl = `https://${host}`;\n  }\n  if (cloneUrl) {\n    cloneUrl = trimEnd(cloneUrl, \"/\");\n  } else {\n    cloneUrl = baseUrl;\n  }\n  return {\n    host,\n    baseUrl,\n    cloneUrl,\n    gitilesBaseUrl,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readGerritIntegrationConfigs(configs) {\n  return configs.map(readGerritIntegrationConfig);\n}\n\nexport { readGerritIntegrationConfig, readGerritIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { trimStart, takeWhile, join, trimEnd } from 'lodash';\n\nconst GERRIT_BODY_PREFIX = \")]}'\";\nfunction parseGerritGitilesUrl(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\");\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectEndIndex = parts.indexOf(\"+\");\n  if (projectEndIndex <= 0) {\n    throw new Error(`Unable to parse project from url: ${url}`);\n  }\n  const project = trimStart(parts.slice(0, projectEndIndex).join(\"/\"), \"/\");\n  const branchIndex = parts.indexOf(\"heads\");\n  if (branchIndex <= 0) {\n    throw new Error(`Unable to parse branch from url: ${url}`);\n  }\n  const branch = parts[branchIndex + 1];\n  const filePath = parts.slice(branchIndex + 2).join(\"/\");\n  return {\n    branch,\n    filePath: filePath === \"\" ? \"/\" : filePath,\n    project\n  };\n}\nfunction parseGitilesUrlRef(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = trimStart(\n    urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\"),\n    \"/\"\n  );\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectParts = takeWhile(parts, (p) => p !== \"+\");\n  if (projectParts.length === 0) {\n    throw new Error(`Unable to parse gitiles url: ${url}`);\n  }\n  const rest = parts.slice(projectParts.length + 1);\n  const project = join(projectParts, \"/\");\n  if (rest.length > 0 && rest[0] === \"HEAD\") {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"head\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  if (rest.length > 0 && rest[0].length === 40) {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"sha\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  const remainingPath = join(rest, \"/\");\n  const refsRegexp = /^refs\\/(?<refsReference>heads|tags)\\/(?<ref>.*?)(\\/|$)/;\n  const result = refsRegexp.exec(remainingPath);\n  if (result) {\n    const matchString = result[0];\n    let refType;\n    const { refsReference, ref } = result.groups || {};\n    const path = remainingPath.replace(matchString, \"\");\n    switch (refsReference) {\n      case \"heads\":\n        refType = \"branch\";\n        break;\n      case \"tags\":\n        refType = \"tag\";\n        break;\n      default:\n        throw new Error(`Unable to parse gitiles url: ${url}`);\n    }\n    return {\n      project,\n      ref,\n      refType,\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  throw new Error(`Unable to parse gitiles : ${url}`);\n}\nfunction buildGerritGitilesArchiveUrl(config, project, branch, filePath) {\n  const archiveName = filePath === \"/\" || filePath === \"\" ? \".tar.gz\" : `/${filePath}.tar.gz`;\n  return `${getGitilesAuthenticationUrl(\n    config\n  )}/${project}/+archive/refs/heads/${branch}${archiveName}`;\n}\nfunction buildGerritGitilesArchiveUrlFromLocation(config, url) {\n  const {\n    path: filePath,\n    ref,\n    project,\n    refType\n  } = parseGitilesUrlRef(config, url);\n  const archiveName = filePath === \"/\" || filePath === \"\" ? \".tar.gz\" : `/${filePath}.tar.gz`;\n  if (refType === \"branch\") {\n    return `${getGitilesAuthenticationUrl(\n      config\n    )}/${project}/+archive/refs/heads/${ref}${archiveName}`;\n  }\n  if (refType === \"sha\") {\n    return `${getGitilesAuthenticationUrl(\n      config\n    )}/${project}/+archive/${ref}${archiveName}`;\n  }\n  throw new Error(`Unsupported gitiles ref type: ${refType}`);\n}\nfunction getAuthenticationPrefix(config) {\n  return config.password ? \"/a/\" : \"/\";\n}\nfunction getGitilesAuthenticationUrl(config) {\n  if (!config.baseUrl || !config.gitilesBaseUrl) {\n    throw new Error(\n      \"Unexpected Gerrit config values. baseUrl or gitilesBaseUrl not set.\"\n    );\n  }\n  if (config.gitilesBaseUrl.startsWith(config.baseUrl)) {\n    return config.gitilesBaseUrl.replace(\n      config.baseUrl.concat(\"/\"),\n      config.baseUrl.concat(getAuthenticationPrefix(config))\n    );\n  }\n  if (config.password) {\n    throw new Error(\n      \"Since the baseUrl (Gerrit) is not part of the gitilesBaseUrl, an authentication URL could not be constructed.\"\n    );\n  }\n  return config.gitilesBaseUrl;\n}\nfunction getGerritBranchApiUrl(config, url) {\n  const { branch, project } = parseGerritGitilesUrl(config, url);\n  return `${config.baseUrl}${getAuthenticationPrefix(\n    config\n  )}projects/${encodeURIComponent(project)}/branches/${branch}`;\n}\nfunction getGerritCloneRepoUrl(config, url) {\n  const { project } = parseGerritGitilesUrl(config, url);\n  return `${config.cloneUrl}${getAuthenticationPrefix(config)}${project}`;\n}\nfunction getGerritFileContentsApiUrl(config, url) {\n  const { ref, refType, path, project } = parseGitilesUrlRef(config, url);\n  if (refType === \"branch\") {\n    return `${config.baseUrl}${getAuthenticationPrefix(\n      config\n    )}projects/${encodeURIComponent(\n      project\n    )}/branches/${ref}/files/${encodeURIComponent(path)}/content`;\n  }\n  if (refType === \"sha\") {\n    return `${config.baseUrl}${getAuthenticationPrefix(\n      config\n    )}projects/${encodeURIComponent(\n      project\n    )}/commits/${ref}/files/${encodeURIComponent(path)}/content`;\n  }\n  throw new Error(`Unsupported gitiles ref type: ${refType}`);\n}\nfunction getGerritProjectsApiUrl(config) {\n  return `${config.baseUrl}${getAuthenticationPrefix(config)}projects/`;\n}\nfunction getGerritRequestOptions(config) {\n  const headers = {};\n  if (!config.password) {\n    return headers;\n  }\n  const buffer = Buffer.from(`${config.username}:${config.password}`, \"utf8\");\n  headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  return {\n    headers\n  };\n}\nasync function parseGerritJsonResponse(response) {\n  const responseBody = await response.text();\n  if (responseBody.startsWith(GERRIT_BODY_PREFIX)) {\n    try {\n      return JSON.parse(responseBody.slice(GERRIT_BODY_PREFIX.length));\n    } catch (ex) {\n      throw new Error(\n        `Invalid response from Gerrit: ${responseBody.slice(0, 10)} - ${ex}`\n      );\n    }\n  }\n  throw new Error(\n    `Gerrit JSON body prefix missing. Found: ${responseBody.slice(0, 10)}`\n  );\n}\n\nexport { buildGerritGitilesArchiveUrl, buildGerritGitilesArchiveUrlFromLocation, getAuthenticationPrefix, getGerritBranchApiUrl, getGerritCloneRepoUrl, getGerritFileContentsApiUrl, getGerritProjectsApiUrl, getGerritRequestOptions, getGitilesAuthenticationUrl, parseGerritGitilesUrl, parseGerritJsonResponse, parseGitilesUrlRef };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations } from '../helpers.esm.js';\nimport { readGerritIntegrationConfigs } from './config.esm.js';\nimport { parseGitilesUrlRef } from './core.esm.js';\n\nclass GerritIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGerritIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gerrit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GerritIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gerrit\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const { url, base, lineNumber } = options;\n    let updated;\n    if (url.startsWith(\"/\")) {\n      const { basePath } = parseGitilesUrlRef(this.config, base);\n      return basePath + url;\n    }\n    if (url) {\n      updated = new URL(url, base);\n    } else {\n      updated = new URL(base);\n    }\n    if (lineNumber) {\n      updated.hash = lineNumber.toString();\n    }\n    return updated.toString();\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { GerritIntegration };\n//# sourceMappingURL=GerritIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGiteaConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  return {\n    host,\n    baseUrl,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\n\nexport { readGiteaConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getGiteaEditContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/${giteaUrl.owner}/${giteaUrl.name}/_edit/${giteaUrl.ref}/${giteaUrl.path}`;\n}\nfunction getGiteaFileContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/contents/${giteaUrl.path}?ref=${giteaUrl.ref}`;\n}\nfunction getGiteaArchiveUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/archive/${giteaUrl.ref}.tar.gz`;\n}\nfunction getGiteaLatestCommitUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/git/commits/${giteaUrl.ref}`;\n}\nfunction getGiteaRequestOptions(config) {\n  const headers = {};\n  const { username, password } = config;\n  if (!password) {\n    return headers;\n  }\n  if (username) {\n    headers.Authorization = `basic ${Buffer.from(\n      `${username}:${password}`\n    ).toString(\"base64\")}`;\n  } else {\n    headers.Authorization = `token ${password}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseGiteaUrl(config, url) {\n  const baseUrl = config.baseUrl ?? `https://${config.host}`;\n  try {\n    const [_blank, owner, name, _src, _branch, ref, ...path] = url.replace(baseUrl, \"\").split(\"/\");\n    const pathWithoutSlash = path.join(\"/\").replace(/^\\//, \"\");\n    return {\n      url: baseUrl,\n      owner,\n      name,\n      ref,\n      path: pathWithoutSlash\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getGiteaArchiveUrl, getGiteaEditContentsUrl, getGiteaFileContentsUrl, getGiteaLatestCommitUrl, getGiteaRequestOptions, parseGiteaUrl };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGiteaConfig } from './config.esm.js';\nimport { getGiteaEditContentsUrl } from './core.esm.js';\n\nclass GiteaIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.gitea\") ?? [];\n    const giteaConfigs = configs.map((c) => readGiteaConfig(c));\n    return basicIntegrations(\n      giteaConfigs.map((c) => new GiteaIntegration(c)),\n      (gitea) => gitea.config.host\n    );\n  };\n  get type() {\n    return \"gitea\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getGiteaEditContentsUrl(this.config, url);\n  }\n}\n\nexport { GiteaIntegration };\n//# sourceMappingURL=GiteaIntegration.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nfunction readHarnessConfig(config) {\n  const host = config.getString(\"host\");\n  const token = config.getOptionalString(\"token\");\n  const apiKey = config.getOptionalString(\"apiKey\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Harness Code integration config, '${host}' is not a valid host`\n    );\n  }\n  return {\n    host,\n    apiKey,\n    token\n  };\n}\n\nexport { readHarnessConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getHarnessEditContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  return `${parsedUrl.baseUrl}/ng/account/${parsedUrl.accountId}/module/code${parsedUrl.orgName !== \"\" ? `/orgs/${parsedUrl.orgName}` : \"\"}${parsedUrl.projectName !== \"\" ? `/projects/${parsedUrl.projectName}` : \"\"}/repos/${parsedUrl.repoName}/files/${parsedUrl.branch}/~/${parsedUrl.path}`;\n}\nfunction getHarnessFileContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/raw/${parsedUrl.path}?routingId=${parsedUrl.accountId}&git_ref=refs/heads/${parsedUrl.refString}`;\n  return constructedUrl;\n}\nfunction getHarnessArchiveUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/archive/${parsedUrl.branch}.zip?routingId=${parsedUrl.accountId}`;\n  return constructedUrl;\n}\nfunction getHarnessLatestCommitUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/content?routingId=${parsedUrl.accountId}&include_commit=true&git_ref=refs/heads/${parsedUrl.branch}`;\n  return constructedUrl;\n}\nfunction getHarnessRequestOptions(config) {\n  const headers = {};\n  const { token, apiKey } = config;\n  if (apiKey) {\n    headers[\"x-api-key\"] = apiKey;\n  } else if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseHarnessUrl(config, url) {\n  const baseUrl = `https://${config.host}`;\n  try {\n    const pathUrl = new URL(url);\n    const pathSegments = pathUrl.pathname.split(\"/\").filter((segment) => segment !== \"\");\n    const urlParts = pathUrl.pathname.split(\"/\");\n    const accountIdIndex = pathSegments.findIndex((segment) => segment === \"account\") + 1;\n    const accountId = pathSegments[accountIdIndex];\n    const orgNameIndex = pathSegments.findIndex((segment) => segment === \"orgs\");\n    const orgName = orgNameIndex !== -1 ? pathSegments[orgNameIndex + 1] : \"\";\n    const projectNameIndex = pathSegments.findIndex(\n      (segment) => segment === \"projects\"\n    );\n    const projectName = projectNameIndex !== -1 ? pathSegments[projectNameIndex + 1] : \"\";\n    const repoNameIndex = pathSegments.findIndex(\n      (segment, index) => segment === \"repos\" && index > Math.max(accountIdIndex, orgNameIndex, projectNameIndex)\n    ) + 1;\n    const repoName = pathSegments[repoNameIndex];\n    const refAndPath = urlParts.slice(\n      urlParts.findIndex((i) => i === \"files\" || i === \"edit\") + 1\n    );\n    const refIndex = refAndPath.findIndex((item) => item === \"~\");\n    const refString = refAndPath.slice(0, refIndex).join(\"/\");\n    const pathWithoutSlash = refIndex !== -1 ? refAndPath.slice(refIndex + 1).join(\"/\").replace(/^\\//, \"\") : \"\";\n    return {\n      baseUrl,\n      accountId,\n      orgName,\n      projectName,\n      refString,\n      path: pathWithoutSlash,\n      repoName,\n      refDashStr: refAndPath.slice(0, refIndex).join(\"-\"),\n      branch: refIndex !== -1 ? refAndPath.slice(0, refIndex).join(\"/\") : refAndPath.join(\"/\")\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getHarnessArchiveUrl, getHarnessEditContentsUrl, getHarnessFileContentsUrl, getHarnessLatestCommitUrl, getHarnessRequestOptions, parseHarnessUrl };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readHarnessConfig } from './config.esm.js';\nimport { getHarnessEditContentsUrl } from './core.esm.js';\n\nclass HarnessIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.harness\") ?? [];\n    const harnessConfigs = configs.map((c) => readHarnessConfig(c));\n    return basicIntegrations(\n      harnessConfigs.map((c) => new HarnessIntegration(c)),\n      (harness) => harness.config.host\n    );\n  };\n  get type() {\n    return \"harness\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getHarnessEditContentsUrl(this.config, url);\n  }\n}\n\nexport { HarnessIntegration };\n//# sourceMappingURL=HarnessIntegration.esm.js.map\n","const AZURE_HOST = \"blob.core.windows.net\";\nfunction readAzureBlobStorageIntegrationConfig(config) {\n  const endpoint = config.getOptionalString(\"endpoint\");\n  const accountName = config.getString(\"accountName\");\n  const accountKey = config.getOptionalString(\"accountKey\")?.trim();\n  const sasToken = config.getOptionalString(\"sasToken\")?.trim();\n  const connectionString = config.getOptionalString(\"connectionString\")?.trim();\n  const endpointSuffix = config.getOptionalString(\"endpointSuffix\")?.trim();\n  let host;\n  let pathname;\n  if (endpoint) {\n    try {\n      const url = new URL(endpoint);\n      host = url.host;\n      pathname = url.pathname;\n    } catch {\n      throw new Error(\n        `invalid azureBlobStorage integration config, endpoint '${endpoint}' is not a valid URL`\n      );\n    }\n    if (pathname !== \"/\") {\n      throw new Error(\n        `invalid azureBlobStorage integration config, endpoints cannot contain path, got '${endpoint}'`\n      );\n    }\n  } else {\n    host = AZURE_HOST;\n  }\n  const aadCredential = config.has(\"aadCredential\") ? {\n    clientId: config.getString(\"aadCredential.clientId\"),\n    tenantId: config.getString(\"aadCredential.tenantId\"),\n    clientSecret: config.getString(\"aadCredential.clientSecret\")?.trim()\n  } : void 0;\n  if (accountKey && sasToken) {\n    throw new Error(\n      `Invalid Azure Blob Storage config for ${accountName}: Both account key and SAS token cannot be used simultaneously.`\n    );\n  }\n  if (aadCredential && (accountKey || sasToken)) {\n    throw new Error(\n      `Invalid Azure Blob Storage config for ${accountName}: Cannot use both Azure AD credentials and account keys/SAS tokens for the same account.`\n    );\n  }\n  return {\n    host,\n    endpoint,\n    accountName,\n    accountKey,\n    sasToken,\n    connectionString,\n    endpointSuffix,\n    aadCredential\n  };\n}\nfunction readAzureBlobStorageIntegrationConfigs(configs) {\n  const result = configs.map(readAzureBlobStorageIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({\n      host: AZURE_HOST\n    });\n  }\n  return result;\n}\n\nexport { readAzureBlobStorageIntegrationConfig, readAzureBlobStorageIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAzureBlobStorageIntegrationConfigs } from './config.esm.js';\n\nclass AzureBlobStorageIntergation {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readAzureBlobStorageIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.azureBlobStorage\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AzureBlobStorageIntergation(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"azureBlobStorage\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AzureBlobStorageIntergation };\n//# sourceMappingURL=AzureBlobStorageIntegration.esm.js.map\n","import { AwsS3Integration } from './awsS3/AwsS3Integration.esm.js';\nimport { AwsCodeCommitIntegration } from './awsCodeCommit/AwsCodeCommitIntegration.esm.js';\nimport { AzureIntegration } from './azure/AzureIntegration.esm.js';\nimport { BitbucketCloudIntegration } from './bitbucketCloud/BitbucketCloudIntegration.esm.js';\nimport { BitbucketIntegration } from './bitbucket/BitbucketIntegration.esm.js';\nimport { BitbucketServerIntegration } from './bitbucketServer/BitbucketServerIntegration.esm.js';\nimport { GerritIntegration } from './gerrit/GerritIntegration.esm.js';\nimport { GithubIntegration } from './github/GithubIntegration.esm.js';\nimport { GitLabIntegration } from './gitlab/GitLabIntegration.esm.js';\nimport { defaultScmResolveUrl } from './helpers.esm.js';\nimport { GiteaIntegration } from './gitea/GiteaIntegration.esm.js';\nimport 'lodash';\nimport { HarnessIntegration } from './harness/HarnessIntegration.esm.js';\nimport { AzureBlobStorageIntergation } from './azureBlobStorage/AzureBlobStorageIntegration.esm.js';\nimport '@azure/identity';\n\nclass ScmIntegrations {\n  byType;\n  static fromConfig(config) {\n    return new ScmIntegrations({\n      awsS3: AwsS3Integration.factory({ config }),\n      awsCodeCommit: AwsCodeCommitIntegration.factory({ config }),\n      azureBlobStorage: AzureBlobStorageIntergation.factory({ config }),\n      azure: AzureIntegration.factory({ config }),\n      bitbucket: BitbucketIntegration.factory({ config }),\n      bitbucketCloud: BitbucketCloudIntegration.factory({ config }),\n      bitbucketServer: BitbucketServerIntegration.factory({ config }),\n      gerrit: GerritIntegration.factory({ config }),\n      github: GithubIntegration.factory({ config }),\n      gitlab: GitLabIntegration.factory({ config }),\n      gitea: GiteaIntegration.factory({ config }),\n      harness: HarnessIntegration.factory({ config })\n    });\n  }\n  constructor(integrationsByType) {\n    this.byType = integrationsByType;\n  }\n  get awsS3() {\n    return this.byType.awsS3;\n  }\n  get awsCodeCommit() {\n    return this.byType.awsCodeCommit;\n  }\n  get azureBlobStorage() {\n    return this.byType.azureBlobStorage;\n  }\n  get azure() {\n    return this.byType.azure;\n  }\n  /**\n   * @deprecated in favor of `bitbucketCloud()` and `bitbucketServer()`\n   */\n  get bitbucket() {\n    return this.byType.bitbucket;\n  }\n  get bitbucketCloud() {\n    return this.byType.bitbucketCloud;\n  }\n  get bitbucketServer() {\n    return this.byType.bitbucketServer;\n  }\n  get gerrit() {\n    return this.byType.gerrit;\n  }\n  get github() {\n    return this.byType.github;\n  }\n  get gitlab() {\n    return this.byType.gitlab;\n  }\n  get gitea() {\n    return this.byType.gitea;\n  }\n  get harness() {\n    return this.byType.harness;\n  }\n  list() {\n    return Object.values(this.byType).flatMap(\n      (i) => i.list()\n    );\n  }\n  byUrl(url) {\n    let candidates = Object.values(this.byType).map((i) => i.byUrl(url)).filter(Boolean);\n    if (candidates.length > 1) {\n      const filteredCandidates = candidates.filter(\n        (x) => !(x instanceof BitbucketIntegration)\n      );\n      if (filteredCandidates.length !== 0) {\n        candidates = filteredCandidates;\n      }\n    }\n    return candidates[0];\n  }\n  byHost(host) {\n    return Object.values(this.byType).map((i) => i.byHost(host)).find(Boolean);\n  }\n  resolveUrl(options) {\n    const integration = this.byUrl(options.base);\n    if (!integration) {\n      return defaultScmResolveUrl(options);\n    }\n    return integration.resolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    const integration = this.byUrl(url);\n    if (!integration) {\n      return url;\n    }\n    return integration.resolveEditUrl(url);\n  }\n}\n\nexport { ScmIntegrations };\n//# sourceMappingURL=ScmIntegrations.esm.js.map\n","import { ScmIntegrations } from '@backstage/integration';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nclass ScmIntegrationsApi {\n  /**\n   * Instantiates an {@link @backstage/integration#ScmIntegrationRegistry}.\n   *\n   * @param config - The root of the config hierarchy.\n   */\n  static fromConfig(config) {\n    return ScmIntegrations.fromConfig(config);\n  }\n}\nconst scmIntegrationsApiRef = createApiRef({\n  id: \"integration.scmintegrations\"\n});\n\nexport { ScmIntegrationsApi, scmIntegrationsApiRef };\n//# sourceMappingURL=ScmIntegrationsApi.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { useAsyncEntity } from './useEntity.esm.js';\n\nfunction useEntityPermission(permission) {\n  const {\n    entity,\n    loading: loadingEntity,\n    error: entityError\n  } = useAsyncEntity();\n  const {\n    allowed,\n    loading: loadingPermission,\n    error: permissionError\n  } = usePermission({\n    permission,\n    resourceRef: entity ? stringifyEntityRef(entity) : void 0\n  });\n  if (loadingEntity || loadingPermission) {\n    return { loading: true, allowed: false };\n  }\n  if (entityError) {\n    return { loading: false, allowed: false, error: entityError };\n  }\n  return { loading: false, allowed, error: permissionError };\n}\n\nexport { useEntityPermission };\n//# sourceMappingURL=useEntityPermission.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { settingsRouteRef } from '../plugin.esm.js';\nimport { SidebarItem } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\n\nconst Settings = (props) => {\n  const routePath = useRouteRef(settingsRouteRef);\n  const Icon = props.icon ? props.icon : SettingsIcon;\n  return /* @__PURE__ */ jsx(SidebarItem, { text: \"Settings\", to: routePath(), icon: Icon });\n};\n\nexport { Settings };\n//# sourceMappingURL=Settings.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogTranslationRef = createTranslationRef({\n  id: \"catalog\",\n  messages: {\n    indexPage: {\n      title: `{{orgName}} Catalog`,\n      createButtonTitle: \"Create\",\n      supportButtonContent: \"All your software catalog entities\"\n    },\n    aboutCard: {\n      title: \"About\",\n      refreshButtonTitle: \"Schedule entity refresh\",\n      editButtonTitle: \"Edit Metadata\",\n      createSimilarButtonTitle: \"Create something similar\",\n      refreshScheduledMessage: \"Refresh scheduled\",\n      launchTemplate: \"Launch Template\",\n      viewTechdocs: \"View TechDocs\",\n      viewSource: \"View Source\",\n      descriptionField: {\n        label: \"Description\",\n        value: \"No description\"\n      },\n      ownerField: {\n        label: \"Owner\",\n        value: \"No Owner\"\n      },\n      domainField: {\n        label: \"Domain\",\n        value: \"No Domain\"\n      },\n      systemField: {\n        label: \"System\",\n        value: \"No System\"\n      },\n      parentComponentField: {\n        label: \"Parent Component\",\n        value: \"No Parent Component\"\n      },\n      typeField: {\n        label: \"Type\"\n      },\n      lifecycleField: {\n        label: \"Lifecycle\"\n      },\n      tagsField: {\n        label: \"Tags\",\n        value: \"No Tags\"\n      },\n      targetsField: {\n        label: \"Targets\"\n      }\n    },\n    searchResultItem: {\n      lifecycle: \"Lifecycle\",\n      Owner: \"Owner\"\n    },\n    catalogTable: {\n      warningPanelTitle: \"Could not fetch catalog entities.\",\n      viewActionTitle: \"View\",\n      editActionTitle: \"Edit\",\n      starActionTitle: \"Add to favorites\",\n      unStarActionTitle: \"Remove from favorites\"\n    },\n    dependencyOfComponentsCard: {\n      title: \"Dependency of components\",\n      emptyMessage: \"No component depends on this component\"\n    },\n    dependsOnComponentsCard: {\n      title: \"Depends on components\",\n      emptyMessage: \"No component is a dependency of this component\"\n    },\n    dependsOnResourcesCard: {\n      title: \"Depends on resources\",\n      emptyMessage: \"No resource is a dependency of this component\"\n    },\n    entityContextMenu: {\n      copiedMessage: \"Copied!\",\n      moreButtonTitle: \"More\",\n      inspectMenuTitle: \"Inspect entity\",\n      copyURLMenuTitle: \"Copy entity URL\",\n      unregisterMenuTitle: \"Unregister entity\"\n    },\n    entityLabelsCard: {\n      title: \"Labels\",\n      emptyDescription: \"No labels defined for this entity. You can add labels to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityLabels: {\n      warningPanelTitle: \"Entity not found\",\n      ownerLabel: \"Owner\",\n      lifecycleLabel: \"Lifecycle\"\n    },\n    entityLinksCard: {\n      title: \"Links\",\n      emptyDescription: \"No links defined for this entity. You can add links to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityNotFound: {\n      title: \"Entity was not found\",\n      description: \"Want to help us build this? Check out our Getting Started documentation.\",\n      docButtonTitle: \"DOCS\"\n    },\n    deleteEntity: {\n      dialogTitle: \"Are you sure you want to delete this entity?\",\n      deleteButtonTitle: \"Delete\",\n      cancelButtonTitle: \"Cancel\",\n      description: \"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete.\"\n    },\n    entityProcessingErrorsDescription: \"The error below originates from\",\n    entityRelationWarningDescription: \"This entity has relations to other entities, which can't be found in the catalog.\\n Entities not found are: \",\n    hasComponentsCard: {\n      title: \"Has components\",\n      emptyMessage: \"No component is part of this system\"\n    },\n    hasResourcesCard: {\n      title: \"Has resources\",\n      emptyMessage: \"No resource is part of this system\"\n    },\n    hasSubcomponentsCard: {\n      title: \"Has subcomponents\",\n      emptyMessage: \"No subcomponent is part of this component\"\n    },\n    hasSubdomainsCard: {\n      title: \"Has subdomains\",\n      emptyMessage: \"No subdomain is part of this domain\"\n    },\n    hasSystemsCard: {\n      title: \"Has systems\",\n      emptyMessage: \"No system is part of this domain\"\n    },\n    relatedEntitiesCard: {\n      emptyHelpLinkTitle: \"Learn how to change this\"\n    },\n    systemDiagramCard: {\n      title: \"System Diagram\",\n      description: \"Use pinch & zoom to move around the diagram.\",\n      edgeLabels: {\n        partOf: \"part of\",\n        provides: \"provides\",\n        dependsOn: \"depends on\"\n      }\n    }\n  }\n});\n\nexport { catalogTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGithubIntegrationConfigs } from './config.esm.js';\n\nclass GithubIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGithubIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.github\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GithubIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceGithubUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceGithubUrlType(url, \"edit\");\n  }\n  parseRateLimitInfo(response) {\n    return {\n      isRateLimited: response.status === 429 || response.status === 403 && response.headers.get(\"x-ratelimit-remaining\") === \"0\"\n    };\n  }\n}\nfunction replaceGithubUrlType(url, type) {\n  return url.replace(\n    /\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//,\n    (_, host, owner, repo) => {\n      return `//${host}/${owner}/${repo}/${type}/`;\n    }\n  );\n}\n\nexport { GithubIntegration, replaceGithubUrlType };\n//# sourceMappingURL=GithubIntegration.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      flexGrow: 0,\n      margin: theme.spacing(0, 2),\n      color: theme.palette.navigation.color\n    },\n    selected: (props) => ({\n      color: `${theme.palette.navigation.selectedColor}!important`,\n      borderTop: `solid ${props.sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n      marginTop: \"-1px\"\n    }),\n    label: {\n      display: \"none\"\n    }\n  })\n);\nconst MobileSidebarGroup = (props) => {\n  const { to, label, icon, value } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const { selectedMenuItemIndex, setSelectedMenuItemIndex } = useContext(MobileSidebarContext);\n  const onChange = (_, value2) => {\n    if (value2 === selectedMenuItemIndex) {\n      setSelectedMenuItemIndex(-1);\n    } else {\n      setSelectedMenuItemIndex(value2);\n    }\n  };\n  const selected = value === selectedMenuItemIndex && selectedMenuItemIndex >= 0 || !(value === selectedMenuItemIndex) && !(selectedMenuItemIndex >= 0) && to === location.pathname;\n  return (\n    // Material UI issue: https://github.com/mui-org/material-ui/issues/27820\n    /* @__PURE__ */ jsx(\n      BottomNavigationAction,\n      {\n        \"aria-label\": label,\n        label,\n        icon,\n        component: Link,\n        to: to ? to : location.pathname,\n        onChange,\n        value,\n        selected,\n        classes\n      }\n    )\n  );\n};\nconst SidebarGroup = (props) => {\n  const { children, to, label, icon, value } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ jsx(MobileSidebarGroup, { to, label, icon, value }) : /* @__PURE__ */ jsx(Fragment, { children });\n};\n\nexport { SidebarGroup };\n//# sourceMappingURL=SidebarGroup.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst RepoBranchPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n);\nconst RepoBranchPickerSchema = RepoBranchPickerFieldSchema.schema;\n\nexport { RepoBranchPickerFieldSchema, RepoBranchPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nimport { isError } from '@backstage/errors';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useItemStyles = makeStyles(\n  (theme) => ({\n    root: {\n      paddingLeft: theme.spacing(3)\n    }\n  }),\n  { name: \"BackstageLoginRequestListItem\" }\n);\nconst LoginRequestListItem = ({ request, busy, setBusy }) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(isError(e) ? e.message : \"An unspecified error occurred\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  return /* @__PURE__ */ jsxs(ListItem, { disabled: busy, classes: { root: classes.root }, children: [\n    /* @__PURE__ */ jsx(ListItemAvatar, { children: /* @__PURE__ */ jsx(IconComponent, { fontSize: \"large\" }) }),\n    /* @__PURE__ */ jsx(\n      ListItemText,\n      {\n        primary: request.provider.title,\n        secondary: error && /* @__PURE__ */ jsx(Typography, { color: \"error\", children: error })\n      }\n    ),\n    /* @__PURE__ */ jsx(Button, { color: \"primary\", variant: \"contained\", onClick: handleContinue, children: t(\"oauthRequestDialog.login\") })\n  ] });\n};\n\nexport { LoginRequestListItem as default };\n//# sourceMappingURL=LoginRequestListItem.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport Button from '@material-ui/core/Button';\nimport { useState, useMemo } from 'react';\nimport useObservable from 'react-use/esm/useObservable';\nimport LoginRequestListItem from './LoginRequestListItem.esm.js';\nimport { useApi, oauthRequestApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport Typography from '@material-ui/core/Typography';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    dialog: {\n      paddingTop: theme.spacing(1)\n    },\n    title: {\n      minWidth: 0\n    },\n    titleHeading: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    contentList: {\n      padding: 0\n    },\n    actionButtons: {\n      padding: theme.spacing(2, 0)\n    }\n  }),\n  { name: \"OAuthRequestDialog\" }\n);\nfunction OAuthRequestDialog(_props) {\n  const classes = useStyles();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const authRedirect = configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false;\n  const requests = useObservable(\n    useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]),\n    []\n  );\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ jsxs(\n    Dialog,\n    {\n      open: Boolean(requests.length),\n      fullWidth: true,\n      maxWidth: \"xs\",\n      classes: { paper: classes.dialog },\n      \"aria-labelledby\": \"oauth-req-dialog-title\",\n      children: [\n        /* @__PURE__ */ jsxs(\"main\", { children: [\n          /* @__PURE__ */ jsxs(\n            DialogTitle,\n            {\n              classes: { root: classes.title },\n              id: \"oauth-req-dialog-title\",\n              children: [\n                /* @__PURE__ */ jsx(\n                  Typography,\n                  {\n                    className: classes.titleHeading,\n                    variant: \"h1\",\n                    variantMapping: { h1: \"span\" },\n                    children: t(\"oauthRequestDialog.title\")\n                  }\n                ),\n                authRedirect ? /* @__PURE__ */ jsx(Typography, { children: t(\"oauthRequestDialog.authRedirectTitle\") }) : null\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogContent, { dividers: true, classes: { root: classes.contentList }, children: /* @__PURE__ */ jsx(List, { children: requests.map((request) => /* @__PURE__ */ jsx(\n            LoginRequestListItem,\n            {\n              request,\n              busy,\n              setBusy\n            },\n            request.provider.title\n          )) }) })\n        ] }),\n        /* @__PURE__ */ jsx(DialogActions, { classes: { root: classes.actionButtons }, children: /* @__PURE__ */ jsx(Button, { onClick: handleRejectAll, children: t(\"oauthRequestDialog.rejectAll\") }) })\n      ]\n    }\n  );\n}\n\nexport { OAuthRequestDialog };\n//# sourceMappingURL=OAuthRequestDialog.esm.js.map\n","var Direction = /* @__PURE__ */ ((Direction2) => {\n  Direction2[\"TOP_BOTTOM\"] = \"TB\";\n  Direction2[\"BOTTOM_TOP\"] = \"BT\";\n  Direction2[\"LEFT_RIGHT\"] = \"LR\";\n  Direction2[\"RIGHT_LEFT\"] = \"RL\";\n  return Direction2;\n})(Direction || {});\n\nexport { Direction };\n//# sourceMappingURL=types.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { useRoutes } from 'react-router-dom';\nimport { attachComponentData, useApp, useElementFilter } from '@backstage/core-plugin-api';\nimport { isReactRouterBeta } from '../app/isReactRouterBeta.esm.js';\n\nlet warned = false;\nconst FlatRoutes = (props) => {\n  const app = useApp();\n  const { NotFoundErrorPage } = app.getComponents();\n  const isBeta = useMemo(() => isReactRouterBeta(), []);\n  const routes = useElementFilter(\n    props.children,\n    (elements) => elements.getElements().flatMap((child) => {\n      let path = child.props.path;\n      if (path === \"\") {\n        return [];\n      }\n      path = path?.replace(/\\/\\*$/, \"\") ?? \"/\";\n      let element = isBeta ? child : child.props.element;\n      if (!isBeta && !element) {\n        element = child;\n        if (!warned && process.env.NODE_ENV !== \"test\") {\n          console.warn(\n            \"DEPRECATION WARNING: All elements within <FlatRoutes> must be of type <Route> with an element prop. Existing usages of <Navigate key=[path] to=[to] /> should be replaced with <Route path=[path] element={<Navigate to=[to] />} />.\"\n          );\n          warned = true;\n        }\n      }\n      return [\n        {\n          // Each route matches any sub route, except for the explicit root path\n          path,\n          element,\n          children: child.props.children ? [\n            // These are the children of each route, which we all add in under a catch-all\n            // subroute in order to make them available to `useOutlet`\n            {\n              path: path === \"/\" ? \"/\" : \"*\",\n              // The root path must require an exact match\n              element: child.props.children\n            }\n          ] : void 0\n        }\n      ];\n    }).sort((a, b) => b.path.localeCompare(a.path)).map((obj) => ({ ...obj, path: obj.path === \"/\" ? \"/\" : `${obj.path}/*` }))\n  );\n  const withNotFound = [\n    ...routes,\n    {\n      path: \"*\",\n      element: /* @__PURE__ */ jsx(NotFoundErrorPage, {})\n    }\n  ];\n  return useRoutes(withNotFound);\n};\nattachComponentData(FlatRoutes, \"core.type\", \"FlatRoutes\");\n\nexport { FlatRoutes };\n//# sourceMappingURL=FlatRoutes.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst discoveryApiRef = createApiRef({\n  id: \"core.discovery\"\n});\n\nexport { discoveryApiRef };\n//# sourceMappingURL=DiscoveryApi.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { useTheme } from '@material-ui/core/styles';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ jsxs(Box, { position: \"relative\", children: [\n    /* @__PURE__ */ jsx(\n      LightAsync,\n      {\n        customStyle,\n        language,\n        style: mode,\n        showLineNumbers,\n        wrapLines: true,\n        lineNumberStyle: { color: theme.palette.textVerySubtle },\n        lineProps: (lineNumber) => highlightedNumbers?.includes(lineNumber) ? {\n          style: {\n            backgroundColor: highlightColor\n          }\n        } : {},\n        children: text\n      }\n    ),\n    showCopyCodeButton && /* @__PURE__ */ jsx(Box, { position: \"absolute\", top: 0, right: 0, children: /* @__PURE__ */ jsx(CopyTextButton, { text }) })\n  ] });\n}\n\nexport { CodeSnippet };\n//# sourceMappingURL=CodeSnippet.esm.js.map\n","import { KubernetesValidatorFunctions } from '@backstage/catalog-model';\n\nconst entityNamePickerValidation = (value, validation) => {\n  if (!KubernetesValidatorFunctions.isValidObjectName(value)) {\n    validation.addError(\n      \"Must start and end with an alphanumeric character, and contain only alphanumeric characters, hyphens, underscores, and periods. Maximum length is 63 characters.\"\n    );\n  }\n};\n\nexport { entityNamePickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useParams, useRoutes, matchRoutes } from 'react-router-dom';\nimport { Content } from '../../layout/Content/Content.esm.js';\nimport { HeaderTabs } from '../../layout/HeaderTabs/HeaderTabs.esm.js';\nimport { Link } from '../Link/Link.esm.js';\n\nfunction useSelectedSubRoute(subRoutes) {\n  const params = useParams();\n  const routes = subRoutes.map(({ path, children }) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const sortedRoutes = routes.sort(\n    (a, b) => (\n      // remove \"/*\" symbols from path end before comparing\n      b.path.replace(/\\/\\*$/, \"\").localeCompare(a.path.replace(/\\/\\*$/, \"\"))\n    )\n  );\n  const element = useRoutes(sortedRoutes) ?? subRoutes[0]?.children;\n  let currentRoute = params[\"*\"] ?? \"\";\n  if (!currentRoute.startsWith(\"/\")) {\n    currentRoute = `/${currentRoute}`;\n  }\n  const [matchedRoute] = matchRoutes(sortedRoutes, currentRoute) ?? [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: subRoutes[foundIndex] ?? subRoutes[0]\n  };\n}\nfunction RoutedTabs(props) {\n  const { routes } = props;\n  const { index, route, element } = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(\n    () => routes.map((t) => {\n      const { path, title, tabProps } = t;\n      let to = path;\n      to = to.replace(/\\/\\*$/, \"\");\n      to = to.replace(/^\\//, \"\");\n      return {\n        id: path,\n        label: title,\n        tabProps: {\n          component: Link,\n          to,\n          ...tabProps\n        }\n      };\n    }),\n    [routes]\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(HeaderTabs, { tabs: headerTabs, selectedIndex: index }),\n    /* @__PURE__ */ jsxs(Content, { children: [\n      /* @__PURE__ */ jsx(Helmet, { title: route?.title }),\n      element\n    ] })\n  ] });\n}\n\nexport { RoutedTabs, useSelectedSubRoute };\n//# sourceMappingURL=RoutedTabs.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport useAsync from 'react-use/esm/useAsync';\nimport { isFunction } from 'lodash';\nimport { Progress, ResponseErrorPanel, EmptyState } from '@backstage/core-components';\nimport { useApi, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../../api.esm.js';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { SearchResultListItemExtensions } from '../../extensions.esm.js';\n\nconst SearchResultContext = (props) => {\n  const { children } = props;\n  const context = useSearch();\n  const { result: state, ...query } = context;\n  return children(state, query);\n};\nconst SearchResultApi = (props) => {\n  const { query, children } = props;\n  const searchApi = useApi(searchApiRef);\n  const state = useAsync(() => {\n    const { term = \"\", types = [], filters = {}, ...rest } = query;\n    return searchApi.query({ ...rest, term, types, filters });\n  }, [query]);\n  return children(state, query);\n};\nconst SearchResultState = (props) => {\n  const { query, children } = props;\n  return query ? /* @__PURE__ */ jsx(SearchResultApi, { query, children }) : /* @__PURE__ */ jsx(SearchResultContext, { children });\n};\nconst SearchResultComponent = (props) => {\n  const {\n    query,\n    children,\n    noResultsComponent = /* @__PURE__ */ jsx(EmptyState, { missing: \"data\", title: \"Sorry, no results were found\" }),\n    ...rest\n  } = props;\n  return /* @__PURE__ */ jsx(SearchResultState, { query, children: ({ loading, error, value }) => {\n    if (loading) {\n      return /* @__PURE__ */ jsx(Progress, {});\n    }\n    if (error) {\n      return /* @__PURE__ */ jsx(\n        ResponseErrorPanel,\n        {\n          title: \"Error encountered while fetching search results\",\n          error\n        }\n      );\n    }\n    if (!value?.results.length) {\n      return noResultsComponent;\n    }\n    if (isFunction(children)) {\n      return children(value);\n    }\n    return /* @__PURE__ */ jsx(SearchResultListItemExtensions, { ...rest, results: value.results, children });\n  } });\n};\nconst SearchResult = (props) => /* @__PURE__ */ jsx(\n  AnalyticsContext,\n  {\n    attributes: {\n      pluginId: \"search\",\n      extension: \"SearchResult\"\n    },\n    children: /* @__PURE__ */ jsx(SearchResultComponent, { ...props })\n  }\n);\n\nexport { SearchResult, SearchResultApi, SearchResultComponent, SearchResultContext, SearchResultState };\n//# sourceMappingURL=SearchResult.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst scaffolderApiRef = createApiRef({\n  id: \"plugin.scaffolder.service\"\n});\n\nexport { scaffolderApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst MyGroupsPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    title: z.string().default(\"Group\").describe(\"Group\"),\n    description: z.string().default(\"A group you are part of\").describe(\"The group to which the entity belongs\")\n  })\n);\nconst MyGroupsPickerSchema = MyGroupsPickerFieldSchema.schema;\n\nexport { MyGroupsPickerFieldSchema, MyGroupsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\nimport { entityQueryFilterExpressionSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnerPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).default([\"Group\", \"User\"]).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from. Defaults to Group and User\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst OwnerPickerSchema = OwnerPickerFieldSchema.schema;\n\nexport { OwnerPickerFieldSchema, OwnerPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useLocalStorageValue } from '@react-hookz/web';\nimport { withStyles, Button } from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst NESTED_LIST_TOGGLE = \".md-nav__item--nested .md-toggle\";\nconst EXPANDABLE_NAVIGATION_LOCAL_STORAGE = \"@backstage/techdocs-addons/nav-expanded\";\nconst StyledButton = withStyles({\n  root: {\n    position: \"absolute\",\n    left: \"13.7rem\",\n    // Sidebar inner width (15.1em) minus the different margins/paddings\n    top: \"19px\",\n    zIndex: 2,\n    padding: 0,\n    minWidth: 0\n  }\n})(Button);\nconst CollapsedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ChevronRightIcon);\nconst ExpandedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ExpandMoreIcon);\nconst ExpandableNavigationAddon = () => {\n  const defaultValue = { expandAllNestedNavs: false };\n  const { value: expanded, set: setExpanded } = useLocalStorageValue(\n    EXPANDABLE_NAVIGATION_LOCAL_STORAGE,\n    { defaultValue }\n  );\n  const [hasNavSubLevels, setHasNavSubLevels] = useState(false);\n  const [...checkboxToggles] = useShadowRootElements([\n    NESTED_LIST_TOGGLE\n  ]);\n  const shouldToggle = useCallback(\n    (item) => {\n      const isExpanded = item.checked;\n      const shouldExpand = expanded?.expandAllNestedNavs;\n      if (shouldExpand && !isExpanded) {\n        return true;\n      }\n      if (!shouldExpand && isExpanded) {\n        return true;\n      }\n      return false;\n    },\n    [expanded]\n  );\n  useEffect(() => {\n    if (!checkboxToggles?.length) return;\n    setHasNavSubLevels(true);\n    checkboxToggles.forEach((item) => {\n      if (shouldToggle(item)) item.click();\n    });\n  }, [expanded, shouldToggle, checkboxToggles]);\n  const handleState = () => {\n    setExpanded((prevState) => ({\n      expandAllNestedNavs: !prevState?.expandAllNestedNavs\n    }));\n  };\n  return /* @__PURE__ */ jsx(Fragment, { children: hasNavSubLevels ? /* @__PURE__ */ jsx(\n    StyledButton,\n    {\n      size: \"small\",\n      onClick: handleState,\n      \"aria-label\": expanded?.expandAllNestedNavs ? \"collapse-nav\" : \"expand-nav\",\n      children: expanded?.expandAllNestedNavs ? /* @__PURE__ */ jsx(ExpandedIcon, {}) : /* @__PURE__ */ jsx(CollapsedIcon, {})\n    }\n  ) : null });\n};\n\nexport { ExpandableNavigationAddon };\n//# sourceMappingURL=ExpandableNavigation.esm.js.map\n","const ADDON_FEEDBACK_CONTAINER_ID = \"techdocs-report-issue\";\nconst ADDON_FEEDBACK_CONTAINER_SELECTOR = `#${ADDON_FEEDBACK_CONTAINER_ID}`;\nconst ADDON_ISSUE_REPO_TYPES_SUPPORTED = [\"github\", \"gitlab\"];\nconst PAGE_EDIT_LINK_SELECTOR = '[title^=\"Edit this page\"]';\nconst PAGE_FEEDBACK_LINK_SELECTOR = '[title^=\"Leave feedback for\"]';\nconst PAGE_MAIN_CONTENT_SELECTOR = '[data-md-component=\"main\"] .md-content';\n\nexport { ADDON_FEEDBACK_CONTAINER_ID, ADDON_FEEDBACK_CONTAINER_SELECTOR, ADDON_ISSUE_REPO_TYPES_SUPPORTED, PAGE_EDIT_LINK_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, PAGE_MAIN_CONTENT_SELECTOR };\n//# sourceMappingURL=constants.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { replaceGithubUrlType, replaceGitLabUrlType } from '@backstage/integration';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { useShadowRootElements, useShadowRootSelection } from '@backstage/plugin-techdocs-react';\nimport { PAGE_EDIT_LINK_SELECTOR } from './constants.esm.js';\n\nconst resolveBlobUrl = (url, type) => {\n  if (type === \"github\") {\n    return replaceGithubUrlType(url, \"blob\");\n  } else if (type === \"gitlab\") {\n    return replaceGitLabUrlType(url, \"blob\");\n  }\n  console.error(\n    `Invalid SCM type ${type} found in ReportIssue addon for URL ${url}!`\n  );\n  return url;\n};\nconst getTitle = (selection) => {\n  const text = selection.toString().substring(0, 70);\n  const ellipsis = text.length === 70 ? \"...\" : \"\";\n  return `Documentation feedback: ${text}${ellipsis}`;\n};\nconst getBody = (selection, markdownUrl, appTitle) => {\n  const title = \"## Documentation Feedback \\u{1F4DD}\";\n  const subheading = \"#### The highlighted text:\";\n  const commentHeading = \"#### The comment on the text:\";\n  const commentPlaceholder = \"_>replace this line with your comment<_\";\n  const highlightedTextAsQuote = selection.toString().trim().split(\"\\n\").map((line) => `> ${line.trim()}`).join(\"\\n\");\n  const facts = [\n    `${appTitle} URL: <${window.location.href}> \nMarkdown URL: <${markdownUrl}>`\n  ];\n  return `${title}\n\n ${subheading} \n\n ${highlightedTextAsQuote}\n\n ${commentHeading} \n ${commentPlaceholder}\n\n ___\n${facts}`;\n};\nconst useGitTemplate = (debounceTime) => {\n  const initialTemplate = { title: \"\", body: \"\" };\n  const selection = useShadowRootSelection(debounceTime);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  if (!selection || !url) return initialTemplate;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return initialTemplate;\n  return {\n    title: getTitle(selection),\n    body: getBody(selection, resolveBlobUrl(url, type), appTitle)\n  };\n};\nconst useGitRepository = () => {\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  if (!url) return null;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return null;\n  return { ...parseGitUrl(resolveBlobUrl(url, type)), type };\n};\n\nexport { getBody, getTitle, useGitRepository, useGitTemplate };\n//# sourceMappingURL=hooks.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport { Link, GitHubIcon } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridAutoFlow: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: theme.palette.common.black,\n    fontSize: theme.typography.button.fontSize\n  }\n}));\nconst getIcon = ({ type }) => {\n  if (type === \"github\") {\n    return GitHubIcon;\n  }\n  return BugReportIcon;\n};\nconst getName = ({ type }) => {\n  return type.charAt(0).toLocaleUpperCase(\"en-US\") + type.slice(1);\n};\nconst getUrl = (repository, template) => {\n  const { title, body } = template;\n  const encodedTitle = encodeURIComponent(title);\n  const encodedBody = encodeURIComponent(body);\n  const { protocol, resource, owner, name, type } = repository;\n  const url = `${protocol}://${resource}/${owner}/${name}`;\n  const encodedUrl = encodeURI(url);\n  if (type === \"github\") {\n    return `${encodedUrl}/issues/new?title=${encodedTitle}&body=${encodedBody}`;\n  }\n  return `${encodedUrl}/issues/new?issue[title]=${encodedTitle}&issue[description]=${encodedBody}`;\n};\nconst IssueLink = ({ template, repository }) => {\n  const classes = useStyles();\n  const Icon = getIcon(repository);\n  const url = getUrl(repository, template);\n  return /* @__PURE__ */ jsxs(Link, { className: classes.root, to: url, target: \"_blank\", children: [\n    /* @__PURE__ */ jsx(Icon, {}),\n    \" Open new \",\n    getName(repository),\n    \" issue\"\n  ] });\n};\n\nexport { IssueLink };\n//# sourceMappingURL=IssueLink.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect } from 'react';\nimport { makeStyles, Portal, Paper } from '@material-ui/core';\nimport { useGitTemplate } from './hooks.esm.js';\nimport { PAGE_MAIN_CONTENT_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, ADDON_FEEDBACK_CONTAINER_SELECTOR, ADDON_FEEDBACK_CONTAINER_ID } from './constants.esm.js';\nimport { IssueLink } from './IssueLink.esm.js';\nimport { useShadowRootSelection, useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    transform: \"translate(-100%, -100%)\",\n    position: \"absolute\",\n    padding: theme.spacing(1),\n    zIndex: theme.zIndex.tooltip,\n    background: theme.palette.common.white\n  }\n}));\nconst ReportIssueAddonContent = ({\n  debounceTime,\n  templateBuilder,\n  repository\n}) => {\n  const classes = useStyles();\n  const [style, setStyle] = useState();\n  const defaultTemplate = useGitTemplate(debounceTime);\n  const selection = useShadowRootSelection(debounceTime);\n  const [mainContent, feedbackLink] = useShadowRootElements([\n    PAGE_MAIN_CONTENT_SELECTOR,\n    PAGE_FEEDBACK_LINK_SELECTOR\n  ]);\n  let [feedbackContainer] = useShadowRootElements([\n    ADDON_FEEDBACK_CONTAINER_SELECTOR\n  ]);\n  if (feedbackLink) {\n    feedbackLink.style.display = \"none\";\n  }\n  useEffect(() => {\n    if (!selection || !selection.containsNode(mainContent, true) || selection.containsNode(feedbackContainer, true)) {\n      return;\n    }\n    const mainContentPosition = mainContent.getBoundingClientRect();\n    const selectionPosition = selection.getRangeAt(0).getBoundingClientRect();\n    const distanceFromTop = selectionPosition.top - mainContentPosition.top;\n    const minDistanceFromTop = 50;\n    let top = distanceFromTop < minDistanceFromTop ? 101 : distanceFromTop - 16;\n    if (mainContentPosition.top < 0) {\n      const absMainContentTop = Math.abs(mainContentPosition.top);\n      if (distanceFromTop - absMainContentTop < minDistanceFromTop) {\n        top += 89;\n      }\n    }\n    setStyle({\n      top: `${top}px`,\n      left: `${selectionPosition.left + selectionPosition.width / 2}px`\n    });\n  }, [selection, mainContent, feedbackContainer]);\n  if (!feedbackContainer) {\n    feedbackContainer = document.createElement(\"div\");\n    feedbackContainer.setAttribute(\"id\", ADDON_FEEDBACK_CONTAINER_ID);\n    mainContent.prepend(feedbackContainer);\n  }\n  if (!selection || !selection.containsNode(mainContent, true)) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Portal, { container: feedbackContainer, children: /* @__PURE__ */ jsx(\n    Paper,\n    {\n      \"data-testid\": \"report-issue-addon\",\n      className: classes.root,\n      style,\n      children: /* @__PURE__ */ jsx(\n        IssueLink,\n        {\n          repository,\n          template: templateBuilder ? templateBuilder({ selection }) : defaultTemplate\n        }\n      )\n    }\n  ) });\n};\n\nexport { ReportIssueAddonContent };\n//# sourceMappingURL=ReportIssueContent.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useGitRepository } from './hooks.esm.js';\nimport { ADDON_ISSUE_REPO_TYPES_SUPPORTED } from './constants.esm.js';\nimport { ReportIssueAddonContent } from './ReportIssueContent.esm.js';\n\nconst ReportIssueAddon = ({\n  debounceTime = 500,\n  templateBuilder\n}) => {\n  const repository = useGitRepository();\n  if (!repository || !ADDON_ISSUE_REPO_TYPES_SUPPORTED.includes(repository.type)) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    ReportIssueAddonContent,\n    {\n      debounceTime,\n      templateBuilder,\n      repository\n    }\n  );\n};\n\nexport { ReportIssueAddon };\n//# sourceMappingURL=ReportIssue.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport { withStyles, Slider, makeStyles, useTheme, MenuItem, ListItemText, Typography, Box, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst boxShadow = \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)\";\nconst StyledSlider = withStyles((theme) => ({\n  root: {\n    height: 2,\n    padding: \"15px 0\"\n  },\n  thumb: {\n    height: 18,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    boxShadow,\n    marginTop: -9,\n    marginLeft: -9,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)\",\n      // Reset on touch devices, it doesn't add specificity\n      \"@media (hover: none)\": {\n        boxShadow\n      }\n    }\n  },\n  active: {},\n  valueLabel: {\n    top: \"100%\",\n    left: \"50%\",\n    transform: \"scale(1) translate(-50%, -5px) !important\",\n    \"& *\": {\n      color: theme.palette.textSubtle,\n      fontSize: theme.typography.caption.fontSize,\n      background: \"transparent\"\n    }\n  },\n  track: {\n    height: 2\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5\n  },\n  mark: {\n    height: 10,\n    width: 1,\n    marginTop: -4\n  },\n  markActive: {\n    opacity: 1,\n    backgroundColor: \"currentColor\"\n  }\n}))(Slider);\nconst settings = {\n  key: \"techdocs.addons.settings.textsize\",\n  defaultValue: 100\n};\nconst marks = [\n  {\n    value: 90\n  },\n  {\n    value: 100\n  },\n  {\n    value: 115\n  },\n  {\n    value: 130\n  },\n  {\n    value: 150\n  }\n];\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    color: theme.palette.textSubtle,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 0,\n    minWidth: 200\n  },\n  menuItem: {\n    \"&:hover\": {\n      background: \"transparent\"\n    }\n  },\n  decreaseButton: {\n    marginRight: theme.spacing(1)\n  },\n  increaseButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst TextSizeAddon = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [body] = useShadowRootElements([\"body\"]);\n  const [value, setValue] = useState(() => {\n    const initialValue = localStorage?.getItem(settings.key);\n    return initialValue ? parseInt(initialValue, 10) : settings.defaultValue;\n  });\n  const values = useMemo(() => marks.map((mark) => mark.value), []);\n  const index = useMemo(() => values.indexOf(value), [values, value]);\n  const min = useMemo(() => values[0], [values]);\n  const max = useMemo(() => values[values.length - 1], [values]);\n  const getValueText = useCallback(() => `${value}%`, [value]);\n  const handleChangeCommitted = useCallback(\n    (_event, newValue) => {\n      if (!Array.isArray(newValue)) {\n        setValue(newValue);\n        localStorage?.setItem(settings.key, String(newValue));\n      }\n    },\n    [setValue]\n  );\n  const handleDecreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index - 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  const handleIncreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index + 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  useEffect(() => {\n    if (!body) return;\n    const htmlFontSize = theme.typography?.htmlFontSize ?? 16;\n    body.style.setProperty(\n      \"--md-typeset-font-size\",\n      `${htmlFontSize * (value / 100)}px`\n    );\n  }, [body, value, theme]);\n  return /* @__PURE__ */ jsx(MenuItem, { className: classes.menuItem, button: true, disableRipple: true, children: /* @__PURE__ */ jsx(\n    ListItemText,\n    {\n      primary: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", color: \"textPrimary\", children: \"Text size\" }),\n      secondary: /* @__PURE__ */ jsxs(Box, { className: classes.container, children: [\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            className: classes.decreaseButton,\n            size: \"small\",\n            edge: \"start\",\n            disabled: value === min,\n            onClick: handleDecreaseClick,\n            \"aria-label\": \"Decrease text size\",\n            children: /* @__PURE__ */ jsx(RemoveIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          StyledSlider,\n          {\n            value,\n            \"aria-labelledby\": \"text-size-slider\",\n            getAriaValueText: getValueText,\n            valueLabelDisplay: \"on\",\n            valueLabelFormat: getValueText,\n            marks,\n            step: null,\n            min,\n            max,\n            onChangeCommitted: handleChangeCommitted\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            className: classes.increaseButton,\n            size: \"small\",\n            edge: \"end\",\n            disabled: value === max,\n            onClick: handleIncreaseClick,\n            \"aria-label\": \"Increase text size\",\n            children: /* @__PURE__ */ jsx(AddIcon, {})\n          }\n        )\n      ] }),\n      disableTypography: true\n    }\n  ) });\n};\n\nexport { TextSizeAddon };\n//# sourceMappingURL=TextSize.esm.js.map\n","import { useEffect } from 'react';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\nimport PhotoSwipeLightbox from 'photoswipe/lightbox';\nimport PhotoSwipe from 'photoswipe';\nimport 'photoswipe/style.css';\n\nconst LightBoxAddon = () => {\n  const images = useShadowRootElements([\"img\"]);\n  useEffect(() => {\n    let dataSourceImages = null;\n    let lightbox = new PhotoSwipeLightbox({\n      pswpModule: PhotoSwipe,\n      initialZoomLevel: 1,\n      secondaryZoomLevel: (zoomLevelObject) => {\n        const imageWidth = zoomLevelObject.elementSize.x;\n        const imageHeight = zoomLevelObject.elementSize.y;\n        const viewportWidth = zoomLevelObject.panAreaSize.x;\n        const viewportHeight = zoomLevelObject.panAreaSize.y;\n        const widthScale = viewportWidth / imageWidth;\n        const heightScale = viewportHeight / imageHeight;\n        const scaleFactor = Math.min(widthScale, heightScale);\n        return scaleFactor;\n      },\n      wheelToZoom: true,\n      arrowPrevSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowBackIosIcon\" aria-label=\"fontSize large\"><path d=\"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"></path></svg>',\n      arrowNextSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowForwardIosIcon\" aria-label=\"fontSize large\"><path d=\"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z\"></path></svg>',\n      closeSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"CloseIcon\" aria-label=\"fontSize large\"><path d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>',\n      zoomSVG: `<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ZoomIcon\" aria-label=\"fontSize large\">\n          <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path><path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" id=\"photoswipe-zoom-icon-zoomin-path\"></path><path d=\"M12 10H 7 V 9 H 12 Z\" id=\"photoswipe-zoom-icon-zoomout-path\">\n        </svg>`\n    });\n    images.forEach((image, index) => {\n      image.onclick = () => {\n        if (dataSourceImages === null) {\n          dataSourceImages = images.map((dataSourceImage) => {\n            return {\n              element: dataSourceImage,\n              src: dataSourceImage.src,\n              msrc: dataSourceImage.src,\n              alt: dataSourceImage.alt,\n              width: dataSourceImage.clientWidth,\n              height: dataSourceImage.clientHeight\n            };\n          });\n        }\n        lightbox?.loadAndOpen(index, dataSourceImages);\n        return false;\n      };\n    });\n    lightbox.init();\n    return () => {\n      lightbox?.destroy();\n      lightbox = null;\n    };\n  }, [images]);\n  return null;\n};\n\nexport { LightBoxAddon };\n//# sourceMappingURL=LightBox.esm.js.map\n","import { createPlugin } from '@backstage/core-plugin-api';\nimport { createTechDocsAddonExtension, TechDocsAddonLocations } from '@backstage/plugin-techdocs-react';\nimport { ExpandableNavigationAddon } from './ExpandableNavigation/ExpandableNavigation.esm.js';\nimport { ReportIssueAddon } from './ReportIssue/ReportIssue.esm.js';\nimport { TextSizeAddon } from './TextSize/TextSize.esm.js';\nimport { LightBoxAddon } from './LightBox/LightBox.esm.js';\n\nconst techdocsModuleAddonsContribPlugin = createPlugin({\n  id: \"techdocsModuleAddonsContrib\"\n});\nconst ExpandableNavigation = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ExpandableNavigation\",\n    location: TechDocsAddonLocations.PrimarySidebar,\n    component: ExpandableNavigationAddon\n  })\n);\nconst ReportIssue = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ReportIssue\",\n    location: TechDocsAddonLocations.Content,\n    component: ReportIssueAddon\n  })\n);\nconst TextSize = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"TextSize\",\n    location: TechDocsAddonLocations.Settings,\n    component: TextSizeAddon\n  })\n);\nconst LightBox = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"LightBox\",\n    location: TechDocsAddonLocations.Content,\n    component: LightBoxAddon\n  })\n);\n\nexport { ExpandableNavigation, LightBox, ReportIssue, TextSize, techdocsModuleAddonsContribPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { ResponseError, NotFoundError } from '@backstage/errors';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\n\nclass TechDocsClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getCookie() {\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/cookie`;\n    const response = await this.fetchApi.fetch(`${requestUrl}`, {\n      credentials: \"include\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  /**\n   * Retrieve TechDocs metadata.\n   *\n   * When docs are built, we generate a techdocs_metadata.json and store it along with the generated\n   * static files. It includes necessary data about the docs site. This method requests techdocs-backend\n   * which retrieves the TechDocs metadata.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getTechDocsMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/techdocs/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n  /**\n   * Retrieve metadata about an entity.\n   *\n   * This method requests techdocs-backend which uses the catalog APIs to respond with filtered\n   * information required here.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getEntityMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/entity/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n}\nclass TechDocsStorageClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getStorageUrl() {\n    return this.configApi.getOptionalString(\"techdocs.storageUrl\") ?? `${await this.discoveryApi.getBaseUrl(\"techdocs\")}/static/docs`;\n  }\n  async getBuilder() {\n    return this.configApi.getOptionalString(\"techdocs.builder\") || \"local\";\n  }\n  /**\n   * Fetch HTML content as text for an individual docs page in an entity's docs site.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param path - The unique path to an individual docs page e.g. overview/what-is-new\n   * @returns HTML content of the docs page as string\n   * @throws Throws error when the page is not found.\n   */\n  async getEntityDocs(entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const storageUrl = await this.getStorageUrl();\n    const url = `${storageUrl}/${namespace}/${kind}/${name}/${path}`;\n    const request = await this.fetchApi.fetch(\n      `${url.endsWith(\"/\") ? url : `${url}/`}index.html`\n    );\n    let errorMessage = \"\";\n    switch (request.status) {\n      case 404:\n        errorMessage = \"Page not found. \";\n        if (!path) {\n          errorMessage += \"This could be because there is no index.md file in the root of the docs directory of this repository.\";\n        }\n        throw new NotFoundError(errorMessage);\n      case 500:\n        errorMessage = \"Could not generate documentation or an error in the TechDocs backend. \";\n        throw new Error(errorMessage);\n    }\n    return request.text();\n  }\n  /**\n   * Check if docs are on the latest version and trigger rebuild if not\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param logHandler - Callback to receive log messages from the build process\n   * @returns Whether documents are currently synchronized to newest version\n   * @throws Throws error on error from sync endpoint in TechDocs Backend\n   */\n  async syncEntityDocs(entityId, logHandler = () => {\n  }) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const url = `${apiOrigin}/sync/${namespace}/${kind}/${name}`;\n    return new Promise((resolve, reject) => {\n      const ctrl = new AbortController();\n      fetchEventSource(url, {\n        fetch: this.fetchApi.fetch,\n        signal: ctrl.signal,\n        onmessage(e) {\n          if (e.event === \"log\") {\n            if (e.data) {\n              logHandler(JSON.parse(e.data));\n            }\n          } else if (e.event === \"finish\") {\n            let updated = false;\n            if (e.data) {\n              ({ updated } = JSON.parse(e.data));\n            }\n            resolve(updated ? \"updated\" : \"cached\");\n          } else if (e.event === \"error\") {\n            reject(new Error(e.data));\n          }\n        },\n        onerror(err) {\n          ctrl.abort();\n          reject(err);\n          throw err;\n        }\n      });\n    });\n  }\n  async getBaseUrl(oldBaseUrl, entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const newBaseUrl = `${apiOrigin}/static/docs/${namespace}/${kind}/${name}/${path}`;\n    return new URL(\n      oldBaseUrl,\n      newBaseUrl.endsWith(\"/\") ? newBaseUrl : `${newBaseUrl}/`\n    ).toString();\n  }\n}\n\nexport { TechDocsClient, TechDocsStorageClient };\n//# sourceMappingURL=client.esm.js.map\n","import { techdocsStorageApiRef, techdocsApiRef } from '@backstage/plugin-techdocs-react';\nimport { TechDocsStorageClient, TechDocsClient } from './client.esm.js';\nimport { rootRouteRef, rootDocsRouteRef, rootCatalogDocsRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, configApiRef, discoveryApiRef, fetchApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\n\nconst techdocsPlugin = createPlugin({\n  id: \"techdocs\",\n  apis: [\n    createApiFactory({\n      api: techdocsStorageApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsStorageClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    }),\n    createApiFactory({\n      api: techdocsApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    docRoot: rootDocsRouteRef,\n    entityContent: rootCatalogDocsRouteRef\n  }\n});\nconst TechdocsPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechdocsPage\",\n    component: () => import('./Router.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst EntityTechdocsContent = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityTechdocsContent\",\n    component: () => import('./Router.esm.js').then((m) => m.LegacyEmbeddedDocsRouter),\n    mountPoint: rootCatalogDocsRouteRef\n  })\n);\nconst TechDocsCustomHome = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsCustomHome\",\n    component: () => import('./home/components/TechDocsCustomHome.esm.js').then(\n      (m) => m.TechDocsCustomHome\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsIndexPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsIndexPage\",\n    component: () => import('./home/components/TechDocsIndexPage.esm.js').then(\n      (m) => m.TechDocsIndexPage\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsReaderPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsReaderPage\",\n    component: () => import('./reader/components/TechDocsReaderPage/index.esm.js').then(\n      (m) => m.TechDocsReaderPage\n    ),\n    mountPoint: rootDocsRouteRef\n  })\n);\nconst TechDocsSearchResultListItem = techdocsPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"TechDocsSearchResultListItem\",\n    component: () => import('./search/components/TechDocsSearchResultListItem.esm.js').then(\n      (m) => m.TechDocsSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"techdocs\"\n  })\n);\n\nexport { EntityTechdocsContent, TechDocsCustomHome, TechDocsIndexPage, TechDocsReaderPage, TechDocsSearchResultListItem, TechdocsPage, techdocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, alpha } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      textAlign: \"left\"\n    },\n    label: {\n      color: theme.page.fontColor,\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: 0,\n      fontSize: theme.typography.fontSize,\n      marginBottom: theme.spacing(1) / 2,\n      lineHeight: 1\n    },\n    value: {\n      color: alpha(theme.page.fontColor, 0.8),\n      fontSize: theme.typography.fontSize,\n      lineHeight: 1\n    }\n  }),\n  { name: \"BackstageHeaderLabel\" }\n);\nconst HeaderLabelContent = ({\n  value,\n  className,\n  typographyRootComponent\n}) => {\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      component: typographyRootComponent ?? (typeof value === \"string\" ? \"p\" : \"span\"),\n      className,\n      children: value\n    }\n  );\n};\nfunction HeaderLabel(props) {\n  const { label, value, url, contentTypograpyRootComponent } = props;\n  const classes = useStyles();\n  const content = /* @__PURE__ */ jsx(\n    HeaderLabelContent,\n    {\n      className: classes.value,\n      value: value || \"<Unknown>\",\n      typographyRootComponent: contentTypograpyRootComponent\n    }\n  );\n  return /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { component: \"span\", className: classes.root, children: [\n    /* @__PURE__ */ jsx(Typography, { className: classes.label, children: label }),\n    url ? /* @__PURE__ */ jsx(Link, { to: url, children: content }) : content\n  ] }) });\n}\n\nexport { HeaderLabel };\n//# sourceMappingURL=HeaderLabel.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { createContext, useContext } from 'react';\n\nconst defaultSidebarPinStateContext = {\n  isPinned: true,\n  toggleSidebarPinState: () => {\n  },\n  isMobile: false\n};\nconst LegacySidebarPinStateContext = createContext(defaultSidebarPinStateContext);\nconst VersionedSidebarPinStateContext = createVersionedContext(\"sidebar-pin-state-context\");\nfunction SidebarPinStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ jsx(LegacySidebarPinStateContext.Provider, { value, children: /* @__PURE__ */ jsx(\n    VersionedSidebarPinStateContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  ) });\n}\nconst useSidebarPinState = () => {\n  const versionedPinStateContext = useContext(VersionedSidebarPinStateContext);\n  const legacyPinStateContext = useContext(LegacySidebarPinStateContext);\n  if (versionedPinStateContext === void 0) {\n    return legacyPinStateContext || defaultSidebarPinStateContext;\n  }\n  const pinStateContext = versionedPinStateContext.atVersion(1);\n  if (pinStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return pinStateContext;\n};\n\nexport { LegacySidebarPinStateContext, SidebarPinStateProvider, useSidebarPinState };\n//# sourceMappingURL=SidebarPinStateContext.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport missingAnnotation from './assets/missingAnnotation.svg';\nimport noInformation from './assets/noInformation.svg';\nimport createComponent from './assets/createComponent.svg';\nimport noBuild from './assets/noBuild.svg';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  {\n    generalImg: {\n      width: \"95%\",\n      zIndex: 2,\n      position: \"relative\",\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translate(-50%, 15%)\"\n    }\n  },\n  { name: \"BackstageEmptyStateImage\" }\n);\nconst EmptyStateImage = ({ missing }) => {\n  const classes = useStyles();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: missingAnnotation,\n          className: classes.generalImg,\n          alt: \"annotation is missing\"\n        }\n      );\n    case \"info\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: noInformation,\n          alt: \"no Information\",\n          className: classes.generalImg\n        }\n      );\n    case \"content\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: createComponent,\n          alt: \"create Component\",\n          className: classes.generalImg\n        }\n      );\n    case \"data\":\n      return /* @__PURE__ */ jsx(\"img\", { src: noBuild, alt: \"no Build\", className: classes.generalImg });\n    default:\n      return null;\n  }\n};\n\nexport { EmptyStateImage };\n//# sourceMappingURL=EmptyStateImage.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { EmptyStateImage } from './EmptyStateImage.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing(2, 0, 0, 0)\n    },\n    action: {\n      marginTop: theme.spacing(2)\n    },\n    imageContainer: {\n      position: \"relative\"\n    }\n  }),\n  { name: \"BackstageEmptyState\" }\n);\nfunction EmptyState(props) {\n  const { title, description, missing, action } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-around\",\n      alignItems: \"flex-start\",\n      className: classes.root,\n      spacing: 2,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, md: 6, children: /* @__PURE__ */ jsxs(Grid, { container: true, direction: \"column\", children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: title }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: description }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, className: classes.action, children: action })\n        ] }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, md: 6, className: classes.imageContainer, children: typeof missing === \"string\" ? /* @__PURE__ */ jsx(EmptyStateImage, { missing }) : missing.customImage })\n      ]\n    }\n  );\n}\n\nexport { EmptyState };\n//# sourceMappingURL=EmptyState.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { Component } from 'react';\nimport { LinkButton } from '../../components/LinkButton/LinkButton.esm.js';\nimport { ErrorPanel } from '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst SlackLink = (props) => {\n  const { slackChannel } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!slackChannel) {\n    return null;\n  } else if (typeof slackChannel === \"string\") {\n    return /* @__PURE__ */ jsx(Typography, { children: t(\"errorBoundary.title\", { slackChannel }) });\n  } else if (!slackChannel.href) {\n    return /* @__PURE__ */ jsx(Typography, { children: t(\"errorBoundary.title\", {\n      slackChannel: slackChannel.name\n    }) });\n  }\n  return /* @__PURE__ */ jsx(LinkButton, { to: slackChannel.href, variant: \"contained\", children: slackChannel.name });\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}`, { error, errorInfo });\n    this.setState({ error, errorInfo });\n  }\n  render() {\n    const { slackChannel, children } = this.props;\n    const { error } = this.state;\n    if (!error) {\n      return children;\n    }\n    return /* @__PURE__ */ jsx(ErrorPanel, { title: \"Something Went Wrong\", error, children: /* @__PURE__ */ jsx(SlackLink, { slackChannel }) });\n  }\n};\n\nexport { ErrorBoundary };\n//# sourceMappingURL=ErrorBoundary.esm.js.map\n","function toLowercaseEntityRefMaybe(entityRef, config) {\n  if (config.getOptionalBoolean(\"techdocs.legacyUseCaseSensitiveTripletPaths\"))\n    return entityRef;\n  entityRef.kind = entityRef.kind.toLocaleLowerCase();\n  entityRef.name = entityRef.name.toLocaleLowerCase();\n  entityRef.namespace = entityRef.namespace.toLocaleLowerCase();\n  return entityRef;\n}\n\nexport { toLowercaseEntityRefMaybe };\n//# sourceMappingURL=helpers.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { memo, useState, useEffect, useContext } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { techdocsApiRef } from './api.esm.js';\nimport { toLowercaseEntityRefMaybe } from './helpers.esm.js';\n\nconst areEntityRefsEqual = (prevEntityRef, nextEntityRef) => {\n  return stringifyEntityRef(prevEntityRef) === stringifyEntityRef(nextEntityRef);\n};\nconst defaultTechDocsReaderPageValue = {\n  title: \"\",\n  subtitle: \"\",\n  setTitle: () => {\n  },\n  setSubtitle: () => {\n  },\n  setShadowRoot: () => {\n  },\n  metadata: { loading: true },\n  entityMetadata: { loading: true },\n  entityRef: { kind: \"\", name: \"\", namespace: \"\" }\n};\nconst TechDocsReaderPageContext = createVersionedContext(\"techdocs-reader-page-context\");\nconst TechDocsReaderPageProvider = memo(\n  (props) => {\n    const { entityRef, children } = props;\n    const techdocsApi = useApi(techdocsApiRef);\n    const config = useApi(configApiRef);\n    const entityMetadata = useAsync(async () => {\n      return techdocsApi.getEntityMetadata(entityRef);\n    }, [entityRef]);\n    const metadata = useAsyncRetry(async () => {\n      return techdocsApi.getTechDocsMetadata(entityRef);\n    }, [entityRef]);\n    const [title, setTitle] = useState(defaultTechDocsReaderPageValue.title);\n    const [subtitle, setSubtitle] = useState(\n      defaultTechDocsReaderPageValue.subtitle\n    );\n    const [shadowRoot, setShadowRoot] = useState(\n      defaultTechDocsReaderPageValue.shadowRoot\n    );\n    useEffect(() => {\n      if (shadowRoot && !metadata.value && !metadata.loading) {\n        metadata.retry();\n      }\n    }, [\n      metadata.value,\n      metadata.loading,\n      shadowRoot,\n      metadata.retry,\n      metadata\n    ]);\n    const value = {\n      metadata,\n      entityRef: toLowercaseEntityRefMaybe(entityRef, config),\n      entityMetadata,\n      shadowRoot,\n      setShadowRoot,\n      title,\n      setTitle,\n      subtitle,\n      setSubtitle\n    };\n    const versionedValue = createVersionedValueMap({ 1: value });\n    return /* @__PURE__ */ jsx(\n      AnalyticsContext,\n      {\n        attributes: { entityRef: stringifyEntityRef(entityRef) },\n        children: /* @__PURE__ */ jsx(TechDocsReaderPageContext.Provider, { value: versionedValue, children: children instanceof Function ? children(value) : children })\n      }\n    );\n  },\n  (prevProps, nextProps) => {\n    return areEntityRefsEqual(prevProps.entityRef, nextProps.entityRef);\n  }\n);\nconst useTechDocsReaderPage = () => {\n  const versionedContext = useContext(TechDocsReaderPageContext);\n  if (versionedContext === void 0) {\n    return defaultTechDocsReaderPageValue;\n  }\n  const context = versionedContext.atVersion(1);\n  if (context === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return context;\n};\n\nexport { TechDocsReaderPageProvider, useTechDocsReaderPage };\n//# sourceMappingURL=context.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { lazy, Suspense } from 'react';\nimport { useApp } from '@backstage/core-plugin-api';\n\nconst RealLogViewer = lazy(\n  () => import('./RealLogViewer.esm.js').then((m) => ({ default: m.RealLogViewer }))\n);\nfunction LogViewer(props) {\n  const { Progress } = useApp().getComponents();\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(RealLogViewer, { ...props }) });\n}\n\nexport { LogViewer };\n//# sourceMappingURL=LogViewer.esm.js.map\n","function isError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    return false;\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    return false;\n  }\n  if (typeof maybe.message !== \"string\") {\n    return false;\n  }\n  return true;\n}\nfunction assertError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    throw new Error(`Encountered invalid error, not an object, got '${value}'`);\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    throw new Error(`Encountered error object without a name, got '${value}'`);\n  }\n  if (typeof maybe.message !== \"string\") {\n    throw new Error(\n      `Encountered error object without a message, got '${value}'`\n    );\n  }\n}\n\nexport { assertError, isError };\n//# sourceMappingURL=assertion.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst tableTitleCellStyles = (theme) => createStyles({\n  root: {\n    fontWeight: theme.typography.fontWeightBold,\n    whiteSpace: \"nowrap\",\n    paddingRight: theme.spacing(4),\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n});\nconst tableContentCellStyles = {\n  root: {\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n};\nconst listStyles = (theme) => createStyles({\n  root: {\n    margin: theme.spacing(0, 0, -1, 0)\n  }\n});\nconst listItemStyles = (theme) => createStyles({\n  root: {\n    padding: theme.spacing(0, 0, 1, 0)\n  },\n  random: {}\n});\nconst TitleCell = withStyles(tableTitleCellStyles, {\n  name: \"BackstageMetadataTableTitleCell\"\n})(TableCell);\nconst ContentCell = withStyles(tableContentCellStyles, {\n  name: \"BackstageMetadataTableCell\"\n})(TableCell);\nconst MetadataTable = ({\n  dense,\n  children\n}) => /* @__PURE__ */ jsx(Table, { size: dense ? \"small\" : \"medium\", children: /* @__PURE__ */ jsx(TableBody, { children }) });\nconst MetadataTableItem = ({\n  title,\n  children,\n  ...rest\n}) => /* @__PURE__ */ jsxs(TableRow, { children: [\n  title && /* @__PURE__ */ jsx(TitleCell, { children: title }),\n  /* @__PURE__ */ jsx(ContentCell, { colSpan: title ? 1 : 2, ...rest, children })\n] });\nconst MetadataList = withStyles(listStyles, {\n  name: \"BackstageMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(List, { disablePadding: true, className: classes.root, children }));\nconst MetadataListItem = withStyles(listItemStyles, {\n  name: \"BackstageMetadataTableListItem\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(ListItem, { className: classes.root, children }));\n\nexport { MetadataList, MetadataListItem, MetadataTable, MetadataTableItem };\n//# sourceMappingURL=MetadataTable.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment, isValidElement } from 'react';\nimport startCase from 'lodash/startCase';\nimport Typography from '@material-ui/core/Typography';\nimport { MetadataList, MetadataTable, MetadataTableItem, MetadataListItem } from './MetadataTable.esm.js';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\nimport jsyaml from 'js-yaml';\nimport { createStyles, withStyles } from '@material-ui/core/styles';\n\nconst listStyle = createStyles({\n  root: {\n    margin: \"0 0\",\n    listStyleType: \"none\"\n  }\n});\nconst nestedListStyle = (theme) => createStyles({\n  root: {\n    ...listStyle.root,\n    paddingLeft: theme.spacing(1)\n  }\n});\nconst StyledList = withStyles(listStyle, {\n  name: \"BackstageStructuredMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(MetadataList, { classes, children }));\nconst StyledNestedList = withStyles(nestedListStyle, {\n  name: \"BackstageStructuredMetadataTableNestedList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(MetadataList, { classes, children }));\nfunction renderList(list, options, nested) {\n  const values = list.map((item, index) => /* @__PURE__ */ jsx(MetadataListItem, { children: toValue(item, options, nested) }, index));\n  return nested ? /* @__PURE__ */ jsx(StyledNestedList, { children: values }) : /* @__PURE__ */ jsx(StyledList, { children: values });\n}\nfunction renderMap(map, options, nested) {\n  const values = Object.keys(map).map((key) => {\n    const value = toValue(map[key], options, true);\n    return /* @__PURE__ */ jsxs(MetadataListItem, { children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"span\", children: `${options.titleFormat(key)}: ` }),\n      value\n    ] }, key);\n  });\n  return nested ? /* @__PURE__ */ jsx(StyledNestedList, { children: values }) : /* @__PURE__ */ jsx(StyledList, { children: values });\n}\nfunction toValue(value, options, nested) {\n  if (isValidElement(value)) {\n    return /* @__PURE__ */ jsx(Fragment, { children: value });\n  }\n  if (value !== null && typeof value === \"object\") {\n    if (options.nestedValuesAsYaml) {\n      return /* @__PURE__ */ jsx(\n        CodeSnippet,\n        {\n          language: \"yaml\",\n          text: jsyaml.dump(value),\n          customStyle: {\n            background: \"transparent\",\n            lineHeight: \"1.4\",\n            padding: \"0\",\n            margin: 0\n          }\n        }\n      );\n    }\n    if (!Array.isArray(value)) {\n      return renderMap(value, options, nested);\n    }\n  }\n  if (Array.isArray(value)) {\n    return renderList(value, options, nested);\n  }\n  if (typeof value === \"boolean\") {\n    return /* @__PURE__ */ jsx(Fragment, { children: value ? \"\\u2705\" : \"\\u274C\" });\n  }\n  return /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"span\", children: value });\n}\nconst ItemValue = ({ value, options }) => /* @__PURE__ */ jsx(Fragment, { children: toValue(value, options, false) });\nconst TableItem = ({\n  title,\n  value,\n  options\n}) => {\n  return /* @__PURE__ */ jsx(MetadataTableItem, { title: options.titleFormat(title), children: /* @__PURE__ */ jsx(ItemValue, { value, options }) });\n};\nfunction mapToItems(info, options) {\n  return Object.keys(info).map((key) => /* @__PURE__ */ jsx(TableItem, { title: key, value: info[key], options }, key));\n}\nfunction StructuredMetadataTable(props) {\n  const { metadata, dense = true, options } = props;\n  const metadataItems = mapToItems(metadata, {\n    titleFormat: startCase,\n    nestedValuesAsYaml: options?.nestedValuesAsYaml ?? false,\n    ...options\n  });\n  return /* @__PURE__ */ jsx(MetadataTable, { dense, children: metadataItems });\n}\n\nexport { StructuredMetadataTable };\n//# sourceMappingURL=StructuredMetadataTable.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst appThemeApiRef = createApiRef({\n  id: \"core.apptheme\"\n});\n\nexport { appThemeApiRef };\n//# sourceMappingURL=AppThemeApi.esm.js.map\n","import { useApiHolder, configApiRef } from '@backstage/core-plugin-api';\nimport { coreComponentsTranslationRef } from '../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useDefaultSupportConfig = () => {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return {\n    url: \"https://github.com/backstage/backstage/issues\",\n    items: [\n      {\n        title: t(\"supportConfig.default.title\"),\n        icon: \"warning\",\n        links: [\n          {\n            // TODO: Update to dedicated support page on backstage.io/docs\n            title: t(\"supportConfig.default.linkTitle\"),\n            url: \"https://github.com/backstage/backstage/blob/master/app-config.yaml\"\n          }\n        ]\n      }\n    ]\n  };\n};\nfunction useSupportConfig() {\n  const apiHolder = useApiHolder();\n  const config = apiHolder.get(configApiRef);\n  const supportConfig = config?.getOptionalConfig(\"app.support\");\n  const defaultSupportConfig = useDefaultSupportConfig();\n  if (!supportConfig) {\n    return defaultSupportConfig;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => ({\n      title: itemConf.getString(\"title\"),\n      icon: itemConf.getOptionalString(\"icon\"),\n      links: (itemConf.getOptionalConfigArray(\"links\") ?? []).flatMap(\n        (linkConf) => ({\n          url: linkConf.getString(\"url\"),\n          title: linkConf.getOptionalString(\"title\") ?? \"\"\n        })\n      )\n    }))\n  };\n}\n\nexport { useSupportConfig };\n//# sourceMappingURL=useSupportConfig.esm.js.map\n","const ENTITY_STATUS_CATALOG_PROCESSING_TYPE = \"backstage.io/catalog-processing\";\n\nexport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE };\n//# sourceMappingURL=status.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef, useEntity, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE } from '@backstage/catalog-client';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst errorFilter = (i) => i.error && i.level === \"error\" && i.type === ENTITY_STATUS_CATALOG_PROCESSING_TYPE;\nasync function getOwnAndAncestorsErrors(entityRef, catalogApi) {\n  const ancestors = await catalogApi.getEntityAncestors({ entityRef });\n  const items = ancestors.items.map((item) => {\n    const statuses = item.entity.status?.items ?? [];\n    const errors = statuses.filter(errorFilter).map((e) => e.error).filter((e) => Boolean(e));\n    return { errors, entity: item.entity };\n  }).filter((item) => item.errors.length > 0);\n  return { items };\n}\nasync function hasCatalogProcessingErrors(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const errors = await getOwnAndAncestorsErrors(\n    stringifyEntityRef(entity),\n    catalogApi\n  );\n  return errors.items.length > 0;\n}\nfunction EntityProcessingErrorsPanel() {\n  const { entity } = useEntity();\n  const entityRef = stringifyEntityRef(entity);\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getOwnAndAncestorsErrors(entityRef, catalogApi);\n  }, [entityRef, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ jsx(Box, { mb: 1, children: /* @__PURE__ */ jsx(ResponseErrorPanel, { error }) });\n  }\n  if (loading || !value) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: value.items.map((ancestorError, index) => /* @__PURE__ */ jsxs(Box, { mb: 1, children: [\n    stringifyEntityRef(entity) !== stringifyEntityRef(ancestorError.entity) && /* @__PURE__ */ jsxs(Box, { p: 1, children: [\n      t(\"entityProcessingErrorsDescription\"),\n      \" \",\n      /* @__PURE__ */ jsx(EntityRefLink, { entityRef: ancestorError.entity })\n    ] }),\n    ancestorError.errors.map((e, i) => /* @__PURE__ */ jsx(ResponseErrorPanel, { error: e }, i))\n  ] }, index)) });\n}\n\nexport { EntityProcessingErrorsPanel, hasCatalogProcessingErrors };\n//# sourceMappingURL=EntityProcessingErrorsPanel.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst kubernetesApiRef = createApiRef({\n  id: \"plugin.kubernetes.service\"\n});\nconst kubernetesProxyApiRef = createApiRef({\n  id: \"plugin.kubernetes.proxy-service\"\n});\nconst kubernetesClusterLinkFormatterApiRef = createApiRef({\n  id: \"plugin.kubernetes.cluster-link-formatter-service\"\n});\n\nexport { kubernetesApiRef, kubernetesClusterLinkFormatterApiRef, kubernetesProxyApiRef };\n//# sourceMappingURL=types.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst EntityNamePickerFieldSchema = makeFieldSchemaFromZod(z.string());\nconst EntityNamePickerSchema = EntityNamePickerFieldSchema.schema;\n\nexport { EntityNamePickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { MarkdownContent } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  markdownDescription: {\n    fontSize: theme.typography.caption.fontSize,\n    margin: 0,\n    color: theme.palette.text.secondary,\n    \"& :first-child\": {\n      margin: 0,\n      marginTop: \"3px\"\n      // to keep the standard browser padding\n    }\n  }\n}));\nconst ScaffolderField = (props) => {\n  const {\n    children,\n    displayLabel = true,\n    rawErrors = [],\n    errors,\n    help,\n    rawDescription,\n    required,\n    disabled\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      fullWidth: true,\n      error: rawErrors.length ? true : false,\n      required,\n      disabled,\n      children: [\n        children,\n        displayLabel && rawDescription ? /* @__PURE__ */ jsx(\n          MarkdownContent,\n          {\n            content: rawDescription,\n            linkTarget: \"_blank\",\n            className: classes.markdownDescription\n          }\n        ) : null,\n        errors,\n        help\n      ]\n    }\n  );\n};\n\nexport { ScaffolderField };\n//# sourceMappingURL=ScaffolderField.esm.js.map\n","async function parseErrorResponseBody(response) {\n  try {\n    const text = await response.text();\n    if (text) {\n      if (response.headers.get(\"content-type\")?.startsWith(\"application/json\")) {\n        try {\n          const body = JSON.parse(text);\n          if (body.error && body.response) {\n            return body;\n          }\n        } catch {\n        }\n      }\n      return {\n        error: {\n          name: \"Error\",\n          message: `Request failed with status ${response.status} ${response.statusText}, ${text}`\n        },\n        response: {\n          statusCode: response.status\n        }\n      };\n    }\n  } catch {\n  }\n  return {\n    error: {\n      name: \"Error\",\n      message: `Request failed with status ${response.status} ${response.statusText}`\n    },\n    response: {\n      statusCode: response.status\n    }\n  };\n}\n\nexport { parseErrorResponseBody };\n//# sourceMappingURL=response.esm.js.map\n","import { deserializeError } from '../serialization/error.esm.js';\nimport { parseErrorResponseBody } from '../serialization/response.esm.js';\n\nclass ResponseError extends Error {\n  /**\n   * The actual response, as seen by the client.\n   *\n   * Note that the body of this response is always consumed. Its parsed form is\n   * in the `body` field.\n   */\n  response;\n  /**\n   * The parsed JSON error body, as sent by the server.\n   */\n  body;\n  /**\n   * The Error cause, as seen by the remote server. This is parsed out of the\n   * JSON error body.\n   *\n   * This error always has the plain Error constructor, however all\n   * serializable enumerable fields on the remote error including its name are\n   * preserved. Therefore, if you want to check the error type, use its name\n   * property rather than checking typeof or its constructor or prototype.\n   */\n  cause;\n  statusCode;\n  statusText;\n  /**\n   * Constructs a ResponseError based on a failed response.\n   *\n   * Assumes that the response has already been checked to be not ok. This\n   * function consumes the body of the response, and assumes that it hasn't\n   * been consumed before.\n   */\n  static async fromResponse(response) {\n    const data = await parseErrorResponseBody(response);\n    const statusCode = data.response.statusCode || response.status;\n    const statusText = response.statusText;\n    const message = `Request failed with ${statusCode} ${statusText}`;\n    const cause = deserializeError(data.error);\n    return new ResponseError({\n      message,\n      response,\n      data,\n      cause,\n      statusCode,\n      statusText\n    });\n  }\n  constructor(opts) {\n    super(opts.message);\n    this.name = \"ResponseError\";\n    this.response = opts.response;\n    this.body = opts.data;\n    this.cause = opts.cause;\n    this.statusCode = opts.statusCode;\n    this.statusText = opts.statusText;\n  }\n}\n\nexport { ResponseError };\n//# sourceMappingURL=ResponseError.esm.js.map\n","import { createPermission } from '@backstage/plugin-permission-common';\n\nconst RESOURCE_TYPE_CATALOG_ENTITY = \"catalog-entity\";\nconst catalogEntityReadPermission = createPermission({\n  name: \"catalog.entity.read\",\n  attributes: {\n    action: \"read\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityCreatePermission = createPermission({\n  name: \"catalog.entity.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogEntityDeletePermission = createPermission({\n  name: \"catalog.entity.delete\",\n  attributes: {\n    action: \"delete\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityRefreshPermission = createPermission({\n  name: \"catalog.entity.refresh\",\n  attributes: {\n    action: \"update\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityValidatePermission = createPermission({\n  name: \"catalog.entity.validate\",\n  attributes: {}\n});\nconst catalogLocationReadPermission = createPermission({\n  name: \"catalog.location.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst catalogLocationCreatePermission = createPermission({\n  name: \"catalog.location.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogLocationAnalyzePermission = createPermission({\n  name: \"catalog.location.analyze\",\n  attributes: {}\n});\nconst catalogLocationDeletePermission = createPermission({\n  name: \"catalog.location.delete\",\n  attributes: {\n    action: \"delete\"\n  }\n});\nconst catalogPermissions = [\n  catalogEntityReadPermission,\n  catalogEntityCreatePermission,\n  catalogEntityDeletePermission,\n  catalogEntityRefreshPermission,\n  catalogEntityValidatePermission,\n  catalogLocationReadPermission,\n  catalogLocationCreatePermission,\n  catalogLocationDeletePermission,\n  catalogLocationAnalyzePermission\n];\n\nexport { RESOURCE_TYPE_CATALOG_ENTITY, catalogEntityCreatePermission, catalogEntityDeletePermission, catalogEntityReadPermission, catalogEntityRefreshPermission, catalogEntityValidatePermission, catalogLocationAnalyzePermission, catalogLocationCreatePermission, catalogLocationDeletePermission, catalogLocationReadPermission, catalogPermissions };\n//# sourceMappingURL=permissions.esm.js.map\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useVersionedContext } from '@backstage/version-bridge';\n\nfunction useRouteRef(routeRef) {\n  const { pathname } = useLocation();\n  const versionedContext = useVersionedContext(\n    \"routing-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"Routing context is not available\");\n  }\n  const resolver = versionedContext.atVersion(1);\n  const routeFunc = useMemo(\n    () => resolver && resolver.resolve(routeRef, { pathname }),\n    [resolver, routeRef, pathname]\n  );\n  if (!versionedContext) {\n    throw new Error(\"useRouteRef used outside of routing context\");\n  }\n  if (!resolver) {\n    throw new Error(\"RoutingContext v1 not available\");\n  }\n  const isOptional = \"optional\" in routeRef && routeRef.optional;\n  if (!routeFunc && !isOptional) {\n    throw new Error(`No path for ${routeRef}`);\n  }\n  return routeFunc;\n}\n\nexport { useRouteRef };\n//# sourceMappingURL=useRouteRef.esm.js.map\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { useRef, useEffect } from 'react';\nimport useAsyncFn from 'react-use/esm/useAsyncFn';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useSearch } from '../../context/SearchContext.esm.js';\n\nconst useAsyncFilterValues = (fn, inputValue, defaultValues = [], debounce = 250) => {\n  const valuesMemo = useRef({});\n  const definiteFn = fn || (() => Promise.resolve([]));\n  const [state, callback] = useAsyncFn(definiteFn, [inputValue], {\n    loading: true\n  });\n  useDebounce(\n    () => {\n      if (valuesMemo.current[inputValue] === void 0) {\n        valuesMemo.current[inputValue] = callback(inputValue).then((values) => {\n          valuesMemo.current[inputValue] = values;\n          return values;\n        });\n      }\n    },\n    debounce,\n    [callback, inputValue]\n  );\n  if (defaultValues.length) {\n    return {\n      loading: false,\n      value: defaultValues\n    };\n  }\n  const possibleValue = valuesMemo.current[inputValue];\n  if (Array.isArray(possibleValue)) {\n    return {\n      loading: false,\n      value: possibleValue\n    };\n  }\n  return state;\n};\nconst useDefaultFilterValue = (name, defaultValue) => {\n  const { setFilters } = useSearch();\n  useEffect(() => {\n    if (defaultValue && [defaultValue].flat().length > 0) {\n      setFilters((prevFilters) => ({\n        ...prevFilters,\n        [name]: defaultValue\n      }));\n    }\n  }, []);\n};\n\nexport { useAsyncFilterValues, useDefaultFilterValue };\n//# sourceMappingURL=hooks.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\n\nconst AutocompleteFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    name,\n    values: givenValues,\n    valuesDebounceMs,\n    label,\n    filterSelectedOptions,\n    limitTags,\n    multiple\n  } = props;\n  const [inputValue, setInputValue] = useState(\"\");\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values, loading } = useAsyncFilterValues(\n    asyncValues,\n    inputValue,\n    defaultValues,\n    valuesDebounceMs\n  );\n  const { filters, setFilters } = useSearch();\n  const filterValue = filters[name] || (multiple ? [] : null);\n  const handleChange = (_, newValue) => {\n    setFilters((prevState) => {\n      const { [name]: filter, ...others } = prevState;\n      if (newValue) {\n        return { ...others, [name]: newValue };\n      }\n      return { ...others };\n    });\n  };\n  const renderInput = (params) => /* @__PURE__ */ jsx(\n    TextField,\n    {\n      ...params,\n      name: \"search\",\n      variant: \"outlined\",\n      label,\n      fullWidth: true\n    }\n  );\n  const renderTags = (tagValue, getTagProps) => tagValue.map((option, index) => /* @__PURE__ */ jsx(Chip, { label: option, color: \"primary\", ...getTagProps({ index }) }));\n  return /* @__PURE__ */ jsx(\n    Autocomplete,\n    {\n      filterSelectedOptions,\n      limitTags,\n      multiple,\n      className,\n      id: `${multiple ? \"multi-\" : \"\"}select-filter-${name}--select`,\n      options: values || [],\n      loading,\n      value: filterValue,\n      onChange: handleChange,\n      onInputChange: (_, newValue) => setInputValue(newValue),\n      renderInput,\n      renderTags\n    }\n  );\n};\n\nexport { AutocompleteFilter };\n//# sourceMappingURL=SearchFilter.Autocomplete.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { capitalize } from 'lodash';\nimport { v4 } from 'uuid';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Select } from '@backstage/core-components';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { AutocompleteFilter } from './SearchFilter.Autocomplete.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\n\nconst useStyles = makeStyles({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  checkboxWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  textWrapper: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\"\n  }\n});\nconst CheckboxFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label,\n    name,\n    values: givenValues = [],\n    valuesDebounceMs\n  } = props;\n  const classes = useStyles();\n  const { filters, setFilters } = useSearch();\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const handleChange = (e) => {\n    const {\n      target: { value, checked }\n    } = e;\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      const rest = (filter || []).filter((i) => i !== value);\n      const items = checked ? [...rest, value] : rest;\n      return items.length ? { ...others, [name]: items } : others;\n    });\n  };\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      className,\n      disabled: loading,\n      fullWidth: true,\n      \"data-testid\": \"search-checkboxfilter-next\",\n      children: [\n        label ? /* @__PURE__ */ jsx(FormLabel, { className: classes.label, children: label }) : null,\n        values.map((value) => /* @__PURE__ */ jsx(\n          FormControlLabel,\n          {\n            classes: {\n              root: classes.checkboxWrapper,\n              label: classes.textWrapper\n            },\n            label: value,\n            control: /* @__PURE__ */ jsx(\n              Checkbox,\n              {\n                color: \"primary\",\n                inputProps: { \"aria-labelledby\": value },\n                value,\n                name: value,\n                onChange: handleChange,\n                checked: (filters[name] ?? []).includes(value)\n              }\n            )\n          },\n          value\n        ))\n      ]\n    }\n  );\n};\nconst SelectFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label,\n    name,\n    values: givenValues,\n    valuesDebounceMs\n  } = props;\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const allOptionValue = useRef(v4());\n  const allOption = { value: allOptionValue.current, label: \"All\" };\n  const { filters, setFilters } = useSearch();\n  const handleChange = (value) => {\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      return value !== allOptionValue.current ? { ...others, [name]: value } : others;\n    });\n  };\n  const items = [allOption, ...values.map((value) => ({ value, label: value }))];\n  return /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      disabled: loading,\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-selectfilter-next\",\n      children: /* @__PURE__ */ jsx(\n        Select,\n        {\n          label: label ?? capitalize(name),\n          selected: filters[name] || allOptionValue.current,\n          onChange: handleChange,\n          items\n        }\n      )\n    }\n  );\n};\nconst SearchFilter = (props) => {\n  const { component: Element, ...elementProps } = props;\n  return /* @__PURE__ */ jsx(Element, { ...elementProps });\n};\nSearchFilter.Checkbox = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: CheckboxFilter });\nSearchFilter.Select = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: SelectFilter });\nSearchFilter.Autocomplete = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: AutocompleteFilter });\n\nexport { CheckboxFilter, SearchFilter, SelectFilter };\n//# sourceMappingURL=SearchFilter.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension } from '@backstage/core-plugin-api';\n\nconst settingsRouteRef = createRouteRef({\n  id: \"user-settings\"\n});\nconst userSettingsPlugin = createPlugin({\n  id: \"user-settings\",\n  routes: {\n    settingsPage: settingsRouteRef\n  }\n});\nconst UserSettingsPage = userSettingsPlugin.provide(\n  createRoutableExtension({\n    name: \"UserSettingsPage\",\n    component: () => import('./components/SettingsPage/index.esm.js').then((m) => m.SettingsPage),\n    mountPoint: settingsRouteRef\n  })\n);\n\nexport { UserSettingsPage, settingsRouteRef, userSettingsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","const ERROR_PREFIX = \"Invalid discovery URL pattern,\";\nclass UrlPatternDiscovery {\n  constructor(parts) {\n    this.parts = parts;\n  }\n  /**\n   * Creates a new UrlPatternDiscovery given a template. The only\n   * interpolation done for the template is to replace instances of `{{pluginId}}`\n   * with the ID of the plugin being requested.\n   *\n   * Example pattern: `http://localhost:7007/api/{{ pluginId }}`\n   */\n  static compile(pattern) {\n    const parts = pattern.split(/\\{\\{\\s*pluginId\\s*\\}\\}/);\n    const urlStr = parts.join(\"pluginId\");\n    let url;\n    try {\n      url = new URL(urlStr);\n    } catch {\n      throw new Error(`${ERROR_PREFIX} URL '${urlStr}' is invalid`);\n    }\n    if (url.hash) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a hash`);\n    }\n    if (url.search) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a query`);\n    }\n    if (urlStr.endsWith(\"/\")) {\n      throw new Error(`${ERROR_PREFIX} URL must not end with a slash`);\n    }\n    return new UrlPatternDiscovery(parts);\n  }\n  async getBaseUrl(pluginId) {\n    return this.parts.join(encodeURIComponent(pluginId));\n  }\n}\n\nexport { UrlPatternDiscovery };\n//# sourceMappingURL=UrlPatternDiscovery.esm.js.map\n","import { UrlPatternDiscovery } from './UrlPatternDiscovery.esm.js';\n\nclass FrontendHostDiscovery {\n  constructor(endpoints, defaultEndpoint) {\n    this.endpoints = endpoints;\n    this.defaultEndpoint = defaultEndpoint;\n  }\n  /**\n   * Creates a new FrontendHostDiscovery discovery instance by reading\n   * the external target URL from the `discovery.endpoints` config section.\n   *\n   * eg.\n   * ```yaml\n   * discovery:\n   *  endpoints:\n   *    - target: https://internal.example.com/internal-catalog\n   *      plugins: [catalog]\n   *    - target: https://internal.example.com/secure/api/{{pluginId}}\n   *      plugins: [auth, permissions]\n   *    - target:\n   *        internal: https://internal.example.com/search\n   *        external: https://example.com/search\n   *      plugins: [search]\n   * ```\n   *\n   * If a plugin is not declared in the config, the discovery will fall back to using the baseUrl with\n   * the provided `pathPattern` appended. The default path pattern is `\"/api/{{ pluginId }}\"`.\n   */\n  static fromConfig(config, options) {\n    const path = options?.pathPattern ?? \"/api/{{ pluginId }}\";\n    const baseUrl = config.getString(\"backend.baseUrl\");\n    const endpoints = config.getOptionalConfigArray(\"discovery.endpoints\")?.flatMap((e) => {\n      const target = typeof e.get(\"target\") === \"object\" ? e.getOptionalString(\"target.external\") : e.getString(\"target\");\n      if (!target) {\n        return [];\n      }\n      const discovery = UrlPatternDiscovery.compile(target);\n      return e.getStringArray(\"plugins\").map((pluginId) => [pluginId, discovery]);\n    });\n    return new FrontendHostDiscovery(\n      new Map(endpoints),\n      UrlPatternDiscovery.compile(`${baseUrl}${path}`)\n    );\n  }\n  async getBaseUrl(pluginId) {\n    const endpoint = this.endpoints.get(pluginId);\n    if (endpoint) {\n      return endpoint.getBaseUrl(pluginId);\n    }\n    return this.defaultEndpoint.getBaseUrl(pluginId);\n  }\n}\n\nexport { FrontendHostDiscovery };\n//# sourceMappingURL=FrontendHostDiscovery.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nclass PublishSubject {\n  isClosed = false;\n  terminatingError;\n  observable = new ObservableImpl((subscriber) => {\n    if (this.isClosed) {\n      if (this.terminatingError) {\n        subscriber.error(this.terminatingError);\n      } else {\n        subscriber.complete();\n      }\n      return () => {\n      };\n    }\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\nclass BehaviorSubject {\n  isClosed;\n  currentValue;\n  terminatingError;\n  observable;\n  constructor(value) {\n    this.isClosed = false;\n    this.currentValue = value;\n    this.terminatingError = void 0;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      subscriber.next(this.currentValue);\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.currentValue = value;\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\n\nexport { BehaviorSubject, PublishSubject };\n//# sourceMappingURL=subjects.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass AlertApiForwarder {\n  subject = new PublishSubject();\n  post(alert) {\n    this.subject.next(alert);\n  }\n  alert$() {\n    return this.subject;\n  }\n}\n\nexport { AlertApiForwarder };\n//# sourceMappingURL=AlertApiForwarder.esm.js.map\n","class NoOpAnalyticsApi {\n  captureEvent(_event) {\n  }\n}\n\nexport { NoOpAnalyticsApi };\n//# sourceMappingURL=NoOpAnalyticsApi.esm.js.map\n","class ErrorAlerter {\n  constructor(alertApi, errorApi) {\n    this.alertApi = alertApi;\n    this.errorApi = errorApi;\n  }\n  post(error, context) {\n    if (!context?.hidden) {\n      this.alertApi.post({ message: error.message, severity: \"error\" });\n    }\n    return this.errorApi.post(error, context);\n  }\n  error$() {\n    return this.errorApi.error$();\n  }\n}\n\nexport { ErrorAlerter };\n//# sourceMappingURL=ErrorAlerter.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass ErrorApiForwarder {\n  subject = new PublishSubject();\n  post(error, context) {\n    this.subject.next({ error, context });\n  }\n  error$() {\n    return this.subject;\n  }\n}\n\nexport { ErrorApiForwarder };\n//# sourceMappingURL=ErrorApiForwarder.esm.js.map\n","class UnhandledErrorForwarder {\n  /**\n   * Add event listener, such that unhandled errors can be forwarded using an given `ErrorApi` instance\n   */\n  static forward(errorApi, errorContext) {\n    window.addEventListener(\n      \"unhandledrejection\",\n      (e) => {\n        errorApi.post(e.reason, errorContext);\n      }\n    );\n  }\n}\n\nexport { UnhandledErrorForwarder };\n//# sourceMappingURL=UnhandledErrorForwarder.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nconst buckets = /* @__PURE__ */ new Map();\nclass WebStorage {\n  constructor(namespace, errorApi) {\n    this.namespace = namespace;\n    this.errorApi = errorApi;\n  }\n  static hasSubscribed = false;\n  static create(options) {\n    return new WebStorage(options.namespace ?? \"\", options.errorApi);\n  }\n  static addStorageEventListener() {\n    window.addEventListener(\"storage\", (event) => {\n      for (const [bucketPath, webStorage] of buckets.entries()) {\n        if (event.key?.startsWith(bucketPath)) {\n          webStorage.handleStorageChange(event.key);\n        }\n      }\n    });\n  }\n  get(key) {\n    return this.snapshot(key).value;\n  }\n  snapshot(key) {\n    let value = void 0;\n    let presence = \"absent\";\n    try {\n      const item = localStorage.getItem(this.getKeyName(key));\n      if (item) {\n        value = JSON.parse(item, (_key, val) => {\n          if (typeof val === \"object\" && val !== null) {\n            Object.freeze(val);\n          }\n          return val;\n        });\n        presence = \"present\";\n      }\n    } catch (e) {\n      this.errorApi.post(\n        new Error(`Error when parsing JSON config from storage for: ${key}`)\n      );\n    }\n    return { key, value, presence };\n  }\n  forBucket(name) {\n    const bucketPath = `${this.namespace}/${name}`;\n    if (!buckets.has(bucketPath)) {\n      buckets.set(bucketPath, new WebStorage(bucketPath, this.errorApi));\n    }\n    return buckets.get(bucketPath);\n  }\n  async set(key, data) {\n    localStorage.setItem(this.getKeyName(key), JSON.stringify(data));\n    this.notifyChanges(key);\n  }\n  async remove(key) {\n    localStorage.removeItem(this.getKeyName(key));\n    this.notifyChanges(key);\n  }\n  observe$(key) {\n    if (!WebStorage.hasSubscribed) {\n      WebStorage.addStorageEventListener();\n      WebStorage.hasSubscribed = true;\n    }\n    return this.observable.filter(({ key: messageKey }) => messageKey === key);\n  }\n  handleStorageChange(eventKey) {\n    if (!eventKey?.startsWith(this.namespace)) {\n      return;\n    }\n    const trimmedKey = eventKey?.slice(`${this.namespace}/`.length);\n    if (!trimmedKey.includes(\"/\")) {\n      this.notifyChanges(decodeURIComponent(trimmedKey));\n    }\n  }\n  getKeyName(key) {\n    return `${this.namespace}/${encodeURIComponent(key)}`;\n  }\n  notifyChanges(key) {\n    const snapshot = this.snapshot(key);\n    for (const subscription of this.subscribers) {\n      subscription.next(snapshot);\n    }\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n}\n\nexport { WebStorage, buckets };\n//# sourceMappingURL=WebStorage.esm.js.map\n","function createFetchApi(options) {\n  let result = options.baseImplementation || global.fetch;\n  const middleware = [options.middleware ?? []].flat().reverse();\n  for (const m of middleware) {\n    result = m.apply(result);\n  }\n  return {\n    fetch: result\n  };\n}\n\nexport { createFetchApi };\n//# sourceMappingURL=createFetchApi.esm.js.map\n","class IdentityAuthInjectorFetchMiddleware {\n  constructor(identityApi, allowUrl, headerName, headerValue) {\n    this.identityApi = identityApi;\n    this.allowUrl = allowUrl;\n    this.headerName = headerName;\n    this.headerValue = headerValue;\n  }\n  static create(options) {\n    const matcher = buildMatcher(options);\n    const headerName = options.header?.name || \"authorization\";\n    const headerValue = options.header?.value || ((token) => `Bearer ${token}`);\n    return new IdentityAuthInjectorFetchMiddleware(\n      options.identityApi,\n      matcher,\n      headerName,\n      headerValue\n    );\n  }\n  /**\n   * Returns an array of plugin URL prefixes derived from the static `discovery`\n   * configuration, to be used as `urlPrefixAllowlist` option of {@link create}.\n   */\n  static getDiscoveryUrlPrefixes(config) {\n    const endpointConfigs = config.getOptionalConfigArray(\"discovery.endpoints\") || [];\n    return endpointConfigs.flatMap((c) => {\n      const target = typeof c.get(\"target\") === \"object\" ? c.getString(\"target.external\") : c.getString(\"target\");\n      const plugins = c.getStringArray(\"plugins\");\n      return plugins.map(\n        (pluginId) => target.replace(/\\{\\{\\s*pluginId\\s*\\}\\}/g, pluginId)\n      );\n    });\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const { token } = await this.identityApi.getCredentials();\n      if (request.headers.get(this.headerName) || typeof token !== \"string\" || !token || !this.allowUrl(request.url)) {\n        return next(input, init);\n      }\n      request.headers.set(this.headerName, this.headerValue(token));\n      return next(request);\n    };\n  }\n}\nfunction buildMatcher(options) {\n  if (options.allowUrl) {\n    return options.allowUrl;\n  } else if (options.urlPrefixAllowlist) {\n    return buildPrefixMatcher(options.urlPrefixAllowlist);\n  } else if (options.config) {\n    return buildPrefixMatcher([\n      options.config.getString(\"backend.baseUrl\"),\n      ...IdentityAuthInjectorFetchMiddleware.getDiscoveryUrlPrefixes(\n        options.config\n      )\n    ]);\n  }\n  return () => false;\n}\nfunction buildPrefixMatcher(prefixes) {\n  const trimmedPrefixes = prefixes.map((prefix) => prefix.replace(/\\/$/, \"\"));\n  return (url) => trimmedPrefixes.some(\n    (prefix) => url === prefix || url.startsWith(`${prefix}/`)\n  );\n}\n\nexport { IdentityAuthInjectorFetchMiddleware };\n//# sourceMappingURL=IdentityAuthInjectorFetchMiddleware.esm.js.map\n","function join(left, right) {\n  if (!right || right === \"/\") {\n    return left;\n  }\n  return `${left.replace(/\\/$/, \"\")}/${right.replace(/^\\//, \"\")}`;\n}\nclass PluginProtocolResolverFetchMiddleware {\n  constructor(discoveryApi) {\n    this.discoveryApi = discoveryApi;\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const prefix = \"plugin://\";\n      if (!request.url.startsWith(prefix)) {\n        return next(input, init);\n      }\n      const { hostname, pathname, search, hash, username, password } = new URL(\n        `http://${request.url.substring(prefix.length)}`\n      );\n      let base = await this.discoveryApi.getBaseUrl(hostname);\n      if (username || password) {\n        const baseUrl = new URL(base);\n        const authority = `${username}${password ? `:${password}` : \"\"}@`;\n        base = `${baseUrl.protocol}//${authority}${baseUrl.host}${baseUrl.pathname}`;\n      }\n      const target = `${join(base, pathname)}${search}${hash}`;\n      return next(\n        target,\n        typeof input === \"string\" || isUrl(input) ? init : input\n      );\n    };\n  }\n}\nfunction isUrl(a) {\n  return typeof a === \"object\" && a?.constructor === URL;\n}\n\nexport { PluginProtocolResolverFetchMiddleware };\n//# sourceMappingURL=PluginProtocolResolverFetchMiddleware.esm.js.map\n","import { IdentityAuthInjectorFetchMiddleware } from './IdentityAuthInjectorFetchMiddleware.esm.js';\nimport { PluginProtocolResolverFetchMiddleware } from './PluginProtocolResolverFetchMiddleware.esm.js';\n\nclass FetchMiddlewares {\n  /**\n   * Handles translation from `plugin://` URLs to concrete http(s) URLs based on\n   * the discovery API.\n   *\n   * @remarks\n   *\n   * If the request is for `plugin://catalog/entities?filter=x=y`, the discovery\n   * API will be queried for `'catalog'`. If it returned\n   * `https://backstage.example.net/api/catalog`, the resulting query would be\n   * `https://backstage.example.net/api/catalog/entities?filter=x=y`.\n   *\n   * If the incoming URL protocol was not `plugin`, the request is just passed\n   * through verbatim to the underlying implementation.\n   */\n  static resolvePluginProtocol(options) {\n    return new PluginProtocolResolverFetchMiddleware(options.discoveryApi);\n  }\n  /**\n   * Injects a Backstage token header when the user is signed in.\n   *\n   * @remarks\n   *\n   * Per default, an `Authorization: Bearer <token>` is generated. This can be\n   * customized using the `header` option.\n   *\n   * The header injection only happens on allowlisted URLs. Per default, if the\n   * `config` option is passed in, the `backend.baseUrl` is allowlisted, unless\n   * the `urlPrefixAllowlist` or `allowUrl` options are passed in, in which case\n   * they take precedence. If you pass in neither config nor an\n   * allowlist/callback, the middleware will have no effect since effectively no\n   * request will match the (nonexistent) rules.\n   */\n  static injectIdentityAuth(options) {\n    return IdentityAuthInjectorFetchMiddleware.create(options);\n  }\n  constructor() {\n  }\n}\n\nexport { FetchMiddlewares };\n//# sourceMappingURL=FetchMiddlewares.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nfunction hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction joinScopes(scopes, ...moreScopess) {\n  const result = new Set(scopes);\n  for (const moreScopes of moreScopess) {\n    for (const scope of moreScopes) {\n      result.add(scope);\n    }\n  }\n  return result;\n}\nclass OAuthPendingRequests {\n  requests = [];\n  subject = new BehaviorSubject(\n    this.getCurrentPending()\n  );\n  request(scopes) {\n    return new Promise((resolve, reject) => {\n      this.requests.push({ scopes, resolve, reject });\n      this.subject.next(this.getCurrentPending());\n    });\n  }\n  resolve(scopes, result) {\n    this.requests = this.requests.filter((request) => {\n      if (hasScopes(scopes, request.scopes)) {\n        request.resolve(result);\n        return false;\n      }\n      return true;\n    });\n    this.subject.next(this.getCurrentPending());\n  }\n  reject(error) {\n    this.requests.forEach((request) => request.reject(error));\n    this.requests = [];\n    this.subject.next(this.getCurrentPending());\n  }\n  pending() {\n    return this.subject;\n  }\n  getCurrentPending() {\n    const currentScopes = this.requests.length === 0 ? void 0 : this.requests.slice(1).reduce(\n      (acc, current) => joinScopes(acc, current.scopes),\n      this.requests[0].scopes\n    );\n    return {\n      scopes: currentScopes,\n      resolve: (value) => {\n        if (currentScopes) {\n          this.resolve(currentScopes, value);\n        }\n      },\n      reject: (reason) => {\n        if (currentScopes) {\n          this.reject(reason);\n        }\n      }\n    };\n  }\n}\n\nexport { OAuthPendingRequests, hasScopes, joinScopes };\n//# sourceMappingURL=OAuthPendingRequests.esm.js.map\n","import { OAuthPendingRequests } from './OAuthPendingRequests.esm.js';\nimport { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nclass OAuthRequestManager {\n  subject = new BehaviorSubject([]);\n  currentRequests = [];\n  handlerCount = 0;\n  createAuthRequester(options) {\n    const handler = new OAuthPendingRequests();\n    const index = this.handlerCount;\n    this.handlerCount++;\n    handler.pending().subscribe({\n      next: (scopeRequest) => {\n        const newRequests = this.currentRequests.slice();\n        const request = this.makeAuthRequest(scopeRequest, options);\n        if (!request) {\n          delete newRequests[index];\n        } else {\n          newRequests[index] = request;\n        }\n        this.currentRequests = newRequests;\n        this.subject.next(newRequests.filter(Boolean));\n      }\n    });\n    return (scopes) => {\n      return handler.request(scopes);\n    };\n  }\n  // Converts the pending request and popup options into a popup request that we can forward to subscribers.\n  makeAuthRequest(request, options) {\n    const { scopes } = request;\n    if (!scopes) {\n      return void 0;\n    }\n    return {\n      provider: options.provider,\n      trigger: async () => {\n        const result = await options.onAuthRequest(scopes);\n        request.resolve(result);\n      },\n      reject: () => {\n        const error = new Error(\"Login failed, rejected by user\");\n        error.name = \"RejectedError\";\n        request.reject(error);\n      }\n    };\n  }\n  authRequest$() {\n    return this.subject;\n  }\n}\n\nexport { OAuthRequestManager };\n//# sourceMappingURL=OAuthRequestManager.esm.js.map\n","function showLoginPopup(options) {\n  return new Promise((resolve, reject) => {\n    const width = options.width || 500;\n    const height = options.height || 700;\n    const left = window.screen.width / 2 - width / 2;\n    const top = window.screen.height / 2 - height / 2;\n    const popup = window.open(\n      options.url,\n      options.name,\n      `menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${width},height=${height},top=${top},left=${left}`\n    );\n    let targetOrigin = \"\";\n    if (!popup || typeof popup.closed === \"undefined\" || popup.closed) {\n      const error = new Error(\"Failed to open auth popup.\");\n      error.name = \"PopupRejectedError\";\n      reject(error);\n      return;\n    }\n    const messageListener = (event) => {\n      if (event.source !== popup) {\n        return;\n      }\n      if (event.origin !== options.origin) {\n        return;\n      }\n      const { data } = event;\n      if (data.type === \"config_info\") {\n        targetOrigin = data.targetOrigin;\n        return;\n      }\n      if (data.type !== \"authorization_response\") {\n        return;\n      }\n      const authResult = data;\n      if (\"error\" in authResult) {\n        const error = new Error(authResult.error.message);\n        error.name = authResult.error.name;\n        reject(error);\n      } else {\n        resolve(authResult.response);\n      }\n      done();\n    };\n    const intervalId = setInterval(() => {\n      if (popup.closed) {\n        const errMessage = `Login failed, ${targetOrigin && targetOrigin !== window.location.origin ? `Incorrect app origin, expected ${targetOrigin}` : \"popup was closed\"}`;\n        const error = new Error(errMessage);\n        error.name = \"PopupClosedError\";\n        reject(error);\n        done();\n      }\n    }, 100);\n    function done() {\n      window.removeEventListener(\"message\", messageListener);\n      clearInterval(intervalId);\n    }\n    window.addEventListener(\"message\", messageListener);\n  });\n}\n\nexport { showLoginPopup };\n//# sourceMappingURL=loginPopup.esm.js.map\n","import { showLoginPopup } from '../loginPopup.esm.js';\n\nlet warned = false;\nfunction defaultJoinScopes(scopes) {\n  return [...scopes].join(\" \");\n}\nclass DefaultAuthConnector {\n  discoveryApi;\n  environment;\n  provider;\n  joinScopesFunc;\n  authRequester;\n  sessionTransform;\n  enableExperimentalRedirectFlow;\n  popupOptions;\n  constructor(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      joinScopes = defaultJoinScopes,\n      oauthRequestApi,\n      sessionTransform = (id) => id,\n      popupOptions\n    } = options;\n    if (!warned && !configApi) {\n      console.warn(\n        \"DEPRECATION WARNING: Authentication providers require a configApi instance to configure the authentication flow. Please provide one to the authentication provider constructor.\"\n      );\n      warned = true;\n    }\n    this.enableExperimentalRedirectFlow = configApi ? configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false : false;\n    this.authRequester = oauthRequestApi.createAuthRequester({\n      provider,\n      onAuthRequest: async (scopes) => {\n        if (!this.enableExperimentalRedirectFlow) {\n          return this.showPopup(scopes);\n        }\n        return this.executeRedirect(scopes);\n      }\n    });\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.joinScopesFunc = joinScopes;\n    this.sessionTransform = sessionTransform;\n    this.popupOptions = popupOptions;\n  }\n  async createSession(options) {\n    if (options.instantPopup) {\n      if (this.enableExperimentalRedirectFlow) {\n        return this.executeRedirect(options.scopes);\n      }\n      return this.showPopup(options.scopes);\n    }\n    return this.authRequester(options.scopes);\n  }\n  async refreshSession(scopes) {\n    const res = await fetch(\n      await this.buildUrl(\"/refresh\", {\n        optional: true,\n        ...scopes && { scope: this.joinScopesFunc(scopes) }\n      }),\n      {\n        headers: {\n          \"x-requested-with\": \"XMLHttpRequest\"\n        },\n        credentials: \"include\"\n      }\n    ).catch((error) => {\n      throw new Error(`Auth refresh request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(\n        `Auth refresh request failed, ${res.statusText}`\n      );\n      error.status = res.status;\n      throw error;\n    }\n    const authInfo = await res.json();\n    if (authInfo.error) {\n      const error = new Error(authInfo.error.message);\n      if (authInfo.error.name) {\n        error.name = authInfo.error.name;\n      }\n      throw error;\n    }\n    return await this.sessionTransform(authInfo);\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async showPopup(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    const popupUrl = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      flow: \"popup\"\n    });\n    const width = this.popupOptions?.size?.fullscreen ? window.screen.width : this.popupOptions?.size?.width || 450;\n    const height = this.popupOptions?.size?.fullscreen ? window.screen.height : this.popupOptions?.size?.height || 730;\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width,\n      height\n    });\n    return await this.sessionTransform(payload);\n  }\n  async executeRedirect(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    window.location.href = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      redirectUrl: window.location.href,\n      flow: \"redirect\"\n    });\n    return new Promise(() => {\n    });\n  }\n  async buildUrl(path, query) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    const queryString = this.buildQueryString({\n      ...query,\n      env: this.environment\n    });\n    return `${baseUrl}/${this.provider.id}${path}${queryString}`;\n  }\n  buildQueryString(query) {\n    if (!query) {\n      return \"\";\n    }\n    const queryString = Object.entries(query).map(([key, value]) => {\n      if (typeof value === \"string\") {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      } else if (value) {\n        return encodeURIComponent(key);\n      }\n      return void 0;\n    }).filter(Boolean).join(\"&\");\n    if (!queryString) {\n      return \"\";\n    }\n    return `?${queryString}`;\n  }\n}\n\nexport { DefaultAuthConnector };\n//# sourceMappingURL=DefaultAuthConnector.esm.js.map\n","function hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nclass SessionScopeHelper {\n  constructor(options) {\n    this.options = options;\n  }\n  sessionExistsAndHasScope(session, scopes) {\n    if (!session) {\n      return false;\n    }\n    if (!scopes) {\n      return true;\n    }\n    if (this.options.sessionScopes === void 0) {\n      return true;\n    }\n    const sessionScopes = this.options.sessionScopes(session);\n    return hasScopes(sessionScopes, scopes);\n  }\n  getExtendedScope(session, scopes) {\n    const newScope = new Set(this.options.defaultScopes);\n    if (session && this.options.sessionScopes !== void 0) {\n      const sessionScopes = this.options.sessionScopes(session);\n      for (const scope of sessionScopes) {\n        newScope.add(scope);\n      }\n    }\n    if (scopes) {\n      for (const scope of scopes) {\n        newScope.add(scope);\n      }\n    }\n    return newScope;\n  }\n}\n\nexport { SessionScopeHelper, hasScopes };\n//# sourceMappingURL=common.esm.js.map\n","import { BehaviorSubject } from '../subjects.esm.js';\nimport { SessionState } from '@backstage/core-plugin-api';\n\nclass SessionStateTracker {\n  subject = new BehaviorSubject(\n    SessionState.SignedOut\n  );\n  signedIn = false;\n  setIsSignedIn(isSignedIn) {\n    if (this.signedIn !== isSignedIn) {\n      this.signedIn = isSignedIn;\n      this.subject.next(\n        this.signedIn ? SessionState.SignedIn : SessionState.SignedOut\n      );\n    }\n  }\n  sessionState$() {\n    return this.subject;\n  }\n}\n\nexport { SessionStateTracker };\n//# sourceMappingURL=SessionStateTracker.esm.js.map\n","import { SessionScopeHelper, hasScopes } from './common.esm.js';\nimport { SessionStateTracker } from './SessionStateTracker.esm.js';\n\nclass RefreshingAuthSessionManager {\n  connector;\n  helper;\n  sessionScopesFunc;\n  sessionShouldRefreshFunc;\n  stateTracker = new SessionStateTracker();\n  refreshPromise;\n  currentSession;\n  constructor(options) {\n    const {\n      connector,\n      defaultScopes = /* @__PURE__ */ new Set(),\n      sessionScopes,\n      sessionShouldRefresh\n    } = options;\n    this.connector = connector;\n    this.sessionScopesFunc = sessionScopes;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({ sessionScopes, defaultScopes });\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(this.currentSession);\n      if (!shouldRefresh) {\n        return this.currentSession;\n      }\n      try {\n        const refreshedSession = await this.collapsedSessionRefresh(\n          options.scopes\n        );\n        const currentScopes = this.sessionScopesFunc(this.currentSession);\n        const refreshedScopes = this.sessionScopesFunc(refreshedSession);\n        if (hasScopes(refreshedScopes, currentScopes)) {\n          this.currentSession = refreshedSession;\n        }\n        return refreshedSession;\n      } catch (error) {\n        if (options.optional) {\n          return void 0;\n        }\n        throw error;\n      }\n    }\n    if (!options.instantPopup) {\n      try {\n        const newSession = await this.collapsedSessionRefresh(options.scopes);\n        this.currentSession = newSession;\n        return this.getSession(options);\n      } catch {\n      }\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n  async collapsedSessionRefresh(scopes) {\n    if (this.refreshPromise) {\n      return this.refreshPromise;\n    }\n    this.refreshPromise = this.connector.refreshSession(\n      this.helper.getExtendedScope(this.currentSession, scopes)\n    );\n    try {\n      const session = await this.refreshPromise;\n      if (!this.helper.sessionExistsAndHasScope(session, scopes)) {\n        throw new Error(\n          \"Refreshed session did not receive the required scopes\"\n        );\n      }\n      this.stateTracker.setIsSignedIn(true);\n      return session;\n    } finally {\n      delete this.refreshPromise;\n    }\n  }\n}\n\nexport { RefreshingAuthSessionManager };\n//# sourceMappingURL=RefreshingAuthSessionManager.esm.js.map\n","import { DefaultAuthConnector } from '../../../../lib/AuthConnector/DefaultAuthConnector.esm.js';\nimport { RefreshingAuthSessionManager } from '../../../../lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js';\nimport 'zen-observable';\nimport '@backstage/core-plugin-api';\n\nconst DEFAULT_PROVIDER = {\n  id: \"oauth2\",\n  title: \"Your Identity Provider\",\n  icon: () => null\n};\nclass OAuth2 {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [],\n      scopeTransform = (x) => x,\n      popupOptions\n    } = options;\n    const connector = new DefaultAuthConnector({\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform({\n        backstageIdentity,\n        ...res\n      }) {\n        const session = {\n          ...res,\n          providerInfo: {\n            idToken: res.providerInfo.idToken,\n            accessToken: res.providerInfo.accessToken,\n            scopes: OAuth2.normalizeScopes(\n              scopeTransform,\n              res.providerInfo.scope\n            ),\n            expiresAt: res.providerInfo.expiresInSeconds ? new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3) : void 0\n          }\n        };\n        if (backstageIdentity) {\n          session.backstageIdentity = {\n            token: backstageIdentity.token,\n            identity: backstageIdentity.identity,\n            expiresAt: backstageIdentity.expiresInSeconds ? new Date(Date.now() + backstageIdentity.expiresInSeconds * 1e3) : void 0\n          };\n        }\n        return session;\n      },\n      popupOptions\n    });\n    const sessionManager = new RefreshingAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes,\n      sessionShouldRefresh: (session) => {\n        let min = Infinity;\n        if (session.providerInfo?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.providerInfo.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        if (session.backstageIdentity?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.backstageIdentity.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        return min < 60 * 3;\n      }\n    });\n    return new OAuth2({ sessionManager, scopeTransform });\n  }\n  sessionManager;\n  scopeTransform;\n  constructor(options) {\n    this.sessionManager = options.sessionManager;\n    this.scopeTransform = options.scopeTransform;\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    const normalizedScopes = OAuth2.normalizeScopes(this.scopeTransform, scope);\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: normalizedScopes\n    });\n    return session?.providerInfo.accessToken ?? \"\";\n  }\n  async getIdToken(options = {}) {\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: /* @__PURE__ */ new Set([\"openid\"])\n    });\n    return session?.providerInfo.idToken ?? \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.profile;\n  }\n  static normalizeScopes(scopeTransform, scopes) {\n    if (!scopes) {\n      return /* @__PURE__ */ new Set();\n    }\n    const scopeList = Array.isArray(scopes) ? scopes : scopes.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeTransform(scopeList));\n  }\n}\n\nexport { OAuth2 as default };\n//# sourceMappingURL=OAuth2.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"google\",\n  title: \"Google\",\n  icon: () => null\n};\nconst SCOPE_PREFIX = \"https://www.googleapis.com/auth/\";\nclass GoogleAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\n        \"openid\",\n        `${SCOPE_PREFIX}userinfo.email`,\n        `${SCOPE_PREFIX}userinfo.profile`\n      ]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (scope === \"openid\") {\n            return scope;\n          }\n          if (scope === \"profile\" || scope === \"email\") {\n            return `${SCOPE_PREFIX}userinfo.${scope}`;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { GoogleAuth as default };\n//# sourceMappingURL=GoogleAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"microsoft\",\n  title: \"Microsoft\",\n  icon: () => null\n};\nclass MicrosoftAuth {\n  oauth2;\n  configApi;\n  environment;\n  provider;\n  oauthRequestApi;\n  discoveryApi;\n  scopeTransform;\n  static MicrosoftGraphID = \"00000003-0000-0000-c000-000000000000\";\n  static create(options) {\n    return new MicrosoftAuth(options);\n  }\n  constructor(options) {\n    const {\n      configApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      discoveryApi,\n      defaultScopes = [\n        \"openid\",\n        \"offline_access\",\n        \"profile\",\n        \"email\",\n        \"User.Read\"\n      ],\n      scopeTransform = (scopes) => scopes.concat(\"offline_access\")\n    } = options;\n    this.configApi = configApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.oauthRequestApi = oauthRequestApi;\n    this.discoveryApi = discoveryApi;\n    this.scopeTransform = scopeTransform;\n    this.oauth2 = {\n      [MicrosoftAuth.MicrosoftGraphID]: OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform,\n        defaultScopes\n      })\n    };\n  }\n  microsoftGraph() {\n    return this.oauth2[MicrosoftAuth.MicrosoftGraphID];\n  }\n  static resourceForScopes(scope) {\n    const audiences = [\n      ...new Set(\n        scope.split(\" \").map(MicrosoftAuth.resourceForScope).filter((aud) => aud !== \"openid\")\n      )\n    ];\n    if (audiences.length > 1) {\n      return Promise.reject(\n        new Error(\n          `Requested access token with scopes from multiple Azure resources: ${audiences.join(\n            \", \"\n          )}. Access tokens can only have a single audience.`\n        )\n      );\n    }\n    const audience = audiences[0] ?? MicrosoftAuth.MicrosoftGraphID;\n    return Promise.resolve(audience);\n  }\n  static resourceForScope(scope) {\n    const groups = scope.match(/^(?<resourceURI>.*)\\/(?<scp>[^\\/]*)$/)?.groups;\n    if (groups) {\n      const { resourceURI } = groups;\n      const aud = resourceURI.replace(/^api:\\/\\//, \"\");\n      return aud;\n    }\n    switch (scope) {\n      case \"email\":\n      case \"openid\":\n      case \"offline_access\":\n      case \"profile\": {\n        return \"openid\";\n      }\n      default:\n        return MicrosoftAuth.MicrosoftGraphID;\n    }\n  }\n  async getAccessToken(scope, options) {\n    const aud = scope === void 0 ? MicrosoftAuth.MicrosoftGraphID : await MicrosoftAuth.resourceForScopes(\n      Array.isArray(scope) ? scope.join(\" \") : scope\n    );\n    if (!(aud in this.oauth2)) {\n      this.oauth2[aud] = OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform\n      });\n    }\n    return this.oauth2[aud].getAccessToken(scope, options);\n  }\n  getIdToken(options) {\n    return this.microsoftGraph().getIdToken(options);\n  }\n  getProfile(options) {\n    return this.microsoftGraph().getProfile(options);\n  }\n  getBackstageIdentity(options) {\n    return this.microsoftGraph().getBackstageIdentity(options);\n  }\n  signIn() {\n    return this.microsoftGraph().signIn();\n  }\n  signOut() {\n    return this.microsoftGraph().signOut();\n  }\n  sessionState$() {\n    return this.microsoftGraph().sessionState$();\n  }\n}\n\nexport { MicrosoftAuth as default };\n//# sourceMappingURL=MicrosoftAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"github\",\n  title: \"GitHub\",\n  icon: () => null\n};\nclass GithubAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read:user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GithubAuth as default };\n//# sourceMappingURL=GithubAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"okta\",\n  title: \"Okta\",\n  icon: () => null\n};\nconst OKTA_OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst OKTA_SCOPE_PREFIX = \"okta.\";\nclass OktaAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"openid\", \"email\", \"profile\", \"offline_access\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OKTA_OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(OKTA_SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${OKTA_SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OktaAuth as default };\n//# sourceMappingURL=OktaAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"gitlab\",\n  title: \"GitLab\",\n  icon: () => null\n};\nclass GitlabAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read_user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GitlabAuth as default };\n//# sourceMappingURL=GitlabAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"onelogin\",\n  title: \"onelogin\",\n  icon: () => null\n};\nconst OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst SCOPE_PREFIX = \"onelogin.\";\nclass OneLoginAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OneLoginAuth as default };\n//# sourceMappingURL=OneLoginAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucket\",\n  title: \"Bitbucket\",\n  icon: () => null\n};\nclass BitbucketAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"account\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketAuth as default };\n//# sourceMappingURL=BitbucketAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucketServer\",\n  title: \"Bitbucket Server\",\n  icon: () => null\n};\nclass BitbucketServerAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"PROJECT_ADMIN\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketServerAuth as default };\n//# sourceMappingURL=BitbucketServerAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"atlassian\",\n  title: \"Atlassian\",\n  icon: () => null\n};\nclass AtlassianAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment\n    });\n  }\n}\n\nexport { AtlassianAuth as default };\n//# sourceMappingURL=AtlassianAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"vmwareCloudServices\",\n  title: \"VMware Cloud\",\n  icon: () => null\n};\nclass VMwareCloudAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\"openid\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { VMwareCloudAuth as default };\n//# sourceMappingURL=VMwareCloudAuth.esm.js.map\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { ResponseError } from '@backstage/errors';\nimport fetch from 'cross-fetch';\nimport * as uuid from 'uuid';\nimport { z } from 'zod';\nimport { AuthorizeResult } from './types/api.esm.js';\n\nconst permissionCriteriaSchema = z.lazy(\n  () => z.object({\n    rule: z.string(),\n    resourceType: z.string(),\n    params: z.record(z.any()).optional()\n  }).or(z.object({ anyOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ allOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ not: permissionCriteriaSchema }))\n);\nconst authorizePermissionResponseSchema = z.object({\n  result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n});\nconst queryPermissionResponseSchema = z.union([\n  z.object({\n    result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n  }),\n  z.object({\n    result: z.literal(AuthorizeResult.CONDITIONAL),\n    pluginId: z.string(),\n    resourceType: z.string(),\n    conditions: permissionCriteriaSchema\n  })\n]);\nconst responseSchema = (itemSchema, ids) => z.object({\n  items: z.array(\n    z.intersection(\n      z.object({\n        id: z.string()\n      }),\n      itemSchema\n    )\n  ).refine(\n    (items) => items.length === ids.size && items.every(({ id }) => ids.has(id)),\n    {\n      message: \"Items in response do not match request\"\n    }\n  )\n});\nclass PermissionClient {\n  enabled;\n  discovery;\n  constructor(options) {\n    this.discovery = options.discovery;\n    this.enabled = options.config.getOptionalBoolean(\"permission.enabled\") ?? false;\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorize}\n   */\n  async authorize(requests, options) {\n    return this.makeRequest(\n      requests,\n      authorizePermissionResponseSchema,\n      options\n    );\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorizeConditional}\n   */\n  async authorizeConditional(queries, options) {\n    return this.makeRequest(queries, queryPermissionResponseSchema, options);\n  }\n  async makeRequest(queries, itemSchema, options) {\n    if (!this.enabled) {\n      return queries.map((_) => ({ result: AuthorizeResult.ALLOW }));\n    }\n    const request = {\n      items: queries.map((query) => ({\n        id: uuid.v4(),\n        ...query\n      }))\n    };\n    const permissionApi = await this.discovery.getBaseUrl(\"permission\");\n    const response = await fetch(`${permissionApi}/authorize`, {\n      method: \"POST\",\n      body: JSON.stringify(request),\n      headers: {\n        ...this.getAuthorizationHeader(options?.token),\n        \"content-type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const responseBody = await response.json();\n    const parsedResponse = responseSchema(\n      itemSchema,\n      new Set(request.items.map(({ id }) => id))\n    ).parse(responseBody);\n    const responsesById = parsedResponse.items.reduce((acc, r) => {\n      acc[r.id] = r;\n      return acc;\n    }, {});\n    return request.items.map((query) => responsesById[query.id]);\n  }\n  getAuthorizationHeader(token) {\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  }\n}\n\nexport { PermissionClient };\n//# sourceMappingURL=PermissionClient.esm.js.map\n","import { PermissionClient } from '@backstage/plugin-permission-common';\n\nclass IdentityPermissionApi {\n  constructor(permissionClient, identityApi) {\n    this.permissionClient = permissionClient;\n    this.identityApi = identityApi;\n  }\n  static create(options) {\n    const { config, discovery, identity } = options;\n    const permissionClient = new PermissionClient({ discovery, config });\n    return new IdentityPermissionApi(permissionClient, identity);\n  }\n  async authorize(request) {\n    const response = await this.permissionClient.authorize(\n      [request],\n      await this.identityApi.getCredentials()\n    );\n    return response[0];\n  }\n}\n\nexport { IdentityPermissionApi };\n//# sourceMappingURL=IdentityPermissionApi.esm.js.map\n","import { FrontendHostDiscovery, AlertApiForwarder, NoOpAnalyticsApi, ErrorAlerter, ErrorApiForwarder, UnhandledErrorForwarder, WebStorage, createFetchApi, FetchMiddlewares, OAuthRequestManager, GoogleAuth, MicrosoftAuth, GithubAuth, OktaAuth, GitlabAuth, OneLoginAuth, BitbucketAuth, BitbucketServerAuth, AtlassianAuth, VMwareCloudAuth } from '@backstage/core-app-api';\nimport { createApiFactory, discoveryApiRef, configApiRef, alertApiRef, analyticsApiRef, errorApiRef, storageApiRef, fetchApiRef, identityApiRef, oauthRequestApiRef, googleAuthApiRef, microsoftAuthApiRef, githubAuthApiRef, oktaAuthApiRef, gitlabAuthApiRef, oneloginAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, atlassianAuthApiRef, vmwareCloudAuthApiRef } from '@backstage/core-plugin-api';\nimport { permissionApiRef, IdentityPermissionApi } from '@backstage/plugin-permission-react';\n\nconst apis = [\n  createApiFactory({\n    api: discoveryApiRef,\n    deps: { configApi: configApiRef },\n    factory: ({ configApi }) => FrontendHostDiscovery.fromConfig(configApi)\n  }),\n  createApiFactory({\n    api: alertApiRef,\n    deps: {},\n    factory: () => new AlertApiForwarder()\n  }),\n  createApiFactory({\n    api: analyticsApiRef,\n    deps: {},\n    factory: () => new NoOpAnalyticsApi()\n  }),\n  createApiFactory({\n    api: errorApiRef,\n    deps: { alertApi: alertApiRef },\n    factory: ({ alertApi }) => {\n      const errorApi = new ErrorAlerter(alertApi, new ErrorApiForwarder());\n      UnhandledErrorForwarder.forward(errorApi, { hidden: false });\n      return errorApi;\n    }\n  }),\n  createApiFactory({\n    api: storageApiRef,\n    deps: { errorApi: errorApiRef },\n    factory: ({ errorApi }) => WebStorage.create({ errorApi })\n  }),\n  createApiFactory({\n    api: fetchApiRef,\n    deps: {\n      configApi: configApiRef,\n      identityApi: identityApiRef,\n      discoveryApi: discoveryApiRef\n    },\n    factory: ({ configApi, identityApi, discoveryApi }) => {\n      return createFetchApi({\n        middleware: [\n          FetchMiddlewares.resolvePluginProtocol({\n            discoveryApi\n          }),\n          FetchMiddlewares.injectIdentityAuth({\n            identityApi,\n            config: configApi\n          })\n        ]\n      });\n    }\n  }),\n  createApiFactory({\n    api: oauthRequestApiRef,\n    deps: {},\n    factory: () => new OAuthRequestManager()\n  }),\n  createApiFactory({\n    api: googleAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GoogleAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: microsoftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => MicrosoftAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: githubAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GithubAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"read:user\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oktaAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OktaAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: gitlabAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GitlabAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oneloginAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OneLoginAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"account\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketServerAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketServerAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"REPO_READ\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: atlassianAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return AtlassianAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: vmwareCloudAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return VMwareCloudAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: permissionApiRef,\n    deps: {\n      discovery: discoveryApiRef,\n      identity: identityApiRef,\n      config: configApiRef\n    },\n    factory: ({ config, discovery, identity }) => IdentityPermissionApi.create({ config, discovery, identity })\n  })\n];\n\nexport { apis };\n//# sourceMappingURL=apis.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport Button from '@material-ui/core/Button';\nimport { Progress, ErrorPage, ErrorPanel } from '@backstage/core-components';\nimport { BrowserRouter, useInRouterContext, MemoryRouter } from 'react-router-dom';\n\nfunction OptionallyWrapInRouter({ children }) {\n  if (useInRouterContext()) {\n    return /* @__PURE__ */ jsx(Fragment, { children });\n  }\n  return /* @__PURE__ */ jsx(MemoryRouter, { children });\n}\nconst DefaultNotFoundPage = () => /* @__PURE__ */ jsx(ErrorPage, { status: \"404\", statusMessage: \"PAGE NOT FOUND\" });\nconst DefaultBootErrorPage = ({ step, error }) => {\n  let message = \"\";\n  if (step === \"load-config\") {\n    message = `The configuration failed to load, someone should have a look at this error: ${error.message}`;\n  } else if (step === \"load-chunk\") {\n    message = `Lazy loaded chunk failed to load, try to reload the page: ${error.message}`;\n  }\n  return /* @__PURE__ */ jsx(OptionallyWrapInRouter, { children: /* @__PURE__ */ jsx(ErrorPage, { statusMessage: message, stack: error.stack }) });\n};\nconst DefaultErrorBoundaryFallback = ({\n  error,\n  resetError,\n  plugin\n}) => {\n  return /* @__PURE__ */ jsx(\n    ErrorPanel,\n    {\n      title: `Error in ${plugin?.getId()}`,\n      defaultExpanded: true,\n      error,\n      children: /* @__PURE__ */ jsx(Button, { variant: \"outlined\", onClick: resetError, children: \"Retry\" })\n    }\n  );\n};\nconst components = {\n  Progress,\n  Router: BrowserRouter,\n  NotFoundErrorPage: DefaultNotFoundPage,\n  BootErrorPage: DefaultBootErrorPage,\n  ErrorBoundaryFallback: DefaultErrorBoundaryFallback\n};\n\nexport { OptionallyWrapInRouter, components };\n//# sourceMappingURL=components.esm.js.map\n","import MuiApartmentIcon from '@material-ui/icons/Apartment';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport MuiCategoryIcon from '@material-ui/icons/Category';\nimport MuiCreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiSubjectIcon from '@material-ui/icons/Subject';\nimport MuiSearchIcon from '@material-ui/icons/Search';\nimport MuiChatIcon from '@material-ui/icons/Chat';\nimport MuiDashboardIcon from '@material-ui/icons/Dashboard';\nimport MuiDocsIcon from '@material-ui/icons/Description';\nimport MuiEmailIcon from '@material-ui/icons/Email';\nimport MuiExtensionIcon from '@material-ui/icons/Extension';\nimport MuiGitHubIcon from '@material-ui/icons/GitHub';\nimport MuiHelpIcon from '@material-ui/icons/Help';\nimport MuiLocationOnIcon from '@material-ui/icons/LocationOn';\nimport MuiMemoryIcon from '@material-ui/icons/Memory';\nimport MuiMenuBookIcon from '@material-ui/icons/MenuBook';\nimport MuiPeopleIcon from '@material-ui/icons/People';\nimport MuiPersonIcon from '@material-ui/icons/Person';\nimport MuiWarningIcon from '@material-ui/icons/Warning';\nimport MuiStorageIcon from '@material-ui/icons/Storage';\nimport MuiFeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\nimport Star from '@material-ui/icons/Star';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\n\nconst icons = {\n  brokenImage: MuiBrokenImageIcon,\n  // To be confirmed: see https://github.com/backstage/backstage/issues/4970\n  catalog: MuiMenuBookIcon,\n  scaffolder: MuiCreateNewFolderIcon,\n  techdocs: MuiSubjectIcon,\n  search: MuiSearchIcon,\n  chat: MuiChatIcon,\n  dashboard: MuiDashboardIcon,\n  docs: MuiDocsIcon,\n  email: MuiEmailIcon,\n  github: MuiGitHubIcon,\n  group: MuiPeopleIcon,\n  help: MuiHelpIcon,\n  \"kind:api\": MuiExtensionIcon,\n  \"kind:component\": MuiMemoryIcon,\n  \"kind:domain\": MuiApartmentIcon,\n  \"kind:group\": MuiPeopleIcon,\n  \"kind:location\": MuiLocationOnIcon,\n  \"kind:system\": MuiCategoryIcon,\n  \"kind:user\": MuiPersonIcon,\n  \"kind:resource\": MuiStorageIcon,\n  \"kind:template\": MuiFeaturedPlayListIcon,\n  user: MuiPersonIcon,\n  warning: MuiWarningIcon,\n  star: Star,\n  unstarred: StarBorder,\n  externalLink: OpenInNew\n};\n\nexport { icons };\n//# sourceMappingURL=icons.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { createGenerateClassName, StylesProvider, ThemeProvider } from '@material-ui/core/styles';\nimport { StyledEngineProvider, ThemeProvider as ThemeProvider$1 } from '@mui/material/styles';\nimport { unstable_ClassNameGenerator } from '@mui/material/className';\n\nunstable_ClassNameGenerator.configure((componentName) => {\n  return `v5-${componentName}`;\n});\nconst generateV4ClassName = createGenerateClassName({\n  productionPrefix: \"jss4-\"\n});\nfunction UnifiedThemeProvider(props) {\n  const { children, theme, noCssBaseline = false } = props;\n  const v4Theme = theme.getTheme(\"v4\");\n  const v5Theme = theme.getTheme(\"v5\");\n  let cssBaseline = void 0;\n  if (!noCssBaseline) {\n    cssBaseline = /* @__PURE__ */ jsx(CssBaseline, {});\n  }\n  let result = /* @__PURE__ */ jsxs(Fragment, { children: [\n    cssBaseline,\n    children\n  ] });\n  if (v4Theme) {\n    result = /* @__PURE__ */ jsx(StylesProvider, { generateClassName: generateV4ClassName, children: /* @__PURE__ */ jsx(ThemeProvider, { theme: v4Theme, children: result }) });\n  }\n  if (v5Theme) {\n    result = /* @__PURE__ */ jsx(StyledEngineProvider, { injectFirst: true, children: /* @__PURE__ */ jsx(ThemeProvider$1, { theme: v5Theme, children: result }) });\n  }\n  return result;\n}\n\nexport { UnifiedThemeProvider };\n//# sourceMappingURL=UnifiedThemeProvider.esm.js.map\n","const palettes = {\n  light: {\n    type: \"light\",\n    mode: \"light\",\n    background: {\n      default: \"#F8F8F8\",\n      paper: \"#FFFFFF\"\n    },\n    status: {\n      ok: \"#1DB954\",\n      warning: \"#FF9800\",\n      error: \"#E22134\",\n      running: \"#1F5493\",\n      pending: \"#FFED51\",\n      aborted: \"#757575\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#1F5493\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#000000\",\n    textVerySubtle: \"#DDD\",\n    textSubtle: \"#6E6E6E\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#2196F3\",\n    link: \"#0A6EBE\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#171717\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#181818\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  dark: {\n    type: \"dark\",\n    mode: \"dark\",\n    background: {\n      default: \"#333333\",\n      paper: \"#424242\"\n    },\n    status: {\n      ok: \"#71CF88\",\n      warning: \"#FFB84D\",\n      error: \"#F84C55\",\n      running: \"#3488E3\",\n      pending: \"#FEF071\",\n      aborted: \"#9E9E9E\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#9CC9FF\",\n      dark: \"#82BAFD\"\n    },\n    secondary: {\n      main: \"#FF88B2\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#FFFFFF\",\n    textVerySubtle: \"#727272\",\n    textSubtle: \"#CCCCCC\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#82BAFD\",\n    link: \"#9CC9FF\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#424242\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#404040\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  }\n};\n\nexport { palettes };\n//# sourceMappingURL=palettes.esm.js.map\n","const shapes = {\n  wave: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  wave2: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  round: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`\n};\nconst colorVariants = {\n  darkGrey: [\"#171717\", \"#383838\"],\n  marineBlue: [\"#006D8F\", \"#0049A1\"],\n  veryBlue: [\"#0027AF\", \"#270094\"],\n  rubyRed: [\"#98002B\", \"#8D1134\"],\n  toastyOrange: [\"#BE2200\", \"#A41D00\"],\n  purpleSky: [\"#8912CA\", \"#3E00EA\"],\n  eveningSea: [\"#00FFF2\", \"#035355\"],\n  teal: [\"#005B4B\"],\n  pinkSea: [\"#C8077A\", \"#C2297D\"],\n  greens: [\"#4BB8A5\", \"#187656\"]\n};\nfunction genPageTheme(props) {\n  const { colors, shape, options } = props;\n  const gradientColors = colors.length === 1 ? [colors[0], colors[0]] : colors;\n  const gradient = `linear-gradient(90deg, ${gradientColors.join(\", \")})`;\n  const backgroundImage = `${shape},  ${gradient}`;\n  const fontColor = options?.fontColor ?? \"#FFFFFF\";\n  return {\n    colors,\n    shape,\n    backgroundImage,\n    fontColor\n  };\n}\nconst pageTheme = {\n  home: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave }),\n  documentation: genPageTheme({\n    colors: colorVariants.pinkSea,\n    shape: shapes.wave2\n  }),\n  tool: genPageTheme({ colors: colorVariants.purpleSky, shape: shapes.round }),\n  service: genPageTheme({\n    colors: colorVariants.marineBlue,\n    shape: shapes.wave\n  }),\n  website: genPageTheme({ colors: colorVariants.veryBlue, shape: shapes.wave }),\n  library: genPageTheme({ colors: colorVariants.rubyRed, shape: shapes.wave }),\n  other: genPageTheme({ colors: colorVariants.darkGrey, shape: shapes.wave }),\n  app: genPageTheme({ colors: colorVariants.toastyOrange, shape: shapes.wave }),\n  apis: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave2 }),\n  card: genPageTheme({ colors: colorVariants.greens, shape: shapes.wave })\n};\n\nexport { colorVariants, genPageTheme, pageTheme, shapes };\n//# sourceMappingURL=pageTheme.esm.js.map\n","import { pageTheme } from './pageTheme.esm.js';\n\nconst DEFAULT_HTML_FONT_SIZE = 16;\nconst DEFAULT_FONT_FAMILY = '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif';\nconst DEFAULT_PAGE_THEME = \"home\";\nconst defaultTypography = {\n  htmlFontSize: DEFAULT_HTML_FONT_SIZE,\n  fontFamily: DEFAULT_FONT_FAMILY,\n  h1: {\n    fontSize: 54,\n    fontWeight: 700,\n    marginBottom: 10\n  },\n  h2: {\n    fontSize: 40,\n    fontWeight: 700,\n    marginBottom: 8\n  },\n  h3: {\n    fontSize: 32,\n    fontWeight: 700,\n    marginBottom: 6\n  },\n  h4: {\n    fontWeight: 700,\n    fontSize: 28,\n    marginBottom: 6\n  },\n  h5: {\n    fontWeight: 700,\n    fontSize: 24,\n    marginBottom: 4\n  },\n  h6: {\n    fontWeight: 700,\n    fontSize: 20,\n    marginBottom: 2\n  }\n};\nfunction createBaseThemeOptions(options) {\n  const {\n    palette,\n    htmlFontSize = DEFAULT_HTML_FONT_SIZE,\n    fontFamily = DEFAULT_FONT_FAMILY,\n    defaultPageTheme = DEFAULT_PAGE_THEME,\n    pageTheme: pageTheme$1 = pageTheme,\n    typography\n  } = options;\n  if (!pageTheme$1[defaultPageTheme]) {\n    throw new Error(`${defaultPageTheme} is not defined in pageTheme.`);\n  }\n  defaultTypography.htmlFontSize = htmlFontSize;\n  defaultTypography.fontFamily = fontFamily;\n  return {\n    palette,\n    typography: typography ?? defaultTypography,\n    page: pageTheme$1[defaultPageTheme],\n    getPageTheme: ({ themeId }) => pageTheme$1[themeId] ?? pageTheme$1[defaultPageTheme]\n  };\n}\n\nexport { createBaseThemeOptions, defaultTypography };\n//# sourceMappingURL=createBaseThemeOptions.esm.js.map\n","import { lighten, darken } from '@mui/material/styles';\n\nconst defaultComponentThemes = {\n  MuiCssBaseline: {\n    styleOverrides: (theme) => ({\n      html: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily\n      },\n      body: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily,\n        overscrollBehaviorY: \"none\",\n        fontSize: \"0.875rem\",\n        lineHeight: 1.43,\n        \"&::-webkit-scrollbar, & *::-webkit-scrollbar\": {\n          backgroundColor: theme.palette.background.paper,\n          width: \"1em\"\n        },\n        \"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb\": {\n          borderRadius: 8,\n          backgroundColor: theme.palette.textVerySubtle,\n          border: `3px solid ${theme.palette.background.paper}`\n        },\n        \"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        },\n        \"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        }\n      },\n      a: {\n        color: \"inherit\",\n        textDecoration: \"none\"\n      }\n    })\n  },\n  MuiGrid: {\n    defaultProps: {\n      spacing: 2\n    }\n  },\n  MuiSwitch: {\n    defaultProps: {\n      color: \"primary\"\n    }\n  },\n  MuiTableRow: {\n    styleOverrides: {\n      // Alternating row backgrounds\n      root: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.default\n        }\n      }),\n      // Use pointer for hoverable rows\n      hover: {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      // Alternating head backgrounds\n      head: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.paper\n        }\n      })\n    }\n  },\n  // Tables are more dense than default mui tables\n  MuiTableCell: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      }),\n      sizeSmall: ({ theme }) => ({\n        padding: theme.spacing(1.5, 2, 1.5, 2.5)\n      }),\n      head: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        color: theme.palette.textSubtle,\n        fontWeight: \"normal\",\n        lineHeight: \"1\"\n      })\n    }\n  },\n  MuiTabs: {\n    styleOverrides: {\n      // Tabs are smaller than default mui tab rows\n      root: {\n        minHeight: 24\n      }\n    }\n  },\n  MuiTab: {\n    styleOverrides: {\n      // Tabs are smaller and have a hover background\n      root: ({ theme }) => ({\n        color: theme.palette.link,\n        minHeight: 24,\n        textTransform: \"initial\",\n        letterSpacing: \"0.07em\",\n        \"&:hover\": {\n          color: darken(theme.palette.link, 0.3),\n          background: lighten(theme.palette.link, 0.95)\n        },\n        [theme.breakpoints.up(\"md\")]: {\n          minWidth: 120,\n          fontSize: theme.typography.pxToRem(14),\n          fontWeight: 500\n        }\n      }),\n      textColorPrimary: ({ theme }) => ({\n        color: theme.palette.link\n      })\n    }\n  },\n  MuiTableSortLabel: {\n    styleOverrides: {\n      // No color change on hover, just rely on the arrow showing up instead.\n      root: {\n        color: \"inherit\",\n        \"&:hover\": {\n          color: \"inherit\"\n        },\n        \"&:focus\": {\n          color: \"inherit\"\n        },\n        // Bold font for highlighting selected column\n        \"&.Mui-active\": {\n          fontWeight: \"bold\",\n          color: \"inherit\"\n        }\n      }\n    }\n  },\n  MuiListItemText: {\n    styleOverrides: {\n      dense: {\n        // Default dense list items to adding ellipsis for really long str...\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      }\n    }\n  },\n  MuiButton: {\n    styleOverrides: {\n      text: {\n        // Text buttons have less padding by default, but we want to keep the original padding\n        padding: void 0\n      }\n    }\n  },\n  MuiChip: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        // By default there's no margin, but it's usually wanted, so we add some trailing margin\n        marginRight: theme.spacing(1),\n        marginBottom: theme.spacing(1)\n      }),\n      label: ({ theme }) => ({\n        lineHeight: theme.spacing(2.5),\n        fontWeight: theme.typography.fontWeightMedium,\n        fontSize: theme.spacing(1.75)\n      }),\n      labelSmall: ({ theme }) => ({\n        fontSize: theme.spacing(1.5)\n      }),\n      deleteIcon: ({ theme }) => ({\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(0, 0.75, 0, -0.75)\n      }),\n      deleteIconSmall: ({ theme }) => ({\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, 0.5, 0, -0.5)\n      })\n    }\n  },\n  MuiCard: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        display: \"flex\",\n        flexDirection: \"column\"\n      }\n    }\n  },\n  MuiCardHeader: {\n    styleOverrides: {\n      root: {\n        // Reduce padding between header and content\n        paddingBottom: 0\n      }\n    }\n  },\n  MuiCardContent: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        flexGrow: 1,\n        \"&:last-child\": {\n          paddingBottom: void 0\n        }\n      }\n    }\n  },\n  MuiCardActions: {\n    styleOverrides: {\n      root: {\n        // We default to putting the card actions at the end\n        justifyContent: \"flex-end\"\n      }\n    }\n  },\n  MuiLink: {\n    defaultProps: {\n      underline: \"hover\"\n    }\n  },\n  MuiPaper: {\n    styleOverrides: { root: { backgroundImage: \"unset\" } }\n  }\n};\n\nexport { defaultComponentThemes };\n//# sourceMappingURL=defaultComponentThemes.esm.js.map\n","const __v5Spacing = (defaultSpacing) => (...argsInput) => {\n  const args = argsInput.length === 0 ? [1] : argsInput;\n  const transform = (argument, themeSpacing) => {\n    if (typeof argument === \"string\") {\n      return argument;\n    }\n    return themeSpacing * argument;\n  };\n  return args.map((argument) => {\n    const output = transform(argument, defaultSpacing);\n    return typeof output === \"number\" ? `${output}px` : output;\n  }).join(\" \");\n};\nfunction adaptV5CssBaselineOverride(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  const styles = typeof overrides === \"function\" ? overrides(theme) : overrides;\n  if (styles) {\n    return { \"@global\": styles };\n  }\n  return void 0;\n}\nfunction adaptV5Override(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  if (typeof overrides === \"object\") {\n    const _theme = { ...theme };\n    const defaultSpacing = theme.spacing(1);\n    if (typeof defaultSpacing === \"number\") {\n      _theme.spacing = __v5Spacing(defaultSpacing);\n    }\n    return Object.fromEntries(\n      Object.entries(overrides).map(([className, style]) => {\n        if (typeof style === \"function\") {\n          return [className, style({ theme: _theme })];\n        }\n        return [className, style];\n      })\n    );\n  }\n  return overrides;\n}\nconst stateStyleKeyPattern = /^&.Mui-([\\w-]+)$/;\nfunction extractV5StateOverrides(overrides) {\n  let output = overrides;\n  if (!overrides || typeof overrides !== \"object\") {\n    return output;\n  }\n  for (const className of Object.keys(overrides)) {\n    const styles = overrides[className];\n    if (!styles || typeof styles !== \"object\") {\n      continue;\n    }\n    for (const _styleKey of Object.keys(styles)) {\n      const styleKey = _styleKey;\n      const match = styleKey.match(stateStyleKeyPattern);\n      if (match) {\n        const [, state] = match;\n        const { [styleKey]: stateStyles, ...restStyles } = styles;\n        if (stateStyles) {\n          output = {\n            ...output,\n            [className]: restStyles,\n            [state]: stateStyles\n          };\n        }\n      }\n    }\n  }\n  return output;\n}\nfunction transformV5ComponentThemesToV4(theme, components = {}) {\n  const overrides = {};\n  const props = {};\n  for (const name of Object.keys(components)) {\n    const component = components[name];\n    if (!component) {\n      continue;\n    }\n    if (\"styleOverrides\" in component) {\n      if (name === \"MuiCssBaseline\") {\n        overrides[name] = adaptV5CssBaselineOverride(\n          theme,\n          component.styleOverrides\n        );\n      } else {\n        overrides[name] = extractV5StateOverrides(\n          adaptV5Override(theme, component.styleOverrides)\n        );\n      }\n    }\n    if (\"defaultProps\" in component) {\n      props[name] = component.defaultProps;\n    }\n  }\n  return { overrides, props };\n}\n\nexport { transformV5ComponentThemesToV4 };\n//# sourceMappingURL=overrides.esm.js.map\n","import { createTheme as createTheme$1 } from '@material-ui/core/styles';\nimport { createTheme, adaptV4Theme } from '@mui/material/styles';\nimport { createBaseThemeOptions } from '../base/createBaseThemeOptions.esm.js';\nimport { defaultComponentThemes } from '../v5/defaultComponentThemes.esm.js';\nimport { transformV5ComponentThemesToV4 } from './overrides.esm.js';\n\nclass UnifiedThemeHolder {\n  #themes = /* @__PURE__ */ new Map();\n  constructor(v4, v5) {\n    this.#themes = /* @__PURE__ */ new Map();\n    if (v4) {\n      this.#themes.set(\"v4\", v4);\n    }\n    if (v5) {\n      this.#themes.set(\"v5\", v5);\n    }\n  }\n  getTheme(version) {\n    return this.#themes.get(version);\n  }\n}\nfunction createUnifiedTheme(options) {\n  const themeOptions = createBaseThemeOptions(options);\n  const components = { ...defaultComponentThemes, ...options.components };\n  const v5Theme = createTheme({ ...themeOptions, components });\n  const v4Overrides = transformV5ComponentThemesToV4(v5Theme, components);\n  const v4Theme = { ...createTheme$1(themeOptions), ...v4Overrides };\n  return new UnifiedThemeHolder(v4Theme, v5Theme);\n}\nfunction createUnifiedThemeFromV4(options) {\n  const v5Theme = adaptV4Theme(options);\n  const v4Theme = createTheme$1(options);\n  return new UnifiedThemeHolder(v4Theme, createTheme(v5Theme));\n}\n\nexport { UnifiedThemeHolder, createUnifiedTheme, createUnifiedThemeFromV4 };\n//# sourceMappingURL=UnifiedTheme.esm.js.map\n","import '../base/pageTheme.esm.js';\nimport { palettes } from '../base/palettes.esm.js';\nimport { createUnifiedTheme } from './UnifiedTheme.esm.js';\n\nconst themes = {\n  light: createUnifiedTheme({ palette: palettes.light }),\n  dark: createUnifiedTheme({ palette: palettes.dark })\n};\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { UnifiedThemeProvider, themes as themes$1 } from '@backstage/theme';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport LightIcon from '@material-ui/icons/WbSunny';\n\nconst themes = [\n  {\n    id: \"light\",\n    title: \"Light Theme\",\n    variant: \"light\",\n    icon: /* @__PURE__ */ jsx(LightIcon, {}),\n    Provider: ({ children }) => /* @__PURE__ */ jsx(UnifiedThemeProvider, { theme: themes$1.light, children })\n  },\n  {\n    id: \"dark\",\n    title: \"Dark Theme\",\n    variant: \"dark\",\n    icon: /* @__PURE__ */ jsx(DarkIcon, {}),\n    Provider: ({ children }) => /* @__PURE__ */ jsx(UnifiedThemeProvider, { theme: themes$1.dark, children })\n  }\n];\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","class ApiAggregator {\n  holders;\n  constructor(...holders) {\n    this.holders = holders;\n  }\n  get(apiRef) {\n    for (const holder of this.holders) {\n      const api = holder.get(apiRef);\n      if (api) {\n        return api;\n      }\n    }\n    return void 0;\n  }\n}\n\nexport { ApiAggregator };\n//# sourceMappingURL=ApiAggregator.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ApiAggregator } from './ApiAggregator.esm.js';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst ApiContext = createVersionedContext(\"api-context\");\nconst ApiProvider = (props) => {\n  const { apis, children } = props;\n  const parentHolder = useContext(ApiContext)?.atVersion(1);\n  const holder = parentHolder ? new ApiAggregator(apis, parentHolder) : apis;\n  return /* @__PURE__ */ jsx(\n    ApiContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: holder }),\n      children\n    }\n  );\n};\nApiProvider.propTypes = {\n  apis: PropTypes.shape({ get: PropTypes.func.isRequired }).isRequired,\n  children: PropTypes.node\n};\n\nexport { ApiProvider };\n//# sourceMappingURL=ApiProvider.esm.js.map\n","class ApiResolver {\n  constructor(factories) {\n    this.factories = factories;\n  }\n  /**\n   * Validate factories by making sure that each of the apis can be created\n   * without hitting any circular dependencies.\n   */\n  static validateFactories(factories, apis) {\n    for (const api of apis) {\n      const heap = [api];\n      const allDeps = /* @__PURE__ */ new Set();\n      while (heap.length) {\n        const apiRef = heap.shift();\n        const factory = factories.get(apiRef);\n        if (!factory) {\n          continue;\n        }\n        for (const dep of Object.values(factory.deps)) {\n          if (dep.id === api.id) {\n            throw new Error(`Circular dependency of api factory for ${api}`);\n          }\n          if (!allDeps.has(dep)) {\n            allDeps.add(dep);\n            heap.push(dep);\n          }\n        }\n      }\n    }\n  }\n  apis = /* @__PURE__ */ new Map();\n  get(ref) {\n    return this.load(ref);\n  }\n  load(ref, loading = []) {\n    const impl = this.apis.get(ref.id);\n    if (impl) {\n      return impl;\n    }\n    const factory = this.factories.get(ref);\n    if (!factory) {\n      return void 0;\n    }\n    if (loading.includes(factory.api)) {\n      throw new Error(`Circular dependency of api factory for ${factory.api}`);\n    }\n    const deps = this.loadDeps(ref, factory.deps, [...loading, factory.api]);\n    const api = factory.factory(deps);\n    this.apis.set(ref.id, api);\n    return api;\n  }\n  loadDeps(dependent, apis, loading) {\n    const impls = {};\n    for (const key in apis) {\n      if (apis.hasOwnProperty(key)) {\n        const ref = apis[key];\n        const api = this.load(ref, loading);\n        if (!api) {\n          throw new Error(\n            `No API factory available for dependency ${ref} of dependent ${dependent}`\n          );\n        }\n        impls[key] = api;\n      }\n    }\n    return impls;\n  }\n}\n\nexport { ApiResolver };\n//# sourceMappingURL=ApiResolver.esm.js.map\n","var ScopePriority = /* @__PURE__ */ ((ScopePriority2) => {\n  ScopePriority2[ScopePriority2[\"default\"] = 10] = \"default\";\n  ScopePriority2[ScopePriority2[\"app\"] = 50] = \"app\";\n  ScopePriority2[ScopePriority2[\"static\"] = 100] = \"static\";\n  return ScopePriority2;\n})(ScopePriority || {});\nclass ApiFactoryRegistry {\n  factories = /* @__PURE__ */ new Map();\n  /**\n   * Register a new API factory. Returns true if the factory was added\n   * to the registry.\n   *\n   * A factory will not be added to the registry if there is already\n   * an existing factory with the same or higher priority.\n   */\n  register(scope, factory) {\n    const priority = ScopePriority[scope];\n    const existing = this.factories.get(factory.api.id);\n    if (existing && existing.priority >= priority) {\n      return false;\n    }\n    this.factories.set(factory.api.id, { priority, factory });\n    return true;\n  }\n  get(api) {\n    const tuple = this.factories.get(api.id);\n    if (!tuple) {\n      return void 0;\n    }\n    return tuple.factory;\n  }\n  getAllApis() {\n    const refs = /* @__PURE__ */ new Set();\n    for (const { factory } of this.factories.values()) {\n      refs.add(factory.api);\n    }\n    return refs;\n  }\n}\n\nexport { ApiFactoryRegistry };\n//# sourceMappingURL=ApiFactoryRegistry.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nconst STORAGE_KEY = \"theme\";\nclass AppThemeSelector {\n  constructor(themes) {\n    this.themes = themes;\n  }\n  static createWithStorage(themes) {\n    const selector = new AppThemeSelector(themes);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const initialThemeId = window.localStorage.getItem(STORAGE_KEY) ?? void 0;\n    selector.setActiveThemeId(initialThemeId);\n    selector.activeThemeId$().subscribe((themeId) => {\n      if (themeId) {\n        window.localStorage.setItem(STORAGE_KEY, themeId);\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const themeId = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        selector.setActiveThemeId(themeId);\n      }\n    });\n    return selector;\n  }\n  activeThemeId;\n  subject = new BehaviorSubject(void 0);\n  getInstalledThemes() {\n    return this.themes.slice();\n  }\n  activeThemeId$() {\n    return this.subject;\n  }\n  getActiveThemeId() {\n    return this.activeThemeId;\n  }\n  setActiveThemeId(themeId) {\n    this.activeThemeId = themeId;\n    this.subject.next(themeId);\n  }\n}\n\nexport { AppThemeSelector };\n//# sourceMappingURL=AppThemeSelector.esm.js.map\n","const CONFIG_KEY_PART_PATTERN = /^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction cloneDeep(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map(cloneDeep);\n  }\n  return Object.fromEntries(\n    Object.entries(value).map(([k, v]) => [k, cloneDeep(v)])\n  );\n}\nfunction merge(into, from) {\n  if (into === null) {\n    return void 0;\n  }\n  if (into === void 0) {\n    return from === void 0 ? void 0 : merge(from);\n  }\n  if (typeof into !== \"object\" || Array.isArray(into)) {\n    return into;\n  }\n  const fromObj = isObject(from) ? from : {};\n  const out = {};\n  for (const key of /* @__PURE__ */ new Set([...Object.keys(into), ...Object.keys(fromObj)])) {\n    const val = merge(into[key], fromObj[key]);\n    if (val !== void 0) {\n      out[key] = val;\n    }\n  }\n  return out;\n}\nfunction typeOf(value) {\n  if (value === null) {\n    return \"null\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  }\n  const type = typeof value;\n  if (type === \"number\" && isNaN(value)) {\n    return \"nan\";\n  }\n  if (type === \"string\" && value === \"\") {\n    return \"empty-string\";\n  }\n  return type;\n}\nconst errors = {\n  type(key, context, typeName, expected) {\n    return `Invalid type in config for key '${key}' in '${context}', got ${typeName}, wanted ${expected}`;\n  },\n  missing(key, context) {\n    return `Missing required config value at '${key}' in '${context}'`;\n  },\n  convert(key, context, expected) {\n    return `Unable to convert config value for key '${key}' in '${context}' to a ${expected}`;\n  }\n};\nclass ConfigReader {\n  constructor(data, context = \"mock-config\", fallback, prefix = \"\") {\n    this.data = data;\n    this.context = context;\n    this.fallback = fallback;\n    this.prefix = prefix;\n  }\n  /**\n   * A set of key paths that where removed from the config due to not being visible.\n   *\n   * This was added as a mutable private member to avoid changes to the public API.\n   * Its only purpose of this is to warn users of missing visibility when running\n   * the frontend in development mode.\n   */\n  filteredKeys;\n  notifiedFilteredKeys = /* @__PURE__ */ new Set();\n  /**\n   * Instantiates the config reader from a list of application config objects.\n   */\n  static fromConfigs(configs) {\n    if (configs.length === 0) {\n      return new ConfigReader(void 0);\n    }\n    return configs.reduce(\n      (previousReader, { data, context, filteredKeys, deprecatedKeys }) => {\n        const reader = new ConfigReader(data, context, previousReader);\n        reader.filteredKeys = filteredKeys;\n        if (deprecatedKeys) {\n          for (const { key, description } of deprecatedKeys) {\n            console.warn(\n              `The configuration key '${key}' of ${context} is deprecated and may be removed soon. ${description || \"\"}`\n            );\n          }\n        }\n        return reader;\n      },\n      void 0\n    );\n  }\n  /** {@inheritdoc Config.has} */\n  has(key) {\n    const value = this.readValue(key);\n    if (value === null) {\n      return false;\n    }\n    if (value !== void 0) {\n      return true;\n    }\n    return this.fallback?.has(key) ?? false;\n  }\n  /** {@inheritdoc Config.keys} */\n  keys() {\n    const localKeys = this.data ? Object.keys(this.data) : [];\n    const fallbackKeys = this.fallback?.keys() ?? [];\n    return [.../* @__PURE__ */ new Set([...localKeys, ...fallbackKeys])].filter(\n      (k) => this.data?.[k] !== null\n    );\n  }\n  /** {@inheritdoc Config.get} */\n  get(key) {\n    const value = this.getOptional(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key ?? \"\"), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptional} */\n  getOptional(key) {\n    const value = cloneDeep(this.readValue(key));\n    const fallbackValue = this.fallback?.getOptional(key);\n    if (value === null) {\n      return void 0;\n    }\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        if (fallbackValue === void 0 && key) {\n          const fullKey = this.fullKey(key);\n          if (this.filteredKeys?.includes(fullKey) && !this.notifiedFilteredKeys.has(fullKey)) {\n            this.notifiedFilteredKeys.add(fullKey);\n            console.warn(\n              `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n            );\n          }\n        }\n      }\n      return merge(fallbackValue);\n    } else if (fallbackValue === void 0) {\n      return merge(value);\n    }\n    return merge(value, fallbackValue);\n  }\n  /** {@inheritdoc Config.getConfig} */\n  getConfig(key) {\n    const value = this.getOptionalConfig(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfig} */\n  getOptionalConfig(key) {\n    const value = this.readValue(key);\n    const fallbackConfig = this.fallback?.getOptionalConfig(key);\n    if (isObject(value)) {\n      return this.copy(value, key, fallbackConfig);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    if (value !== void 0) {\n      throw new TypeError(\n        errors.type(this.fullKey(key), this.context, typeOf(value), \"object\")\n      );\n    }\n    return fallbackConfig;\n  }\n  /** {@inheritdoc Config.getConfigArray} */\n  getConfigArray(key) {\n    const value = this.getOptionalConfigArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfigArray} */\n  getOptionalConfigArray(key) {\n    const configs = this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"object-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (!isObject(value)) {\n          return { expected: \"object-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n    if (!configs) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (this.filteredKeys?.some((k) => k.startsWith(fullKey)) && !this.notifiedFilteredKeys.has(key)) {\n          this.notifiedFilteredKeys.add(key);\n          console.warn(\n            `Failed to read configuration array at '${key}' as it does not have any visible elements. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return void 0;\n    }\n    return configs.map((obj, index) => this.copy(obj, `${key}[${index}]`));\n  }\n  /** {@inheritdoc Config.getNumber} */\n  getNumber(key) {\n    const value = this.getOptionalNumber(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalNumber} */\n  getOptionalNumber(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"number\" || typeof val === \"string\" || { expected: \"number\" }\n    );\n    if (typeof value === \"number\" || value === void 0) {\n      return value;\n    }\n    const number = Number(value);\n    if (!Number.isFinite(number)) {\n      throw new Error(\n        errors.convert(this.fullKey(key), this.context, \"number\")\n      );\n    }\n    return number;\n  }\n  /** {@inheritdoc Config.getBoolean} */\n  getBoolean(key) {\n    const value = this.getOptionalBoolean(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalBoolean} */\n  getOptionalBoolean(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"boolean\" || typeof val === \"number\" || typeof val === \"string\" || { expected: \"boolean\" }\n    );\n    if (typeof value === \"boolean\" || value === void 0) {\n      return value;\n    }\n    const valueString = String(value).trim();\n    if (/^(?:y|yes|true|1|on)$/i.test(valueString)) {\n      return true;\n    }\n    if (/^(?:n|no|false|0|off)$/i.test(valueString)) {\n      return false;\n    }\n    throw new Error(errors.convert(this.fullKey(key), this.context, \"boolean\"));\n  }\n  /** {@inheritdoc Config.getString} */\n  getString(key) {\n    const value = this.getOptionalString(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalString} */\n  getOptionalString(key) {\n    return this.readConfigValue(\n      key,\n      (value) => typeof value === \"string\" && value !== \"\" || { expected: \"string\" }\n    );\n  }\n  /** {@inheritdoc Config.getStringArray} */\n  getStringArray(key) {\n    const value = this.getOptionalStringArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalStringArray} */\n  getOptionalStringArray(key) {\n    return this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"string-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (typeof value !== \"string\" || value === \"\") {\n          return { expected: \"string-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n  }\n  fullKey(key) {\n    return `${this.prefix}${this.prefix ? \".\" : \"\"}${key}`;\n  }\n  copy(data, key, fallback) {\n    const reader = new ConfigReader(\n      data,\n      this.context,\n      fallback,\n      this.fullKey(key)\n    );\n    reader.filteredKeys = this.filteredKeys;\n    return reader;\n  }\n  readConfigValue(key, validate) {\n    const value = this.readValue(key);\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (this.filteredKeys?.includes(fullKey) && !this.notifiedFilteredKeys.has(fullKey)) {\n          this.notifiedFilteredKeys.add(fullKey);\n          console.warn(\n            `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return this.fallback?.readConfigValue(key, validate);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    const result = validate(value);\n    if (result !== true) {\n      const { key: keyName = key, value: theValue = value, expected } = result;\n      throw new TypeError(\n        errors.type(\n          this.fullKey(keyName),\n          this.context,\n          typeOf(theValue),\n          expected\n        )\n      );\n    }\n    return value;\n  }\n  readValue(key) {\n    const parts = key ? key.split(\".\") : [];\n    for (const part of parts) {\n      if (!CONFIG_KEY_PART_PATTERN.test(part)) {\n        throw new TypeError(`Invalid config key '${key}'`);\n      }\n    }\n    if (this.data === void 0) {\n      return void 0;\n    }\n    let value = this.data;\n    for (const [index, part] of parts.entries()) {\n      if (isObject(value)) {\n        value = value[part];\n      } else if (value !== void 0 && value !== null) {\n        const badKey = this.fullKey(parts.slice(0, index).join(\".\"));\n        throw new TypeError(\n          errors.type(badKey, this.context, typeOf(value), \"object\")\n        );\n      }\n    }\n    return value;\n  }\n}\n\nexport { ConfigReader };\n//# sourceMappingURL=reader.esm.js.map\n","import { FeatureFlagState } from '@backstage/core-plugin-api';\n\nfunction validateFlagName(name) {\n  if (name.length < 3) {\n    throw new Error(\n      `The '${name}' feature flag must have a minimum length of three characters.`\n    );\n  }\n  if (name.length > 150) {\n    throw new Error(\n      `The '${name}' feature flag must not exceed 150 characters.`\n    );\n  }\n  if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\n    throw new Error(\n      `The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`\n    );\n  }\n}\nclass LocalStorageFeatureFlags {\n  registeredFeatureFlags = [];\n  flags;\n  registerFlag(flag) {\n    validateFlagName(flag.name);\n    this.registeredFeatureFlags.push(flag);\n  }\n  getRegisteredFlags() {\n    return this.registeredFeatureFlags.slice();\n  }\n  isActive(name) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    return this.flags.get(name) === FeatureFlagState.Active;\n  }\n  save(options) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    if (!options.merge) {\n      this.flags.clear();\n    }\n    for (const [name, state] of Object.entries(options.states)) {\n      this.flags.set(name, state);\n    }\n    const enabled = Array.from(this.flags.entries()).filter(\n      ([, state]) => state === FeatureFlagState.Active\n    );\n    window.localStorage.setItem(\n      \"featureFlags\",\n      JSON.stringify(Object.fromEntries(enabled))\n    );\n  }\n  load() {\n    try {\n      const jsonStr = window.localStorage.getItem(\"featureFlags\");\n      if (!jsonStr) {\n        return /* @__PURE__ */ new Map();\n      }\n      const json = JSON.parse(jsonStr);\n      if (typeof json !== \"object\" || json === null || Array.isArray(json)) {\n        return /* @__PURE__ */ new Map();\n      }\n      const entries = Object.entries(json).filter(([name, value]) => {\n        validateFlagName(name);\n        return value === FeatureFlagState.Active;\n      });\n      return new Map(entries);\n    } catch {\n      return /* @__PURE__ */ new Map();\n    }\n  }\n}\n\nexport { LocalStorageFeatureFlags, validateFlagName };\n//# sourceMappingURL=LocalStorageFeatureFlags.esm.js.map\n","import { Children, isValidElement } from 'react';\n\nfunction traverseElementTree(options) {\n  const collectors = {};\n  for (const name in options.collectors) {\n    if (options.collectors.hasOwnProperty(name)) {\n      collectors[name] = options.collectors[name]();\n    }\n  }\n  const queue = [\n    {\n      node: Children.toArray(options.root),\n      parent: void 0,\n      contexts: {}\n    }\n  ];\n  while (queue.length !== 0) {\n    const { node, parent, contexts } = queue.shift();\n    Children.forEach(node, (element) => {\n      if (!isValidElement(element)) {\n        return;\n      }\n      const nextContexts = {};\n      for (const name in collectors) {\n        if (collectors.hasOwnProperty(name)) {\n          const collector = collectors[name];\n          nextContexts[name] = collector.visit(\n            collector.accumulator,\n            element,\n            parent,\n            contexts[name]\n          );\n        }\n      }\n      for (const discoverer of options.discoverers) {\n        const children = discoverer(element);\n        if (children) {\n          queue.push({\n            node: children,\n            parent: element,\n            contexts: nextContexts\n          });\n        }\n      }\n    });\n  }\n  return Object.fromEntries(\n    Object.entries(collectors).map(([name, c]) => [name, c.accumulator])\n  );\n}\nfunction createCollector(accumulatorFactory, visit) {\n  return () => ({ accumulator: accumulatorFactory(), visit });\n}\nfunction childDiscoverer(element) {\n  return element.props?.children;\n}\nfunction routeElementDiscoverer(element) {\n  if (element.props?.path && element.props?.element) {\n    return element.props?.element;\n  }\n  return void 0;\n}\n\nexport { childDiscoverer, createCollector, routeElementDiscoverer, traverseElementTree };\n//# sourceMappingURL=traversal.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { createCollector } from '../extensions/traversal.esm.js';\n\nconst pluginCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    const plugin = getComponentData(node, \"core.plugin\");\n    if (plugin) {\n      acc.add(plugin);\n    }\n  }\n);\n\nexport { pluginCollector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { attachComponentData, useApi, featureFlagsApiRef } from '@backstage/core-plugin-api';\n\nconst FeatureFlagged = (props) => {\n  const { children } = props;\n  const featureFlagApi = useApi(featureFlagsApiRef);\n  const isEnabled = \"with\" in props ? featureFlagApi.isActive(props.with) : !featureFlagApi.isActive(props.without);\n  return /* @__PURE__ */ jsx(Fragment, { children: isEnabled ? children : null });\n};\nattachComponentData(FeatureFlagged, \"core.featureFlagged\", true);\n\nexport { FeatureFlagged };\n//# sourceMappingURL=FeatureFlagged.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { isValidElement, Children } from 'react';\nimport { createCollector } from '../extensions/traversal.esm.js';\nimport { FeatureFlagged } from './FeatureFlagged.esm.js';\n\nconst MATCH_ALL_ROUTE = {\n  caseSensitive: false,\n  path: \"*\",\n  element: \"match-all\",\n  // These elements aren't used, so we add in a bit of debug information\n  routeRefs: /* @__PURE__ */ new Set(),\n  plugins: /* @__PURE__ */ new Set()\n};\nfunction stringifyNode(node) {\n  const anyNode = node;\n  if (anyNode?.type) {\n    return anyNode.type.displayName ?? anyNode.type.name ?? String(anyNode.type);\n  }\n  return String(anyNode);\n}\nconst pluginSet = (plugin) => {\n  const set = /* @__PURE__ */ new Set();\n  if (plugin) {\n    set.add(plugin);\n  }\n  return set;\n};\nfunction collectSubTree(node, entries = new Array()) {\n  Children.forEach(node, (element) => {\n    if (!isValidElement(element)) {\n      return;\n    }\n    const routeRef = getComponentData(element, \"core.mountPoint\");\n    if (routeRef) {\n      const plugin = getComponentData(element, \"core.plugin\");\n      entries.push({ routeRef, plugin });\n    }\n    collectSubTree(element.props.children, entries);\n  });\n  return entries;\n}\nconst routingV2Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (ctx?.isElementAncestor) {\n      return ctx;\n    }\n    if (parent?.props.element === node) {\n      return { ...ctx, isElementAncestor: true };\n    }\n    const pathProp = node.props?.path;\n    const mountPoint = getComponentData(node, \"core.mountPoint\");\n    if (mountPoint && pathProp) {\n      throw new Error(\n        `Path property may not be set directly on a routable extension \"${stringifyNode(\n          node\n        )}\"`\n      );\n    }\n    const parentChildren = ctx?.obj?.children ?? acc.objects;\n    if (pathProp !== void 0) {\n      if (typeof pathProp !== \"string\") {\n        throw new Error(\n          `Element path must be a string at \"${stringifyNode(node)}\"`\n        );\n      }\n      const path = pathProp.startsWith(\"/\") ? pathProp.slice(1) : pathProp;\n      const elementProp = node.props.element;\n      if (getComponentData(node, \"core.gatherMountPoints\")) {\n        if (elementProp) {\n          throw new Error(\n            `Mount point gatherers may not have an element prop \"${stringifyNode(\n              node\n            )}\"`\n          );\n        }\n        const newObj = {\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(newObj);\n        return {\n          obj: newObj,\n          gatherPath: path,\n          routeRef: ctx?.routeRef,\n          gatherRouteRef: ctx?.routeRef\n        };\n      }\n      if (elementProp) {\n        const [extension, ...others] = collectSubTree(elementProp);\n        if (others.length > 0) {\n          throw new Error(\n            `Route element with path \"${pathProp}\" may not contain multiple routable extensions`\n          );\n        }\n        if (!extension) {\n          return ctx;\n        }\n        const { routeRef, plugin } = extension;\n        const newObj = {\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(plugin)\n        };\n        parentChildren.push(newObj);\n        acc.paths.set(routeRef, path);\n        acc.parents.set(routeRef, ctx?.routeRef);\n        return {\n          obj: newObj,\n          routeRef: routeRef ?? ctx?.routeRef,\n          gatherPath: path,\n          gatherRouteRef: ctx?.gatherRouteRef\n        };\n      }\n    }\n    if (mountPoint) {\n      if (ctx?.gatherPath === void 0) {\n        throw new Error(\n          `Routable extension \"${stringifyNode(\n            node\n          )}\" with mount point \"${mountPoint}\" must be assigned a path`\n        );\n      }\n      ctx?.obj?.routeRefs.add(mountPoint);\n      const mountPointPlugin = getComponentData(\n        node,\n        \"core.plugin\"\n      );\n      if (mountPointPlugin) {\n        ctx?.obj?.plugins.add(mountPointPlugin);\n      }\n      acc.paths.set(mountPoint, ctx.gatherPath);\n      acc.parents.set(mountPoint, ctx?.gatherRouteRef);\n      return {\n        ...ctx,\n        routeRef: mountPoint\n      };\n    }\n    return ctx;\n  }\n);\nconst routingV1Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (parent?.props.element === node) {\n      return ctx;\n    }\n    let currentObj = ctx?.obj;\n    let currentParentRouteRef = ctx?.routeRef;\n    let sticky = ctx?.sticky;\n    const path = node.props?.path;\n    const parentChildren = currentObj?.children ?? acc.objects;\n    const caseSensitive = Boolean(node.props?.caseSensitive);\n    let currentCtxPath = ctx?.path;\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      currentCtxPath = path;\n    }\n    const element = node.props?.element;\n    let routeRef = getComponentData(node, \"core.mountPoint\");\n    if (!routeRef && isValidElement(element)) {\n      routeRef = getComponentData(element, \"core.mountPoint\");\n    }\n    if (routeRef) {\n      let routePath = path;\n      if (currentCtxPath) {\n        if (routePath) {\n          currentCtxPath = void 0;\n        } else {\n          routePath = currentCtxPath;\n        }\n      }\n      if (!routePath) {\n        throw new Error(\"Mounted routable extension must have a path\");\n      }\n      acc.paths.set(routeRef, routePath);\n      if (currentParentRouteRef && sticky) {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        if (path) {\n          currentParentRouteRef = routeRef;\n          sticky = false;\n        }\n      } else {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        currentParentRouteRef = routeRef;\n      }\n      if (path) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(\n            getComponentData(\n              node.props.element,\n              \"core.plugin\"\n            )\n          )\n        };\n        parentChildren.push(currentObj);\n      } else {\n        currentObj?.routeRefs.add(routeRef);\n      }\n    }\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      sticky = true;\n    }\n    const isGatherer = getComponentData(\n      node,\n      \"core.gatherMountPoints\"\n    );\n    if (isGatherer) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      if (!routeRef) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          children: [MATCH_ALL_ROUTE],\n          plugins: ctx?.obj?.plugins || /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(currentObj);\n      }\n    }\n    return {\n      obj: currentObj,\n      path: currentCtxPath,\n      routeRef: currentParentRouteRef,\n      sticky\n    };\n  }\n);\nconst featureFlagCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    if (node.type === FeatureFlagged) {\n      const props = node.props;\n      acc.add(\"with\" in props ? props.with : props.without);\n    }\n  }\n);\n\nexport { MATCH_ALL_ROUTE, featureFlagCollector, routingV1Collector, routingV2Collector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\nfunction isRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"absolute\";\n}\nfunction isSubRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"sub\";\n}\nfunction isExternalRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"external\";\n}\n\nexport { isExternalRouteRef, isRouteRef, isSubRouteRef, routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","function joinPaths(...paths) {\n  const normalized = paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n  if (normalized !== \"/\" && normalized.endsWith(\"/\")) {\n    return normalized.slice(0, -1);\n  }\n  return normalized;\n}\n\nexport { joinPaths };\n//# sourceMappingURL=helpers.esm.js.map\n","import { matchRoutes, generatePath } from 'react-router-dom';\nimport { isRouteRef, isSubRouteRef, isExternalRouteRef, routeRefType } from './types.esm.js';\nimport { joinPaths } from './helpers.esm.js';\nimport mapValues from 'lodash/mapValues';\n\nfunction resolveTargetRef(anyRouteRef, routePaths, routeBindings) {\n  let targetRef;\n  let subRoutePath = \"\";\n  if (isRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef;\n  } else if (isSubRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef.parent;\n    subRoutePath = anyRouteRef.path;\n  } else if (isExternalRouteRef(anyRouteRef)) {\n    const resolvedRoute = routeBindings.get(anyRouteRef);\n    if (!resolvedRoute) {\n      return [void 0, \"\"];\n    }\n    if (isRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute;\n    } else if (isSubRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute.parent;\n      subRoutePath = resolvedRoute.path;\n    } else {\n      throw new Error(\n        `ExternalRouteRef was bound to invalid target, ${resolvedRoute}`\n      );\n    }\n  } else if (anyRouteRef[routeRefType]) {\n    throw new Error(\n      `Unknown or invalid route ref type, ${anyRouteRef[routeRefType]}`\n    );\n  } else {\n    throw new Error(`Unknown object passed to useRouteRef, got ${anyRouteRef}`);\n  }\n  if (!targetRef) {\n    return [void 0, \"\"];\n  }\n  const resolvedPath = routePaths.get(targetRef);\n  if (resolvedPath === void 0) {\n    return [void 0, \"\"];\n  }\n  const targetPath = joinPaths(resolvedPath, subRoutePath);\n  return [targetRef, targetPath];\n}\nfunction resolveBasePath(targetRef, sourceLocation, routePaths, routeParents, routeObjects) {\n  const match = matchRoutes(routeObjects, sourceLocation) ?? [];\n  const refDiffList = Array();\n  let matchIndex = -1;\n  for (let targetSearchRef = targetRef; targetSearchRef; targetSearchRef = routeParents.get(targetSearchRef)) {\n    matchIndex = match.findIndex(\n      (m) => m.route.routeRefs.has(targetSearchRef)\n    );\n    if (matchIndex !== -1) {\n      break;\n    }\n    refDiffList.unshift(targetSearchRef);\n  }\n  if (refDiffList.length === 0) {\n    matchIndex -= 1;\n  }\n  const parentPath = matchIndex === -1 ? \"\" : match[matchIndex].pathname;\n  const diffPaths = refDiffList.slice(0, -1).map((ref) => {\n    const path = routePaths.get(ref);\n    if (path === void 0) {\n      throw new Error(`No path for ${ref}`);\n    }\n    if (path.includes(\":\")) {\n      throw new Error(\n        `Cannot route to ${targetRef} with parent ${ref} as it has parameters`\n      );\n    }\n    return path;\n  });\n  return `${joinPaths(parentPath, ...diffPaths)}/`;\n}\nclass RouteResolver {\n  constructor(routePaths, routeParents, routeObjects, routeBindings, appBasePath) {\n    this.routePaths = routePaths;\n    this.routeParents = routeParents;\n    this.routeObjects = routeObjects;\n    this.routeBindings = routeBindings;\n    this.appBasePath = appBasePath;\n  }\n  resolve(anyRouteRef, sourceLocation) {\n    const [targetRef, targetPath] = resolveTargetRef(\n      anyRouteRef,\n      this.routePaths,\n      this.routeBindings\n    );\n    if (!targetRef) {\n      return void 0;\n    }\n    let relativeSourceLocation;\n    if (typeof sourceLocation === \"string\") {\n      relativeSourceLocation = this.trimPath(sourceLocation);\n    } else if (sourceLocation.pathname) {\n      relativeSourceLocation = {\n        ...sourceLocation,\n        pathname: this.trimPath(sourceLocation.pathname)\n      };\n    } else {\n      relativeSourceLocation = sourceLocation;\n    }\n    const basePath = this.appBasePath + resolveBasePath(\n      targetRef,\n      relativeSourceLocation,\n      this.routePaths,\n      this.routeParents,\n      this.routeObjects\n    );\n    const routeFunc = (...[params]) => {\n      const encodedParams = params && mapValues(params, (value) => {\n        if (typeof value === \"string\") {\n          return value.replaceAll(/[&?#;\\/]/g, (c) => encodeURIComponent(c));\n        }\n        return value;\n      });\n      return joinPaths(basePath, generatePath(targetPath, encodedParams));\n    };\n    return routeFunc;\n  }\n  trimPath(targetPath) {\n    if (!targetPath) {\n      return targetPath;\n    }\n    if (targetPath.startsWith(this.appBasePath)) {\n      return targetPath.slice(this.appBasePath.length);\n    }\n    return targetPath;\n  }\n}\n\nexport { RouteResolver };\n//# sourceMappingURL=RouteResolver.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { RouteResolver } from './RouteResolver.esm.js';\n\nconst RoutingContext = createVersionedContext(\n  \"routing-context\"\n);\nconst RoutingProvider = ({\n  routePaths,\n  routeParents,\n  routeObjects,\n  routeBindings,\n  basePath = \"\",\n  children\n}) => {\n  const resolver = new RouteResolver(\n    routePaths,\n    routeParents,\n    routeObjects,\n    routeBindings,\n    basePath\n  );\n  const versionedValue = createVersionedValueMap({ 1: resolver });\n  return /* @__PURE__ */ jsx(RoutingContext.Provider, { value: versionedValue, children });\n};\n\nexport { RoutingProvider };\n//# sourceMappingURL=RoutingProvider.esm.js.map\n","import { joinPaths } from './helpers.esm.js';\n\nfunction validateRouteParameters(routePaths, routeParents) {\n  const notLeafRoutes = new Set(routeParents.values());\n  notLeafRoutes.delete(void 0);\n  for (const route of routeParents.keys()) {\n    if (notLeafRoutes.has(route)) {\n      continue;\n    }\n    let currentRouteRef = route;\n    let fullPath = \"\";\n    while (currentRouteRef) {\n      const path = routePaths.get(currentRouteRef);\n      if (path === void 0) {\n        throw new Error(`No path for ${currentRouteRef}`);\n      }\n      fullPath = joinPaths(path, fullPath);\n      currentRouteRef = routeParents.get(currentRouteRef);\n    }\n    const params = fullPath.match(/:(\\w+)/g);\n    if (params) {\n      for (let j = 0; j < params.length; j++) {\n        for (let i = j + 1; i < params.length; i++) {\n          if (params[i] === params[j]) {\n            throw new Error(\n              `Parameter ${params[i]} is duplicated in path ${fullPath}`\n            );\n          }\n        }\n      }\n    }\n  }\n}\nfunction validateRouteBindings(routeBindings, plugins) {\n  for (const plugin of plugins) {\n    if (!plugin.externalRoutes) {\n      continue;\n    }\n    for (const [name, externalRouteRef] of Object.entries(\n      plugin.externalRoutes\n    )) {\n      if (externalRouteRef.optional) {\n        continue;\n      }\n      if (!routeBindings.has(externalRouteRef)) {\n        throw new Error(\n          `External route '${name}' of the '${plugin.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`\n        );\n      }\n    }\n  }\n}\n\nexport { validateRouteBindings, validateRouteParameters };\n//# sourceMappingURL=validation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst AppContext = createVersionedContext(\"app-context\");\nconst AppContextProvider = ({\n  appContext,\n  children\n}) => {\n  const versionedValue = createVersionedValueMap({ 1: appContext });\n  return /* @__PURE__ */ jsx(AppContext.Provider, { value: versionedValue, children });\n};\n\nexport { AppContextProvider };\n//# sourceMappingURL=AppContext.esm.js.map\n","const PLUGIN_ID = \"app\";\nconst CHANNEL_ID = `${PLUGIN_ID}-auth-cookie-expires-at`;\nconst MIN_BASE_DELAY_MS = 5 * 6e4;\nconst ERROR_BACKOFF_START = 5e3;\nconst ERROR_BACKOFF_FACTOR = 2;\nconst ERROR_BACKOFF_MAX = 5 * 6e4;\nfunction startCookieAuthRefresh({\n  discoveryApi,\n  fetchApi,\n  errorApi\n}) {\n  let stopped = false;\n  let timeout;\n  let firstError = true;\n  let errorBackoff = ERROR_BACKOFF_START;\n  const channel = \"BroadcastChannel\" in window ? new BroadcastChannel(CHANNEL_ID) : void 0;\n  const getDelay = (expiresAt) => {\n    const margin = (1 + 3 * Math.random()) * 6e4;\n    const delay = Math.max(expiresAt - Date.now(), MIN_BASE_DELAY_MS) - margin;\n    return delay;\n  };\n  const refresh = async () => {\n    try {\n      const baseUrl = await discoveryApi.getBaseUrl(PLUGIN_ID);\n      const requestUrl = `${baseUrl}/.backstage/auth/v1/cookie`;\n      const res = await fetchApi.fetch(requestUrl, {\n        credentials: \"include\"\n      });\n      if (!res.ok) {\n        throw new Error(\n          `Request failed with status ${res.status} ${res.statusText}, see request towards ${requestUrl} for more details`\n        );\n      }\n      const data = await res.json();\n      if (!data.expiresAt) {\n        throw new Error(\"No expiration date in response\");\n      }\n      const expiresAt = Date.parse(data.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        throw new Error(\"Invalid expiration date in response\");\n      }\n      firstError = true;\n      channel?.postMessage({\n        action: \"COOKIE_REFRESH_SUCCESS\",\n        payload: { expiresAt: new Date(expiresAt).toISOString() }\n      });\n      scheduleRefresh(getDelay(expiresAt));\n    } catch (error) {\n      if (firstError) {\n        firstError = false;\n        errorBackoff = ERROR_BACKOFF_START;\n      } else {\n        errorBackoff = Math.min(\n          ERROR_BACKOFF_MAX,\n          errorBackoff * ERROR_BACKOFF_FACTOR\n        );\n        console.error(\"Session cookie refresh failed\", error);\n        errorApi.post(\n          new Error(\n            `Session refresh failed, see developer console for details`\n          )\n        );\n      }\n      scheduleRefresh(errorBackoff);\n    }\n  };\n  const onMessage = (event) => {\n    const { data } = event;\n    if (data === null || typeof data !== \"object\") {\n      return;\n    }\n    if (\"action\" in data && data.action === \"COOKIE_REFRESH_SUCCESS\") {\n      const expiresAt = Date.parse(data.payload.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        console.warn(\n          \"Received invalid expiration from session refresh channel\"\n        );\n        return;\n      }\n      scheduleRefresh(getDelay(expiresAt));\n    }\n  };\n  function scheduleRefresh(delayMs) {\n    if (stopped) {\n      return;\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(refresh, delayMs);\n  }\n  channel?.addEventListener(\"message\", onMessage);\n  refresh();\n  return () => {\n    stopped = true;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    channel?.removeEventListener(\"message\", onMessage);\n    channel?.close();\n  };\n}\n\nexport { startCookieAuthRefresh };\n//# sourceMappingURL=startCookieAuthRefresh.esm.js.map\n","import { startCookieAuthRefresh } from './startCookieAuthRefresh.esm.js';\n\nfunction mkError(thing) {\n  return new Error(\n    `Tried to access IdentityApi ${thing} before app was loaded`\n  );\n}\nfunction logDeprecation(thing) {\n  console.warn(\n    `WARNING: Call to ${thing} is deprecated and will break in the future`\n  );\n}\nclass AppIdentityProxy {\n  target;\n  waitForTarget;\n  resolveTarget = () => {\n  };\n  signOutTargetUrl = \"/\";\n  #cookieAuthSignOut;\n  constructor() {\n    this.waitForTarget = new Promise((resolve) => {\n      this.resolveTarget = resolve;\n    });\n  }\n  // This is called by the app manager once the sign-in page provides us with an implementation\n  setTarget(identityApi, targetOptions) {\n    this.target = identityApi;\n    this.signOutTargetUrl = targetOptions.signOutTargetUrl;\n    this.resolveTarget(identityApi);\n  }\n  getUserId() {\n    if (!this.target) {\n      throw mkError(\"getUserId\");\n    }\n    if (!this.target.getUserId) {\n      throw new Error(\"IdentityApi does not implement getUserId\");\n    }\n    logDeprecation(\"getUserId\");\n    return this.target.getUserId();\n  }\n  getProfile() {\n    if (!this.target) {\n      throw mkError(\"getProfile\");\n    }\n    if (!this.target.getProfile) {\n      throw new Error(\"IdentityApi does not implement getProfile\");\n    }\n    logDeprecation(\"getProfile\");\n    return this.target.getProfile();\n  }\n  async getProfileInfo() {\n    return this.waitForTarget.then((target) => target.getProfileInfo());\n  }\n  async getBackstageIdentity() {\n    const identity = await this.waitForTarget.then(\n      (target) => target.getBackstageIdentity()\n    );\n    if (!identity.userEntityRef.match(/^.*:.*\\/.*$/)) {\n      console.warn(\n        `WARNING: The App IdentityApi provided an invalid userEntityRef, '${identity.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`\n      );\n    }\n    return identity;\n  }\n  async getCredentials() {\n    return this.waitForTarget.then((target) => target.getCredentials());\n  }\n  async getIdToken() {\n    return this.waitForTarget.then((target) => {\n      if (!target.getIdToken) {\n        throw new Error(\"IdentityApi does not implement getIdToken\");\n      }\n      logDeprecation(\"getIdToken\");\n      return target.getIdToken();\n    });\n  }\n  async signOut() {\n    await this.waitForTarget.then((target) => target.signOut());\n    await this.#cookieAuthSignOut?.();\n    window.location.href = this.signOutTargetUrl;\n  }\n  enableCookieAuth(ctx) {\n    if (this.#cookieAuthSignOut) {\n      return;\n    }\n    const stopRefresh = startCookieAuthRefresh(ctx);\n    this.#cookieAuthSignOut = async () => {\n      stopRefresh();\n      const appBaseUrl = await ctx.discoveryApi.getBaseUrl(\"app\");\n      try {\n        await fetch(`${appBaseUrl}/.backstage/auth/v1/cookie`, {\n          method: \"DELETE\",\n          credentials: \"include\"\n        });\n      } catch {\n      }\n    };\n  }\n}\n\nexport { AppIdentityProxy };\n//# sourceMappingURL=AppIdentityProxy.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo, useState, useEffect } from 'react';\nimport { useApi, appThemeApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/esm/useObservable';\n\nfunction resolveTheme(themeId, shouldPreferDark, themes) {\n  if (themeId !== void 0) {\n    const selectedTheme = themes.find((theme) => theme.id === themeId);\n    if (selectedTheme) {\n      return selectedTheme;\n    }\n  }\n  if (shouldPreferDark) {\n    const darkTheme = themes.find((theme) => theme.variant === \"dark\");\n    if (darkTheme) {\n      return darkTheme;\n    }\n  }\n  const lightTheme = themes.find((theme) => theme.variant === \"light\");\n  if (lightTheme) {\n    return lightTheme;\n  }\n  return themes[0];\n}\nconst useShouldPreferDarkTheme = () => {\n  const mediaQuery = useMemo(\n    () => window.matchMedia(\"(prefers-color-scheme: dark)\"),\n    []\n  );\n  const [shouldPreferDark, setPrefersDark] = useState(mediaQuery.matches);\n  useEffect(() => {\n    const listener = (event) => {\n      setPrefersDark(event.matches);\n    };\n    mediaQuery.addListener(listener);\n    return () => {\n      mediaQuery.removeListener(listener);\n    };\n  }, [mediaQuery]);\n  return shouldPreferDark;\n};\nfunction AppThemeProvider({ children }) {\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(\n    appThemeApi.activeThemeId$(),\n    appThemeApi.getActiveThemeId()\n  );\n  const shouldPreferDark = Boolean(window.matchMedia) ? useShouldPreferDarkTheme() : false;\n  const appTheme = resolveTheme(\n    themeId,\n    shouldPreferDark,\n    appThemeApi.getInstalledThemes()\n  );\n  if (!appTheme) {\n    throw new Error(\"App has no themes\");\n  }\n  return /* @__PURE__ */ jsx(appTheme.Provider, { children });\n}\n\nexport { AppThemeProvider };\n//# sourceMappingURL=AppThemeProvider.esm.js.map\n","const defaultConfigLoader = async () => defaultConfigLoaderSync();\nfunction defaultConfigLoaderSync(runtimeConfigJson = \"__APP_INJECTED_RUNTIME_CONFIG__\") {\n  const configs = new Array();\n  const staticConfig = process.env.APP_CONFIG;\n  if (staticConfig) {\n    if (!Array.isArray(staticConfig)) {\n      throw new Error(\"Static configuration has invalid format\");\n    }\n    configs.push(...staticConfig);\n  }\n  const configScripts = document.querySelectorAll(\n    'script[type=\"backstage.io/config\"]'\n  );\n  if (configScripts.length > 0) {\n    for (const el of configScripts) {\n      try {\n        const content = el.textContent;\n        if (!content) {\n          throw new Error(\"tag is empty\");\n        }\n        let data;\n        try {\n          data = JSON.parse(content);\n        } catch (error) {\n          throw new Error(`failed to parse config; ${error}`);\n        }\n        if (!Array.isArray(data)) {\n          throw new Error(\"data is not an array\");\n        }\n        configs.push(...data);\n      } catch (error) {\n        throw new Error(\n          `Failed to load config from script tag, ${error.message}`\n        );\n      }\n    }\n  } else if (runtimeConfigJson !== // Avoiding this string also being replaced at runtime\n  \"__app_injected_runtime_config__\".toLocaleUpperCase(\"en-US\")) {\n    try {\n      const data = JSON.parse(runtimeConfigJson);\n      if (Array.isArray(data)) {\n        configs.push(...data);\n      } else {\n        configs.push({ data, context: \"env\" });\n      }\n    } catch (error) {\n      throw new Error(`Failed to load runtime configuration, ${error}`);\n    }\n  }\n  const windowAppConfig = window.__APP_CONFIG__;\n  if (windowAppConfig) {\n    configs.push({\n      context: \"window\",\n      data: windowAppConfig\n    });\n  }\n  return configs;\n}\n\nexport { defaultConfigLoader, defaultConfigLoaderSync };\n//# sourceMappingURL=defaultConfigLoader.esm.js.map\n","class ApiRegistryBuilder {\n  apis = [];\n  add(api, impl) {\n    this.apis.push([api.id, impl]);\n    return impl;\n  }\n  build() {\n    return new ApiRegistry(new Map(this.apis));\n  }\n}\nclass ApiRegistry {\n  constructor(apis) {\n    this.apis = apis;\n  }\n  static builder() {\n    return new ApiRegistryBuilder();\n  }\n  /**\n   * Creates a new ApiRegistry with a list of API implementations.\n   *\n   * @param apis - A list of pairs mapping an ApiRef to its respective implementation\n   */\n  static from(apis) {\n    return new ApiRegistry(new Map(apis.map(([api, impl]) => [api.id, impl])));\n  }\n  /**\n   * Creates a new ApiRegistry with a single API implementation.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  static with(api, impl) {\n    return new ApiRegistry(/* @__PURE__ */ new Map([[api.id, impl]]));\n  }\n  /**\n   * Returns a new ApiRegistry with the provided API added to the existing ones.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  with(api, impl) {\n    return new ApiRegistry(new Map([...this.apis, [api.id, impl]]));\n  }\n  get(api) {\n    return this.apis.get(api.id);\n  }\n}\n\nexport { ApiRegistry };\n//# sourceMappingURL=ApiRegistry.esm.js.map\n","function collectRouteIds(plugins) {\n  const routesById = /* @__PURE__ */ new Map();\n  const externalRoutesById = /* @__PURE__ */ new Map();\n  for (const plugin of plugins) {\n    for (const [name, ref] of Object.entries(plugin.routes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (routesById.has(refId)) {\n        throw new Error(`Unexpected duplicate route '${refId}'`);\n      }\n      routesById.set(refId, ref);\n    }\n    for (const [name, ref] of Object.entries(plugin.externalRoutes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (externalRoutesById.has(refId)) {\n        throw new Error(`Unexpected duplicate external route '${refId}'`);\n      }\n      externalRoutesById.set(refId, ref);\n    }\n  }\n  return { routes: routesById, externalRoutes: externalRoutesById };\n}\nfunction resolveRouteBindings(bindRoutes, config, plugins) {\n  const routesById = collectRouteIds(plugins);\n  const result = /* @__PURE__ */ new Map();\n  const disabledExternalRefs = /* @__PURE__ */ new Set();\n  if (bindRoutes) {\n    const bind = (externalRoutes, targetRoutes) => {\n      for (const [key, value] of Object.entries(targetRoutes)) {\n        const externalRoute = externalRoutes[key];\n        if (!externalRoute) {\n          throw new Error(`Key ${key} is not an existing external route`);\n        }\n        if (!value && !externalRoute.optional) {\n          throw new Error(\n            `External route ${key} is required but was ${value === false ? \"disabled\" : \"not provided\"}`\n          );\n        }\n        if (value) {\n          result.set(externalRoute, value);\n        } else if (value === false) {\n          disabledExternalRefs.add(externalRoute);\n        }\n      }\n    };\n    bindRoutes({ bind });\n  }\n  const bindings = config.getOptionalConfig(\"app.routes.bindings\")?.get();\n  if (bindings) {\n    for (const [externalRefId, targetRefId] of Object.entries(bindings)) {\n      if (!isValidTargetRefId(targetRefId)) {\n        throw new Error(\n          `Invalid config at app.routes.bindings['${externalRefId}'], value must be a non-empty string or false`\n        );\n      }\n      const externalRef = routesById.externalRoutes.get(externalRefId);\n      if (!externalRef) {\n        throw new Error(\n          `Invalid config at app.routes.bindings, '${externalRefId}' is not a valid external route`\n        );\n      }\n      if (result.has(externalRef) || disabledExternalRefs.has(externalRef)) {\n        continue;\n      }\n      if (targetRefId === false) {\n        disabledExternalRefs.add(externalRef);\n      } else {\n        const targetRef = routesById.routes.get(targetRefId);\n        if (!targetRef) {\n          throw new Error(\n            `Invalid config at app.routes.bindings['${externalRefId}'], '${targetRefId}' is not a valid route`\n          );\n        }\n        result.set(externalRef, targetRef);\n      }\n    }\n  }\n  for (const externalRef of routesById.externalRoutes.values()) {\n    if (!result.has(externalRef) && !disabledExternalRefs.has(externalRef)) {\n      const defaultRefId = \"getDefaultTarget\" in externalRef ? externalRef.getDefaultTarget() : void 0;\n      if (defaultRefId) {\n        const defaultRef = routesById.routes.get(defaultRefId);\n        if (defaultRef) {\n          result.set(externalRef, defaultRef);\n        }\n      }\n    }\n  }\n  return result;\n}\nfunction isValidTargetRefId(value) {\n  if (value === false) {\n    return true;\n  }\n  if (typeof value === \"string\" && value) {\n    return true;\n  }\n  return false;\n}\n\nexport { collectRouteIds, resolveRouteBindings };\n//# sourceMappingURL=resolveRouteBindings.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\nimport '@backstage/core-plugin-api';\n\nconst STORAGE_KEY = \"language\";\nconst DEFAULT_LANGUAGE = \"en\";\nclass AppLanguageSelector {\n  static create(options) {\n    const languages = options?.availableLanguages ?? [DEFAULT_LANGUAGE];\n    if (languages.length !== new Set(languages).size) {\n      throw new Error(\n        `Supported languages may not contain duplicates, got '${languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    if (!languages.includes(DEFAULT_LANGUAGE)) {\n      throw new Error(`Supported languages must include '${DEFAULT_LANGUAGE}'`);\n    }\n    const initialLanguage = options?.defaultLanguage ?? DEFAULT_LANGUAGE;\n    if (!languages.includes(initialLanguage)) {\n      throw new Error(\n        `Initial language must be one of the supported languages, got '${initialLanguage}'`\n      );\n    }\n    return new AppLanguageSelector(languages, initialLanguage);\n  }\n  static createWithStorage(options) {\n    const selector = AppLanguageSelector.create(options);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const storedLanguage = window.localStorage.getItem(STORAGE_KEY);\n    const { languages } = selector.getAvailableLanguages();\n    if (storedLanguage && languages.includes(storedLanguage)) {\n      selector.setLanguage(storedLanguage);\n    }\n    selector.language$().subscribe(({ language }) => {\n      if (language !== window.localStorage.getItem(STORAGE_KEY)) {\n        window.localStorage.setItem(STORAGE_KEY, language);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const language = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        if (language) {\n          selector.setLanguage(language);\n        }\n      }\n    });\n    return selector;\n  }\n  #languages;\n  #language;\n  #subject;\n  constructor(languages, initialLanguage) {\n    this.#languages = languages;\n    this.#language = initialLanguage;\n    this.#subject = new BehaviorSubject({\n      language: this.#language\n    });\n  }\n  getAvailableLanguages() {\n    return { languages: this.#languages.slice() };\n  }\n  setLanguage(language) {\n    const lng = language ?? DEFAULT_LANGUAGE;\n    if (lng === this.#language) {\n      return;\n    }\n    if (lng && !this.#languages.includes(lng)) {\n      throw new Error(\n        `Failed to change language to '${lng}', available languages are '${this.#languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    this.#language = lng;\n    this.#subject.next({ language: lng });\n  }\n  getLanguage() {\n    return { language: this.#language };\n  }\n  language$() {\n    return this.#subject;\n  }\n}\n\nexport { AppLanguageSelector, DEFAULT_LANGUAGE };\n//# sourceMappingURL=AppLanguageSelector.esm.js.map\n","function toInternalTranslationResource(resource) {\n  const r = resource;\n  if (r.$$type !== \"@backstage/TranslationResource\") {\n    throw new Error(`Invalid translation resource, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation resource, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","function toInternalTranslationRef(ref) {\n  const r = ref;\n  if (r.$$type !== \"@backstage/TranslationRef\") {\n    throw new Error(`Invalid translation ref, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation ref, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","import { createInstance } from 'i18next';\nimport ObservableImpl from 'zen-observable';\nimport { toInternalTranslationResource } from '../../../core-plugin-api/src/translation/TranslationResource.esm.js';\nimport { toInternalTranslationRef } from '../../../core-plugin-api/src/translation/TranslationRef.esm.js';\nimport { DEFAULT_LANGUAGE } from '../AppLanguageApi/AppLanguageSelector.esm.js';\n\nfunction removeNulls(messages) {\n  return Object.fromEntries(\n    Object.entries(messages).filter(\n      (e) => e[1] !== null\n    )\n  );\n}\nclass ResourceLoader {\n  constructor(onLoad) {\n    this.onLoad = onLoad;\n  }\n  /** Loaded resources by loader key */\n  #loaded = /* @__PURE__ */ new Set();\n  /** Resource loading promises by loader key */\n  #loading = /* @__PURE__ */ new Map();\n  /** Loaders for each resource language */\n  #loaders = /* @__PURE__ */ new Map();\n  addTranslationResource(resource) {\n    const internalResource = toInternalTranslationResource(resource);\n    for (const entry of internalResource.resources) {\n      const key = this.#getLoaderKey(entry.language, internalResource.id);\n      if (!this.#loaders.has(key)) {\n        this.#loaders.set(key, entry.loader);\n      }\n    }\n  }\n  #getLoaderKey(language, namespace) {\n    return `${language}/${namespace}`;\n  }\n  needsLoading(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return false;\n    }\n    return !this.#loaded.has(key);\n  }\n  async load(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return;\n    }\n    if (this.#loaded.has(key)) {\n      return;\n    }\n    const loading = this.#loading.get(key);\n    if (loading) {\n      await loading;\n      return;\n    }\n    const load = loader().then(\n      (result) => {\n        this.onLoad({ language, namespace, messages: result.messages });\n        this.#loaded.add(key);\n      },\n      (error) => {\n        this.#loaded.add(key);\n        throw error;\n      }\n    );\n    this.#loading.set(key, load);\n    await load;\n  }\n}\nclass I18nextTranslationApi {\n  static create(options) {\n    const { languages } = options.languageApi.getAvailableLanguages();\n    const i18n = createInstance({\n      fallbackLng: DEFAULT_LANGUAGE,\n      supportedLngs: languages,\n      interpolation: {\n        escapeValue: false\n      },\n      ns: [],\n      defaultNS: false,\n      fallbackNS: false,\n      // Disable resource loading on init, meaning i18n will be ready to use immediately\n      initImmediate: false\n    });\n    i18n.init();\n    if (!i18n.isInitialized) {\n      throw new Error(\"i18next was unexpectedly not initialized\");\n    }\n    const { language: initialLanguage } = options.languageApi.getLanguage();\n    if (initialLanguage !== DEFAULT_LANGUAGE) {\n      i18n.changeLanguage(initialLanguage);\n    }\n    const loader = new ResourceLoader((loaded) => {\n      i18n.addResourceBundle(\n        loaded.language,\n        loaded.namespace,\n        removeNulls(loaded.messages),\n        false,\n        // do not merge with existing translations\n        true\n        // overwrite translations\n      );\n    });\n    const resources = options?.resources || [];\n    for (let i = resources.length - 1; i >= 0; i--) {\n      const resource = resources[i];\n      if (resource.$$type === \"@backstage/TranslationResource\") {\n        loader.addTranslationResource(resource);\n      } else if (resource.$$type === \"@backstage/TranslationMessages\") {\n        i18n.addResourceBundle(\n          DEFAULT_LANGUAGE,\n          resource.id,\n          removeNulls(resource.messages),\n          true,\n          // merge with existing translations\n          false\n          // do not overwrite translations\n        );\n      }\n    }\n    const instance = new I18nextTranslationApi(\n      i18n,\n      loader,\n      options.languageApi.getLanguage().language\n    );\n    options.languageApi.language$().subscribe(({ language }) => {\n      instance.#changeLanguage(language);\n    });\n    return instance;\n  }\n  #i18n;\n  #loader;\n  #language;\n  /** Keep track of which refs we have registered default resources for */\n  #registeredRefs = /* @__PURE__ */ new Set();\n  /** Notify observers when language changes */\n  #languageChangeListeners = /* @__PURE__ */ new Set();\n  constructor(i18n, loader, language) {\n    this.#i18n = i18n;\n    this.#loader = loader;\n    this.#language = language;\n  }\n  getTranslation(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return this.#createSnapshot(internalRef);\n  }\n  translation$(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return new ObservableImpl((subscriber) => {\n      let loadTicket = {};\n      const loadResource = () => {\n        loadTicket = {};\n        const ticket = loadTicket;\n        this.#loader.load(this.#language, internalRef.id).then(\n          () => {\n            if (ticket === loadTicket) {\n              const snapshot = this.#createSnapshot(internalRef);\n              if (snapshot.ready) {\n                subscriber.next(snapshot);\n              }\n            }\n          },\n          (error) => {\n            if (ticket === loadTicket) {\n              subscriber.error(Array.isArray(error) ? error[0] : error);\n            }\n          }\n        );\n      };\n      const onChange = () => {\n        const snapshot = this.#createSnapshot(internalRef);\n        if (snapshot.ready) {\n          subscriber.next(snapshot);\n        } else {\n          loadResource();\n        }\n      };\n      if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n        loadResource();\n      }\n      this.#languageChangeListeners.add(onChange);\n      return () => {\n        this.#languageChangeListeners.delete(onChange);\n      };\n    });\n  }\n  #changeLanguage(language) {\n    if (this.#language !== language) {\n      this.#language = language;\n      this.#i18n.changeLanguage(language);\n      this.#languageChangeListeners.forEach((listener) => listener());\n    }\n  }\n  #createSnapshot(internalRef) {\n    if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n      return { ready: false };\n    }\n    const t = this.#i18n.getFixedT(\n      null,\n      internalRef.id\n    );\n    return {\n      ready: true,\n      t\n    };\n  }\n  #registerDefaults(internalRef) {\n    if (this.#registeredRefs.has(internalRef.id)) {\n      return;\n    }\n    this.#registeredRefs.add(internalRef.id);\n    const defaultMessages = internalRef.getDefaultMessages();\n    this.#i18n.addResourceBundle(\n      DEFAULT_LANGUAGE,\n      internalRef.id,\n      defaultMessages,\n      true,\n      // merge with existing translations\n      false\n      // do not overwrite translations\n    );\n    const defaultResource = internalRef.getDefaultResource();\n    if (defaultResource) {\n      this.#loader.addTranslationResource(defaultResource);\n    }\n  }\n}\n\nexport { I18nextTranslationApi };\n//# sourceMappingURL=I18nextTranslationApi.esm.js.map\n","import { ConfigReader } from '@backstage/config';\n\nfunction createLocalBaseUrl(fullUrl) {\n  const url = new URL(fullUrl);\n  url.protocol = document.location.protocol;\n  url.hostname = document.location.hostname;\n  url.port = document.location.port;\n  return url.toString().replace(/\\/$/, \"\");\n}\nfunction overrideBaseUrlConfigs(inputConfigs) {\n  const urlConfigReader = ConfigReader.fromConfigs(inputConfigs);\n  const appBaseUrl = urlConfigReader.getOptionalString(\"app.baseUrl\");\n  const backendBaseUrl = urlConfigReader.getOptionalString(\"backend.baseUrl\");\n  let configs = inputConfigs;\n  let newBackendBaseUrl = void 0;\n  let newAppBaseUrl = void 0;\n  if (appBaseUrl && backendBaseUrl) {\n    const appOrigin = new URL(appBaseUrl).origin;\n    const backendOrigin = new URL(backendBaseUrl).origin;\n    if (appOrigin === backendOrigin) {\n      const maybeNewBackendBaseUrl = createLocalBaseUrl(backendBaseUrl);\n      if (backendBaseUrl !== maybeNewBackendBaseUrl) {\n        newBackendBaseUrl = maybeNewBackendBaseUrl;\n      }\n    }\n  }\n  if (appBaseUrl) {\n    const maybeNewAppBaseUrl = createLocalBaseUrl(appBaseUrl);\n    if (appBaseUrl !== maybeNewAppBaseUrl) {\n      newAppBaseUrl = maybeNewAppBaseUrl;\n    }\n  }\n  if (newAppBaseUrl || newBackendBaseUrl) {\n    configs = configs.concat({\n      data: {\n        app: newAppBaseUrl && {\n          baseUrl: newAppBaseUrl\n        },\n        backend: newBackendBaseUrl && {\n          baseUrl: newBackendBaseUrl\n        }\n      },\n      context: \"relative-resolver\"\n    });\n  }\n  return configs;\n}\n\nexport { overrideBaseUrlConfigs };\n//# sourceMappingURL=overrideBaseUrlConfigs.esm.js.map\n","function isProtectedApp() {\n  const element = document.querySelector('meta[name=\"backstage-app-mode\"]');\n  const appMode = element?.getAttribute(\"content\") ?? \"public\";\n  return appMode === \"protected\";\n}\n\nexport { isProtectedApp };\n//# sourceMappingURL=isProtectedApp.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useRef, useMemo, Suspense } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { ApiProvider } from '../apis/system/ApiProvider.esm.js';\nimport { ApiResolver } from '../apis/system/ApiResolver.esm.js';\nimport { ApiFactoryRegistry } from '../apis/system/ApiFactoryRegistry.esm.js';\nimport 'zen-observable';\nimport { appThemeApiRef, configApiRef, identityApiRef, featureFlagsApiRef, errorApiRef, fetchApiRef, discoveryApiRef } from '@backstage/core-plugin-api';\nimport '../apis/implementations/auth/saml/types.esm.js';\nimport { AppThemeSelector } from '../apis/implementations/AppThemeApi/AppThemeSelector.esm.js';\nimport { ConfigReader } from '@backstage/config';\nimport { LocalStorageFeatureFlags } from '../apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js';\nimport { appLanguageApiRef, translationApiRef } from '@backstage/core-plugin-api/alpha';\nimport { traverseElementTree, childDiscoverer, routeElementDiscoverer } from '../extensions/traversal.esm.js';\nimport { pluginCollector } from '../plugins/collectors.esm.js';\nimport { routingV1Collector, routingV2Collector, featureFlagCollector } from '../routing/collectors.esm.js';\nimport { RoutingProvider } from '../routing/RoutingProvider.esm.js';\nimport { validateRouteParameters, validateRouteBindings } from '../routing/validation.esm.js';\nimport { AppContextProvider } from './AppContext.esm.js';\nimport { AppIdentityProxy } from '../apis/implementations/IdentityApi/AppIdentityProxy.esm.js';\nimport { AppThemeProvider } from './AppThemeProvider.esm.js';\nimport { defaultConfigLoader } from './defaultConfigLoader.esm.js';\nimport { ApiRegistry } from '../apis/system/ApiRegistry.esm.js';\nimport { resolveRouteBindings } from './resolveRouteBindings.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { AppRouter, getBasePath } from './AppRouter.esm.js';\nimport { AppLanguageSelector } from '../apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js';\nimport { I18nextTranslationApi } from '../apis/implementations/TranslationApi/I18nextTranslationApi.esm.js';\nimport { overrideBaseUrlConfigs } from './overrideBaseUrlConfigs.esm.js';\nimport { isProtectedApp } from './isProtectedApp.esm.js';\n\nfunction useConfigLoader(configLoader, components, appThemeApi) {\n  const hasConfig = Boolean(configLoader);\n  const config = useAsync(configLoader || (() => Promise.resolve([])));\n  let noConfigNode = void 0;\n  if (hasConfig && config.loading) {\n    const { Progress } = components;\n    noConfigNode = /* @__PURE__ */ jsx(Progress, {});\n  } else if (config.error) {\n    const { BootErrorPage } = components;\n    noConfigNode = /* @__PURE__ */ jsx(BootErrorPage, { step: \"load-config\", error: config.error });\n  }\n  const { ThemeProvider = AppThemeProvider } = components;\n  if (noConfigNode) {\n    return {\n      node: /* @__PURE__ */ jsx(ApiProvider, { apis: ApiRegistry.with(appThemeApiRef, appThemeApi), children: /* @__PURE__ */ jsx(ThemeProvider, { children: noConfigNode }) })\n    };\n  }\n  const configReader = ConfigReader.fromConfigs(\n    config.value?.length ? overrideBaseUrlConfigs(config.value) : []\n  );\n  return { api: configReader };\n}\nclass AppContextImpl {\n  constructor(app) {\n    this.app = app;\n  }\n  getPlugins() {\n    return this.app.getPlugins();\n  }\n  getSystemIcon(key) {\n    return this.app.getSystemIcon(key);\n  }\n  getSystemIcons() {\n    return this.app.getSystemIcons();\n  }\n  getComponents() {\n    return this.app.getComponents();\n  }\n}\nclass AppManager {\n  apiHolder;\n  configApi;\n  apis;\n  icons;\n  plugins;\n  featureFlags;\n  components;\n  themes;\n  configLoader;\n  defaultApis;\n  bindRoutes;\n  appLanguageApi;\n  translationResources;\n  appIdentityProxy = new AppIdentityProxy();\n  apiFactoryRegistry;\n  constructor(options) {\n    this.apis = options.apis ?? [];\n    this.icons = options.icons;\n    this.plugins = new Set(options.plugins ?? []);\n    this.featureFlags = options.featureFlags ?? [];\n    this.components = options.components;\n    this.themes = options.themes;\n    this.configLoader = options.configLoader ?? defaultConfigLoader;\n    this.defaultApis = options.defaultApis ?? [];\n    this.bindRoutes = options.bindRoutes;\n    this.apiFactoryRegistry = new ApiFactoryRegistry();\n    this.appLanguageApi = AppLanguageSelector.createWithStorage({\n      defaultLanguage: options.__experimentalTranslations?.defaultLanguage,\n      availableLanguages: options.__experimentalTranslations?.availableLanguages\n    });\n    this.translationResources = options.__experimentalTranslations?.resources ?? [];\n  }\n  getPlugins() {\n    return Array.from(this.plugins);\n  }\n  getSystemIcon(key) {\n    return this.icons[key];\n  }\n  getSystemIcons() {\n    return this.icons;\n  }\n  getComponents() {\n    return this.components;\n  }\n  createRoot(element) {\n    const AppProvider = this.getProvider();\n    const AppRoot = () => {\n      return /* @__PURE__ */ jsx(AppProvider, { children: element });\n    };\n    return AppRoot;\n  }\n  #getProviderCalled = false;\n  getProvider() {\n    if (this.#getProviderCalled) {\n      throw new Error(\n        \"app.getProvider() or app.createRoot() has already been called, and can only be called once\"\n      );\n    }\n    this.#getProviderCalled = true;\n    const appContext = new AppContextImpl(this);\n    let routeBindings;\n    let routeValidationError = void 0;\n    const Provider = ({ children }) => {\n      const needsFeatureFlagRegistrationRef = useRef(true);\n      const appThemeApi = useMemo(\n        () => AppThemeSelector.createWithStorage(this.themes),\n        []\n      );\n      const { routing, featureFlags } = useMemo(() => {\n        const usesReactRouterBeta = isReactRouterBeta();\n        if (usesReactRouterBeta) {\n          console.warn(`\nDEPRECATION WARNING: React Router Beta is deprecated and support for it will be removed in a future release.\n                     Please migrate to use React Router v6 stable.\n                     See https://backstage.io/docs/tutorials/react-router-stable-migration\n`);\n        }\n        const result = traverseElementTree({\n          root: children,\n          discoverers: [childDiscoverer, routeElementDiscoverer],\n          collectors: {\n            routing: usesReactRouterBeta ? routingV1Collector : routingV2Collector,\n            collectedPlugins: pluginCollector,\n            featureFlags: featureFlagCollector\n          }\n        });\n        result.collectedPlugins.forEach((plugin) => this.plugins.add(plugin));\n        this.verifyPlugins(this.plugins);\n        this.getApiHolder();\n        return result;\n      }, [children]);\n      const loadedConfig = useConfigLoader(\n        this.configLoader,\n        this.components,\n        appThemeApi\n      );\n      const hasConfigApi = \"api\" in loadedConfig;\n      if (hasConfigApi) {\n        const { api } = loadedConfig;\n        this.configApi = api;\n      }\n      if (\"node\" in loadedConfig) {\n        return loadedConfig.node;\n      }\n      if (routeValidationError) {\n        throw routeValidationError;\n      } else if (!routeBindings) {\n        try {\n          routeBindings = resolveRouteBindings(\n            this.bindRoutes,\n            loadedConfig.api,\n            this.plugins\n          );\n          validateRouteParameters(routing.paths, routing.parents);\n          validateRouteBindings(routeBindings, this.plugins);\n        } catch (error) {\n          routeValidationError = error;\n          throw error;\n        }\n      }\n      if (hasConfigApi && needsFeatureFlagRegistrationRef.current) {\n        needsFeatureFlagRegistrationRef.current = false;\n        const featureFlagsApi = this.getApiHolder().get(featureFlagsApiRef);\n        if (featureFlagsApi) {\n          for (const flag of this.featureFlags) {\n            featureFlagsApi.registerFlag({\n              ...flag,\n              pluginId: \"\"\n            });\n          }\n          for (const plugin of this.plugins.values()) {\n            if (\"getFeatureFlags\" in plugin) {\n              for (const flag of plugin.getFeatureFlags()) {\n                featureFlagsApi.registerFlag({\n                  name: flag.name,\n                  pluginId: plugin.getId()\n                });\n              }\n            } else {\n              for (const output of plugin.output()) {\n                if (output.type === \"feature-flag\") {\n                  featureFlagsApi.registerFlag({\n                    name: output.name,\n                    pluginId: plugin.getId()\n                  });\n                }\n              }\n            }\n          }\n          const registeredFlags = featureFlagsApi.getRegisteredFlags();\n          const flagNames = new Set(registeredFlags.map((f) => f.name));\n          for (const name of featureFlags) {\n            if (!flagNames.has(name)) {\n              featureFlagsApi.registerFlag({ name, pluginId: \"\" });\n            }\n          }\n        }\n      }\n      const { ThemeProvider = AppThemeProvider, Progress } = this.components;\n      const apis = this.getApiHolder();\n      if (isProtectedApp()) {\n        const errorApi = apis.get(errorApiRef);\n        const fetchApi = apis.get(fetchApiRef);\n        const discoveryApi = apis.get(discoveryApiRef);\n        if (!errorApi || !fetchApi || !discoveryApi) {\n          throw new Error(\n            \"App is running in protected mode but missing required APIs\"\n          );\n        }\n        this.appIdentityProxy.enableCookieAuth({\n          errorApi,\n          fetchApi,\n          discoveryApi\n        });\n      }\n      return /* @__PURE__ */ jsx(ApiProvider, { apis, children: /* @__PURE__ */ jsx(AppContextProvider, { appContext, children: /* @__PURE__ */ jsx(ThemeProvider, { children: /* @__PURE__ */ jsx(\n        RoutingProvider,\n        {\n          routePaths: routing.paths,\n          routeParents: routing.parents,\n          routeObjects: routing.objects,\n          routeBindings,\n          basePath: getBasePath(loadedConfig.api),\n          children: /* @__PURE__ */ jsx(\n            InternalAppContext.Provider,\n            {\n              value: {\n                routeObjects: routing.objects,\n                appIdentityProxy: this.appIdentityProxy\n              },\n              children: /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children })\n            }\n          )\n        }\n      ) }) }) });\n    };\n    return Provider;\n  }\n  getRouter() {\n    return AppRouter;\n  }\n  getApiHolder() {\n    if (this.apiHolder) {\n      for (const plugin of this.plugins) {\n        for (const factory of plugin.getApis()) {\n          if (!this.apiFactoryRegistry.get(factory.api)) {\n            this.apiFactoryRegistry.register(\"default\", factory);\n          }\n        }\n      }\n      ApiResolver.validateFactories(\n        this.apiFactoryRegistry,\n        this.apiFactoryRegistry.getAllApis()\n      );\n      return this.apiHolder;\n    }\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appThemeApiRef,\n      deps: {},\n      factory: () => AppThemeSelector.createWithStorage(this.themes)\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: configApiRef,\n      deps: {},\n      factory: () => {\n        if (!this.configApi) {\n          throw new Error(\n            \"Tried to access config API before config was loaded\"\n          );\n        }\n        return this.configApi;\n      }\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: identityApiRef,\n      deps: {},\n      factory: () => this.appIdentityProxy\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appLanguageApiRef,\n      deps: {},\n      factory: () => this.appLanguageApi\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: translationApiRef,\n      deps: { languageApi: appLanguageApiRef },\n      factory: ({ languageApi }) => I18nextTranslationApi.create({\n        languageApi,\n        resources: this.translationResources\n      })\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: featureFlagsApiRef,\n      deps: {},\n      factory: () => new LocalStorageFeatureFlags()\n    });\n    for (const factory of this.defaultApis) {\n      this.apiFactoryRegistry.register(\"default\", factory);\n    }\n    for (const plugin of this.plugins) {\n      for (const factory of plugin.getApis()) {\n        if (!this.apiFactoryRegistry.register(\"default\", factory)) {\n          throw new Error(\n            `Plugin ${plugin.getId()} tried to register duplicate or forbidden API factory for ${factory.api}`\n          );\n        }\n      }\n    }\n    for (const factory of this.apis) {\n      if (!this.apiFactoryRegistry.register(\"app\", factory)) {\n        throw new Error(\n          `Duplicate or forbidden API factory for ${factory.api} in app`\n        );\n      }\n    }\n    ApiResolver.validateFactories(\n      this.apiFactoryRegistry,\n      this.apiFactoryRegistry.getAllApis()\n    );\n    this.apiHolder = new ApiResolver(this.apiFactoryRegistry);\n    return this.apiHolder;\n  }\n  verifyPlugins(plugins) {\n    const pluginIds = /* @__PURE__ */ new Set();\n    for (const plugin of plugins) {\n      const id = plugin.getId();\n      if (pluginIds.has(id)) {\n        throw new Error(`Duplicate plugin found '${id}'`);\n      }\n      pluginIds.add(id);\n    }\n  }\n}\n\nexport { AppManager };\n//# sourceMappingURL=AppManager.esm.js.map\n","import { AppManager } from './AppManager.esm.js';\n\nfunction createSpecializedApp(options) {\n  return new AppManager(options);\n}\n\nexport { createSpecializedApp };\n//# sourceMappingURL=createSpecializedApp.esm.js.map\n","import { apis } from './defaults/apis.esm.js';\nimport { components } from './defaults/components.esm.js';\nimport { icons } from './defaults/icons.esm.js';\nimport { themes } from './defaults/themes.esm.js';\nimport { createSpecializedApp } from '@backstage/core-app-api';\n\nfunction createApp(options) {\n  return createSpecializedApp({\n    ...options,\n    apis: options?.apis ?? [],\n    bindRoutes: options?.bindRoutes,\n    components: {\n      ...components,\n      ...options?.components\n    },\n    configLoader: options?.configLoader,\n    defaultApis: apis,\n    icons: {\n      ...icons,\n      ...options?.icons\n    },\n    plugins: options?.plugins ?? [],\n    featureFlags: options?.featureFlags ?? [],\n    themes: options?.themes ?? themes\n  });\n}\n\nexport { createApp };\n//# sourceMappingURL=createApp.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useApp } from '@backstage/core-plugin-api';\nimport { usePermission } from '../hooks/usePermission.esm.js';\nimport { isResourcePermission } from '@backstage/plugin-permission-common';\n\nfunction RequirePermission(props) {\n  const { permission, resourceRef } = props;\n  const permissionResult = usePermission(\n    isResourcePermission(permission) ? { permission, resourceRef } : { permission }\n  );\n  const app = useApp();\n  if (permissionResult.loading) {\n    return null;\n  } else if (permissionResult.allowed) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n  }\n  if (props.errorPage) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.errorPage });\n  }\n  const { NotFoundErrorPage } = app.getComponents();\n  return /* @__PURE__ */ jsx(NotFoundErrorPage, {});\n}\n\nexport { RequirePermission };\n//# sourceMappingURL=RequirePermission.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useContext, useState } from 'react';\nimport { useResolvedPath, useLocation, resolvePath } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport classNames from 'classnames';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport { SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    item: {\n      height: 48,\n      width: \"100%\",\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground || \"#6f6f6f\",\n        color: theme.palette.navigation.selectedColor\n      },\n      display: \"flex\",\n      alignItems: \"center\",\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      cursor: \"pointer\",\n      position: \"relative\",\n      background: \"none\",\n      border: \"none\"\n    },\n    itemContainer: {\n      width: \"100%\"\n    },\n    selected: {\n      background: \"#6f6f6f\",\n      color: theme.palette.common.white\n    },\n    label: {\n      margin: theme.spacing(1.75),\n      marginLeft: theme.spacing(1),\n      fontSize: theme.typography.body2.fontSize,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\",\n      lineHeight: 1\n    },\n    subtitle: {\n      fontSize: 10,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    dropdownArrow: {\n      position: \"absolute\",\n      right: 21\n    },\n    dropdown: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"end\"\n    },\n    dropdownItem: {\n      width: \"100%\",\n      padding: \"10px 0 10px 0\",\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground || \"#6f6f6f\",\n        color: theme.palette.navigation.selectedColor\n      }\n    },\n    dropdownButton: {\n      textTransform: \"none\",\n      justifyContent: \"flex-start\"\n    },\n    textContent: {\n      color: theme.palette.navigation.color,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(1),\n      fontSize: theme.typography.body2.fontSize,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    }\n  }),\n  { name: \"BackstageSidebarSubmenuItem\" }\n);\nconst SidebarSubmenuItem = (props) => {\n  const { title, subtitle, to, icon: Icon, dropdownItems, exact } = props;\n  const classes = useStyles();\n  const { setIsHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const closeSubmenu = () => {\n    setIsHoveredOn(false);\n  };\n  const toLocation = useResolvedPath(to ?? \"\");\n  const currentLocation = useLocation();\n  let isActive = isLocationMatch(currentLocation, toLocation, exact);\n  const [showDropDown, setShowDropDown] = useState(\n    props.initialShowDropdown ?? false\n  );\n  const handleClickDropdown = () => {\n    setShowDropDown(!showDropDown);\n  };\n  if (dropdownItems !== void 0) {\n    dropdownItems.some((item) => {\n      const resolvedPath = resolvePath(item.to);\n      isActive = isLocationMatch(currentLocation, resolvedPath, exact);\n      return isActive;\n    });\n    return /* @__PURE__ */ jsxs(Box, { className: classes.itemContainer, children: [\n      /* @__PURE__ */ jsx(Tooltip, { title, enterDelay: 500, enterNextDelay: 500, children: /* @__PURE__ */ jsxs(\n        Button,\n        {\n          role: \"button\",\n          onClick: handleClickDropdown,\n          onTouchStart: (e) => e.stopPropagation(),\n          className: classNames(\n            classes.item,\n            classes.dropdownButton,\n            isActive ? classes.selected : void 0\n          ),\n          children: [\n            Icon && /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n            /* @__PURE__ */ jsxs(\n              Typography,\n              {\n                variant: \"subtitle1\",\n                component: \"span\",\n                className: classes.label,\n                children: [\n                  title,\n                  /* @__PURE__ */ jsx(\"br\", {}),\n                  subtitle && /* @__PURE__ */ jsx(\n                    Typography,\n                    {\n                      variant: \"caption\",\n                      component: \"span\",\n                      className: classes.subtitle,\n                      children: subtitle\n                    }\n                  )\n                ]\n              }\n            ),\n            showDropDown ? /* @__PURE__ */ jsx(ArrowDropUpIcon, { className: classes.dropdownArrow }) : /* @__PURE__ */ jsx(ArrowDropDownIcon, { className: classes.dropdownArrow })\n          ]\n        }\n      ) }),\n      dropdownItems && showDropDown && /* @__PURE__ */ jsx(Box, { className: classes.dropdown, children: dropdownItems.map((object, key) => /* @__PURE__ */ jsx(\n        Tooltip,\n        {\n          title: object.title,\n          enterDelay: 500,\n          enterNextDelay: 500,\n          children: /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: object.to,\n              underline: \"none\",\n              className: classes.dropdownItem,\n              onClick: closeSubmenu,\n              onTouchStart: (e) => e.stopPropagation(),\n              children: /* @__PURE__ */ jsx(Typography, { component: \"span\", className: classes.textContent, children: object.title })\n            }\n          )\n        },\n        key\n      )) })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Box, { className: classes.itemContainer, children: /* @__PURE__ */ jsx(Tooltip, { title, enterDelay: 500, enterNextDelay: 500, children: /* @__PURE__ */ jsxs(\n    Link,\n    {\n      to,\n      underline: \"none\",\n      className: classNames(\n        classes.item,\n        isActive ? classes.selected : void 0\n      ),\n      onClick: closeSubmenu,\n      onTouchStart: (e) => e.stopPropagation(),\n      children: [\n        Icon && /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n        /* @__PURE__ */ jsxs(\n          Typography,\n          {\n            variant: \"subtitle1\",\n            component: \"span\",\n            className: classes.label,\n            children: [\n              title,\n              /* @__PURE__ */ jsx(\"br\", {}),\n              subtitle && /* @__PURE__ */ jsx(\n                Typography,\n                {\n                  variant: \"caption\",\n                  component: \"span\",\n                  className: classes.subtitle,\n                  children: subtitle\n                }\n              )\n            ]\n          }\n        )\n      ]\n    }\n  ) }) });\n};\n\nexport { SidebarSubmenuItem };\n//# sourceMappingURL=SidebarSubmenuItem.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { getCompoundEntityRef, DEFAULT_NAMESPACE, stringifyEntityRef } from '@backstage/catalog-model';\nimport { SidebarItem, SidebarSubmenu, SidebarSubmenuItem } from '@backstage/core-components';\nimport { useApi, identityApiRef, useRouteRef } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef, entityRouteRef, entityPresentationApiRef } from '@backstage/plugin-catalog-react';\n\nconst MyGroupsSidebarItem = (props) => {\n  const { singularTitle, pluralTitle, icon, filter } = props;\n  const identityApi = useApi(identityApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: groups } = useAsync(async () => {\n    const profile = await identityApi.getBackstageIdentity();\n    const response = await catalogApi.getEntities({\n      filter: [\n        {\n          kind: \"group\",\n          \"relations.hasMember\": profile.userEntityRef,\n          ...filter ?? {}\n        }\n      ],\n      fields: [\"metadata\", \"kind\"]\n    });\n    return response.items;\n  }, []);\n  if (!groups?.length) {\n    return null;\n  }\n  if (groups.length === 1) {\n    const group = groups[0];\n    return /* @__PURE__ */ jsx(\n      SidebarItem,\n      {\n        text: singularTitle,\n        to: catalogEntityRoute(getCompoundEntityRef(group)),\n        icon\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(SidebarItem, { icon, text: pluralTitle, children: /* @__PURE__ */ jsx(SidebarSubmenu, { title: pluralTitle, children: groups?.map((group) => {\n    const entityDisplayName = entityPresentationApi.forEntity(group);\n    return /* @__PURE__ */ jsx(\n      SidebarSubmenuItem,\n      {\n        title: entityDisplayName.snapshot.primaryTitle,\n        subtitle: group.metadata.namespace !== DEFAULT_NAMESPACE ? group.metadata.namespace : void 0,\n        to: catalogEntityRoute(getCompoundEntityRef(group)),\n        icon\n      },\n      stringifyEntityRef(group)\n    );\n  }) }) });\n};\n\nexport { MyGroupsSidebarItem };\n//# sourceMappingURL=MyGroupsSidebarItem.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useAnalytics, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport MaterialLink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { trimEnd } from 'lodash';\nimport { forwardRef } from 'react';\nimport { Link as Link$1, createRoutesFromChildren, Route } from 'react-router-dom';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ jsx(Route, { index: true, element: /* @__PURE__ */ jsx(\"div\", {}) }));\n  return !obj.index;\n}\nconst useStyles = makeStyles(\n  (theme) => ({\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      userSelect: \"none\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    },\n    externalLinkIcon: {\n      verticalAlign: \"bottom\",\n      marginLeft: theme.spacing(0.5)\n    }\n  }),\n  { name: \"Link\" }\n);\nconst ExternalLinkIcon = () => {\n  const app = useApp();\n  const Icon = app.getSystemIcon(\"externalLink\") || OpenInNew;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Icon, { className: classes.externalLinkIcon });\n};\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  const base = \"http://sample.dev\";\n  const url = useBaseUrl() ?? \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText(node?.props?.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = forwardRef(\n  ({ onClick, noTrack, externalLinkIcon, ...props }, ref) => {\n    const classes = useStyles();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick?.(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ jsxs(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className),\n          children: [\n            props.children,\n            externalLinkIcon && /* @__PURE__ */ jsx(ExternalLinkIcon, {}),\n            /* @__PURE__ */ jsx(Typography, { component: \"span\", className: classes.visuallyHidden, children: \", Opens in a new window\" })\n          ]\n        }\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ jsx(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nexport { Link, isExternalUri, isReactRouterBeta, useResolvedPath };\n//# sourceMappingURL=Link.esm.js.map\n","const FIELD_EXTENSION_WRAPPER_KEY = \"scaffolder.extensions.wrapper.v1\";\nconst FIELD_EXTENSION_KEY = \"scaffolder.extensions.field.v1\";\n\nexport { FIELD_EXTENSION_KEY, FIELD_EXTENSION_WRAPPER_KEY };\n//# sourceMappingURL=keys.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { useContext, useState, useEffect } from 'react';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      zIndex: 1e3,\n      position: \"relative\",\n      overflow: \"visible\",\n      width: theme.spacing(7) + 1\n    },\n    drawer: (props) => ({\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      opacity: 0,\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: props.left,\n        transition: theme.transitions.create([\"margin-left\", \"opacity\"], {\n          easing: theme.transitions.easing.sharp,\n          duration: props.submenuConfig.defaultOpenDelayMs\n        })\n      },\n      top: 0,\n      bottom: 0,\n      padding: 0,\n      background: theme.palette.navigation.submenu?.background ?? \"#404040\",\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      cursor: \"default\",\n      width: props.submenuConfig.drawerWidthClosed,\n      transitionDelay: `${props.submenuConfig.defaultOpenDelayMs}ms`,\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      }\n    }),\n    drawerOpen: (props) => ({\n      marginLeft: props.left,\n      opacity: 1,\n      width: props.submenuConfig.drawerWidthOpen,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        position: \"relative\",\n        paddingLeft: theme.spacing(3),\n        left: 0,\n        top: 0\n      }\n    }),\n    title: {\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      [theme.breakpoints.down(\"xs\")]: {\n        display: \"none\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebarSubmenu\" }\n);\nconst SidebarSubmenu = (props) => {\n  const { isOpen } = useSidebarOpenState();\n  const { sidebarConfig, submenuConfig } = useContext(SidebarConfigContext);\n  const left = isOpen ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed;\n  const classes = useStyles({ left, submenuConfig });\n  const { isHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\n  useEffect(() => {\n    setIsSubmenuOpen(isHoveredOn);\n  }, [isHoveredOn]);\n  return /* @__PURE__ */ jsxs(\n    Box,\n    {\n      className: classNames(classes.drawer, {\n        [classes.drawerOpen]: isSubmenuOpen\n      }),\n      children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h5\", component: \"span\", className: classes.title, children: props.title }),\n        props.children\n      ]\n    }\n  );\n};\n\nexport { SidebarSubmenu };\n//# sourceMappingURL=SidebarSubmenu.esm.js.map\n","import { createApiFactory, githubAuthApiRef, gitlabAuthApiRef, microsoftAuthApiRef, bitbucketAuthApiRef } from '@backstage/core-plugin-api';\nimport { scmAuthApiRef } from './ScmAuthApi.esm.js';\n\nclass ScmAuthMux {\n  #providers;\n  constructor(providers) {\n    this.#providers = providers;\n  }\n  async getCredentials(options) {\n    const url = new URL(options.url);\n    const provider = this.#providers.find((p) => p.isUrlSupported(url));\n    if (!provider) {\n      throw new Error(\n        `No auth provider available for '${options.url}', see https://backstage.io/link?scm-auth`\n      );\n    }\n    return provider.getCredentials(options);\n  }\n}\nclass ScmAuth {\n  /**\n   * Creates an API factory that enables auth for each of the default SCM providers.\n   */\n  static createDefaultApiFactory() {\n    return createApiFactory({\n      api: scmAuthApiRef,\n      deps: {\n        github: githubAuthApiRef,\n        gitlab: gitlabAuthApiRef,\n        azure: microsoftAuthApiRef,\n        bitbucket: bitbucketAuthApiRef\n      },\n      factory: ({ github, gitlab, azure, bitbucket }) => ScmAuth.merge(\n        ScmAuth.forGithub(github),\n        ScmAuth.forGitlab(gitlab),\n        ScmAuth.forAzure(azure),\n        ScmAuth.forBitbucket(bitbucket)\n      )\n    });\n  }\n  /**\n   * Creates a general purpose ScmAuth instance with a custom scope mapping.\n   */\n  static forAuthApi(authApi, options) {\n    return new ScmAuth(\"generic\", authApi, options.host, options.scopeMapping);\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitHub.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `github.com`.\n   *\n   * The default scopes are:\n   *\n   * `repo read:org read:user`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `gist`\n   */\n  static forGithub(githubAuthApi, options) {\n    const host = options?.host ?? \"github.com\";\n    return new ScmAuth(\"github\", githubAuthApi, host, {\n      default: [\"repo\", \"read:org\", \"read:user\"],\n      repoWrite: [\"gist\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitLab.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `gitlab.com`.\n   *\n   * The default scopes are:\n   *\n   * `read_user read_api read_repository`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `write_repository api`\n   */\n  static forGitlab(gitlabAuthApi, options) {\n    const host = options?.host ?? \"gitlab.com\";\n    return new ScmAuth(\"gitlab\", gitlabAuthApi, host, {\n      default: [\"read_user\", \"read_api\", \"read_repository\"],\n      repoWrite: [\"write_repository api\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Azure.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `dev.azure.com`.\n   *\n   * The default scopes are:\n   *\n   * `vso.build vso.code vso.graph vso.project vso.profile`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `vso.code_manage`\n   */\n  static forAzure(microsoftAuthApi, options) {\n    const host = options?.host ?? \"dev.azure.com\";\n    return new ScmAuth(\"azure\", microsoftAuthApi, host, {\n      default: [\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.build\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.code\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.graph\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.project\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.profile\"\n      ],\n      repoWrite: [\"499b84ac-1321-427f-aa17-267ca6975798/vso.code_manage\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `bitbucket.org`.\n   *\n   * The default scopes are:\n   *\n   * `account team pullrequest snippet issue`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `pullrequest:write snippet:write issue:write`\n   */\n  static forBitbucket(bitbucketAuthApi, options) {\n    const host = options?.host ?? \"bitbucket.org\";\n    const defaultScopes = options?.scopeMapping?.default ?? [\n      \"account\",\n      \"team\",\n      \"pullrequest\",\n      \"snippet\",\n      \"issue\",\n      \"project\"\n    ];\n    const repoWriteScopes = options?.scopeMapping?.repoWrite ?? [\n      \"pullrequest:write\",\n      \"snippet:write\",\n      \"issue:write\"\n    ];\n    return new ScmAuth(\"bitbucket\", bitbucketAuthApi, host, {\n      default: defaultScopes,\n      repoWrite: repoWriteScopes\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket Server.\n   *\n   * The host option determines which URLs that are handled by this instance.\n   *\n   * The default scopes are:\n   *\n   * `PUBLIC_REPOS REPO_READ`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `REPO_WRITE`\n   */\n  static forBitbucketServer(bitbucketAuthApi, options) {\n    return this.forBitbucket(bitbucketAuthApi, {\n      host: options.host,\n      scopeMapping: {\n        default: options.scopeMapping?.default ?? [\"PUBLIC_REPOS\", \"REPO_READ\"],\n        repoWrite: options.scopeMapping?.repoWrite ?? [\"REPO_WRITE\"]\n      }\n    });\n  }\n  /**\n   * Merges together multiple ScmAuth instances into one that\n   * routes requests to the correct instance based on the URL.\n   */\n  static merge(...providers) {\n    return new ScmAuthMux(providers);\n  }\n  #api;\n  #host;\n  #scopeMapping;\n  #providerName;\n  constructor(providerName, api, host, scopeMapping) {\n    this.#api = api;\n    this.#host = host;\n    this.#scopeMapping = scopeMapping;\n    this.#providerName = providerName;\n  }\n  /**\n   * Checks whether the implementation is able to provide authentication for the given URL.\n   */\n  isUrlSupported(url) {\n    return url.host === this.#host;\n  }\n  getAdditionalScopesForProvider(additionalScopes) {\n    if (!additionalScopes?.customScopes || this.#providerName === \"generic\") {\n      return [];\n    }\n    return additionalScopes.customScopes?.[this.#providerName] ?? [];\n  }\n  /**\n   * Fetches credentials for the given resource.\n   */\n  async getCredentials(options) {\n    const { url, additionalScope, ...restOptions } = options;\n    const scopes = this.#scopeMapping.default.slice();\n    if (additionalScope?.repoWrite) {\n      scopes.push(...this.#scopeMapping.repoWrite);\n    }\n    const additionalScopes = this.getAdditionalScopesForProvider(additionalScope);\n    if (additionalScopes.length) {\n      scopes.push(...additionalScopes);\n    }\n    const uniqueScopes = [...new Set(scopes)];\n    const token = await this.#api.getAccessToken(uniqueScopes, restOptions);\n    return {\n      token,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n  }\n}\n\nexport { ScmAuth };\n//# sourceMappingURL=ScmAuth.esm.js.map\n","import { useParams } from 'react-router-dom';\n\nfunction useRouteRefParams(_routeRef) {\n  return useParams();\n}\n\nexport { useRouteRefParams };\n//# sourceMappingURL=useRouteRefParams.esm.js.map\n","import { useMemo, Children, isValidElement, Fragment } from 'react';\nimport { getComponentData } from './componentData.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport { featureFlagsApiRef } from '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\n\nfunction selectChildren(rootNode, featureFlagsApi, selector, strictError) {\n  return Children.toArray(rootNode).flatMap((node) => {\n    if (!isValidElement(node)) {\n      return [];\n    }\n    if (node.type === Fragment) {\n      return selectChildren(\n        node.props.children,\n        featureFlagsApi,\n        selector,\n        strictError\n      );\n    }\n    if (getComponentData(node, \"core.featureFlagged\")) {\n      const props = node.props;\n      const isEnabled = \"with\" in props ? featureFlagsApi.isActive(props.with) : !featureFlagsApi.isActive(props.without);\n      if (isEnabled) {\n        return selectChildren(\n          node.props.children,\n          featureFlagsApi,\n          selector,\n          strictError\n        );\n      }\n      return [];\n    }\n    if (selector === void 0 || selector(node)) {\n      return [node];\n    }\n    if (strictError) {\n      throw new Error(strictError);\n    }\n    return selectChildren(\n      node.props.children,\n      featureFlagsApi,\n      selector,\n      strictError\n    );\n  });\n}\nclass Collection {\n  constructor(node, featureFlagsApi) {\n    this.node = node;\n    this.featureFlagsApi = featureFlagsApi;\n  }\n  selectByComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0,\n      query.withStrictError\n    );\n    return new Collection(selection, this.featureFlagsApi);\n  }\n  findComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0\n    );\n    return selection.map((node) => getComponentData(node, query.key)).filter((data) => data !== void 0);\n  }\n  getElements() {\n    return selectChildren(this.node, this.featureFlagsApi);\n  }\n}\nfunction useElementFilter(node, filterFn, dependencies = []) {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const elements = new Collection(node, featureFlagsApi);\n  return useMemo(() => filterFn(elements), [node, ...dependencies]);\n}\n\nexport { useElementFilter };\n//# sourceMappingURL=useElementFilter.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createContext, useContext } from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst defaultSidebarOpenStateContext = {\n  isOpen: false,\n  setOpen: () => {\n  }\n};\nconst LegacySidebarContext = createContext(\n  defaultSidebarOpenStateContext\n);\nconst VersionedSidebarContext = createVersionedContext(\"sidebar-open-state-context\");\nfunction SidebarOpenStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ jsx(LegacySidebarContext.Provider, { value, children: /* @__PURE__ */ jsx(\n    VersionedSidebarContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  ) });\n}\nconst useSidebarOpenState = () => {\n  const versionedOpenStateContext = useContext(VersionedSidebarContext);\n  const legacyOpenStateContext = useContext(LegacySidebarContext);\n  if (versionedOpenStateContext === void 0) {\n    return legacyOpenStateContext || defaultSidebarOpenStateContext;\n  }\n  const openStateContext = versionedOpenStateContext.atVersion(1);\n  if (openStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return openStateContext;\n};\n\nexport { LegacySidebarContext, SidebarOpenStateProvider, useSidebarOpenState };\n//# sourceMappingURL=SidebarOpenStateContext.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState, useEffect } from 'react';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nfunction AlertDisplay(props) {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    anchorOrigin = { vertical: \"top\", horizontal: \"center\" },\n    transientTimeoutMs\n  } = props;\n  const timeoutMs = transientTimeoutMs ?? 5e3;\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  const [firstMessage] = messages;\n  useEffect(() => {\n    if (firstMessage && firstMessage.display === \"transient\") {\n      const timeout = setTimeout(() => {\n        setMessages((msgs) => {\n          const newMsgs = msgs.filter((msg) => msg !== firstMessage);\n          return newMsgs.length === msgs.length ? msgs : newMsgs;\n        });\n      }, timeoutMs);\n      return () => clearTimeout(timeout);\n    }\n    return void 0;\n  }, [firstMessage, timeoutMs]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ jsx(Snackbar, { open: true, anchorOrigin, children: /* @__PURE__ */ jsx(\n    Alert,\n    {\n      action: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleClose,\n          \"data-testid\": \"error-button-close\",\n          children: /* @__PURE__ */ jsx(CloseIcon, {})\n        }\n      ),\n      severity: firstMessage.severity,\n      children: /* @__PURE__ */ jsxs(Typography, { component: \"span\", children: [\n        String(firstMessage.message),\n        messages.length > 1 && /* @__PURE__ */ jsx(\"em\", { children: t(\"alertDisplay.message\", {\n          count: messages.length - 1\n        }) })\n      ] })\n    }\n  ) });\n}\n\nexport { AlertDisplay };\n//# sourceMappingURL=AlertDisplay.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass RouteRefImpl {\n  constructor(id, params) {\n    this.id = id;\n    this.params = params;\n  }\n  [routeRefType] = \"absolute\";\n  get title() {\n    return this.id;\n  }\n  toString() {\n    return `routeRef{type=absolute,id=${this.id}}`;\n  }\n}\nfunction createRouteRef(config) {\n  return new RouteRefImpl(\n    config.id,\n    config.params ?? []\n  );\n}\n\nexport { RouteRefImpl, createRouteRef };\n//# sourceMappingURL=RouteRef.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\n\nconst repoPickerValidation = (value, validation, context) => {\n  try {\n    const { host, searchParams } = new URL(`https://${value}`);\n    const integrationApi = context.apiHolder.get(scmIntegrationsApiRef);\n    if (!host) {\n      validation.addError(\n        \"Incomplete repository location provided, host not provided\"\n      );\n    } else {\n      if (integrationApi?.byHost(host)?.type === \"bitbucket\") {\n        if (host === \"bitbucket.org\" && !searchParams.get(\"workspace\")) {\n          validation.addError(\n            \"Incomplete repository location provided, workspace not provided\"\n          );\n        }\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type === \"azure\") {\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type !== \"gerrit\") {\n        if (!searchParams.get(\"owner\")) {\n          validation.addError(\n            \"Incomplete repository location provided, owner not provided\"\n          );\n        }\n      }\n      if (!searchParams.get(\"repo\")) {\n        validation.addError(\n          \"Incomplete repository location provided, repo not provided\"\n        );\n      }\n    }\n  } catch {\n    validation.addError(\"Unable to parse the Repository URL\");\n  }\n};\n\nexport { repoPickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { catalogApiRef, useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport useAsync from 'react-use/esm/useAsync';\nimport Box from '@material-ui/core/Box';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nasync function getRelationWarnings(entity, catalogApi) {\n  const entityRefRelations = entity.relations?.map(\n    (relation) => relation.targetRef\n  );\n  if (!entityRefRelations || entityRefRelations?.length < 1 || entityRefRelations.length > 1e3) {\n    return [];\n  }\n  const relatedEntities = await catalogApi.getEntitiesByRefs({\n    entityRefs: entityRefRelations,\n    fields: [\"kind\", \"metadata.name\", \"metadata.namespace\"]\n  });\n  return entityRefRelations.filter(\n    (_, index) => relatedEntities.items[index] === void 0\n  );\n}\nasync function hasRelationWarnings(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const relatedEntitiesMissing = await getRelationWarnings(entity, catalogApi);\n  return relatedEntitiesMissing.length > 0;\n}\nfunction EntityRelationWarning() {\n  const { entity } = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getRelationWarnings(entity, catalogApi);\n  }, [entity, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ jsx(Box, { mb: 1, children: /* @__PURE__ */ jsx(ResponseErrorPanel, { error }) });\n  }\n  if (loading || !value || value.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(Alert, { severity: \"warning\", style: { whiteSpace: \"pre-line\" }, children: [\n    t(\"entityRelationWarningDescription\"),\n    \" \",\n    value.join(\", \")\n  ] }) });\n}\n\nexport { EntityRelationWarning, hasRelationWarnings };\n//# sourceMappingURL=EntityRelationWarning.esm.js.map\n","import { DEFAULT_NAMESPACE } from './constants.esm.js';\n\nfunction parseRefString(ref) {\n  let colonI = ref.indexOf(\":\");\n  const slashI = ref.indexOf(\"/\");\n  if (slashI !== -1 && slashI < colonI) {\n    colonI = -1;\n  }\n  const kind = colonI === -1 ? void 0 : ref.slice(0, colonI);\n  const namespace = slashI === -1 ? void 0 : ref.slice(colonI + 1, slashI);\n  const name = ref.slice(Math.max(colonI + 1, slashI + 1));\n  if (kind === \"\" || namespace === \"\" || name === \"\") {\n    throw new TypeError(\n      `Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`\n    );\n  }\n  return { kind, namespace, name };\n}\nfunction getCompoundEntityRef(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityRef(ref, context) {\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  const defaultKind = context?.defaultKind;\n  const defaultNamespace = context?.defaultNamespace || DEFAULT_NAMESPACE;\n  let kind;\n  let namespace;\n  let name;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    kind = parsed.kind ?? defaultKind;\n    namespace = parsed.namespace ?? defaultNamespace;\n    name = parsed.name;\n  } else {\n    kind = ref.kind ?? defaultKind;\n    namespace = ref.namespace ?? defaultNamespace;\n    name = ref.name;\n  }\n  if (!kind) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty kind (e.g. did not start with \"component:\" or similar)`\n    );\n  } else if (!namespace) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty namespace`\n    );\n  } else if (!name) {\n    const textual = JSON.stringify(ref);\n    throw new Error(`Entity reference ${textual} had missing or empty name`);\n  }\n  return { kind, namespace, name };\n}\nfunction stringifyEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLocaleLowerCase(\"en-US\")}:${namespace.toLocaleLowerCase(\n    \"en-US\"\n  )}/${name.toLocaleLowerCase(\"en-US\")}`;\n}\n\nexport { getCompoundEntityRef, parseEntityRef, stringifyEntityRef };\n//# sourceMappingURL=ref.esm.js.map\n","import 'lodash';\nimport { stringifyEntityRef } from '../entity/ref.esm.js';\nimport 'ajv';\nimport '../validation/makeValidator.esm.js';\nimport { ANNOTATION_SOURCE_LOCATION, ANNOTATION_LOCATION } from './annotation.esm.js';\n\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nfunction parseLocationRef(ref) {\n  if (typeof ref !== \"string\") {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', unexpected argument ${typeof ref}`\n    );\n  }\n  const splitIndex = ref.indexOf(\":\");\n  if (splitIndex < 0) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  const type = ref.substring(0, splitIndex).trim();\n  const target = ref.substring(splitIndex + 1).trim();\n  if (!type || !target) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  if (type === \"http\" || type === \"https\") {\n    throw new TypeError(\n      `Invalid location ref '${ref}', please prefix it with 'url:', e.g. 'url:${ref}'`\n    );\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${ref}', target is a javascript: URL`\n    );\n  }\n  return { type, target };\n}\nfunction stringifyLocationRef(ref) {\n  const { type, target } = ref;\n  if (!type) {\n    throw new TypeError(`Unable to stringify location ref, empty type`);\n  } else if (!target) {\n    throw new TypeError(`Unable to stringify location ref, empty target`);\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${type}:${target}', target is a javascript: URL`\n    );\n  }\n  return `${type}:${target}`;\n}\nfunction getEntitySourceLocation(entity) {\n  const locationRef = entity.metadata?.annotations?.[ANNOTATION_SOURCE_LOCATION] ?? entity.metadata?.annotations?.[ANNOTATION_LOCATION];\n  if (!locationRef) {\n    throw new Error(\n      `Entity '${stringifyEntityRef(entity)}' is missing location`\n    );\n  }\n  return parseLocationRef(locationRef);\n}\n\nexport { getEntitySourceLocation, parseLocationRef, stringifyLocationRef };\n//# sourceMappingURL=helpers.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Helmet } from 'react-helmet';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { Breadcrumbs } from '../Breadcrumbs/Breadcrumbs.esm.js';\nimport '../Sidebar/Bar.esm.js';\nimport '../Sidebar/MobileSidebar.esm.js';\nimport '../Sidebar/SidebarGroup.esm.js';\nimport '../Sidebar/SidebarSubmenuItem.esm.js';\nimport '../Sidebar/SidebarSubmenu.esm.js';\nimport { useContent } from '../Sidebar/Page.esm.js';\nimport '../Sidebar/Items.esm.js';\nimport '../Sidebar/config.esm.js';\nimport '../Sidebar/SidebarOpenStateContext.esm.js';\nimport '../Sidebar/SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    header: {\n      gridArea: \"pageHeader\",\n      padding: theme.spacing(3),\n      width: \"100%\",\n      boxShadow: theme.shadows[4],\n      position: \"relative\",\n      zIndex: 100,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundImage: theme.page.backgroundImage,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexWrap: \"wrap\"\n      }\n    },\n    leftItemsBox: {\n      maxWidth: \"100%\",\n      flexGrow: 1\n    },\n    rightItemsBox: {\n      width: \"auto\",\n      alignItems: \"center\"\n    },\n    title: {\n      color: theme.page.fontColor,\n      wordBreak: \"break-word\",\n      fontSize: theme.typography.h3.fontSize,\n      marginBottom: 0\n    },\n    subtitle: {\n      color: theme.page.fontColor,\n      opacity: 0.8,\n      display: \"inline-block\",\n      // prevents margin collapse of adjacent siblings\n      marginTop: theme.spacing(1),\n      maxWidth: \"75ch\"\n    },\n    type: {\n      textTransform: \"uppercase\",\n      fontSize: 11,\n      opacity: 0.8,\n      marginBottom: theme.spacing(1),\n      color: theme.page.fontColor\n    },\n    breadcrumb: {\n      color: theme.page.fontColor\n    },\n    breadcrumbType: {\n      fontSize: \"inherit\",\n      opacity: 0.7,\n      marginRight: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    },\n    breadcrumbTitle: {\n      fontSize: \"inherit\",\n      marginLeft: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    }\n  }),\n  { name: \"BackstageHeader\" }\n);\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ jsx(Typography, { className: classes.type, children: type });\n  }\n  return /* @__PURE__ */ jsxs(Breadcrumbs, { className: classes.breadcrumb, children: [\n    /* @__PURE__ */ jsx(Link, { to: typeLink, children: type }),\n    /* @__PURE__ */ jsx(Typography, { children: pageTitle })\n  ] });\n};\nconst TitleFragment = ({ pageTitle, classes, tooltip }) => {\n  const { contentRef } = useContent();\n  const FinalTitle = /* @__PURE__ */ jsx(\n    Typography,\n    {\n      ref: contentRef,\n      tabIndex: -1,\n      className: classes.title,\n      variant: \"h1\",\n      children: pageTitle\n    }\n  );\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ jsx(Tooltip, { title: tooltip, placement: \"top-start\", children: FinalTitle });\n};\nconst SubtitleFragment = ({ classes, subtitle }) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ jsx(Fragment, { children: subtitle });\n  }\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      className: classes.subtitle,\n      variant: \"subtitle2\",\n      component: \"span\",\n      children: subtitle\n    }\n  );\n};\nfunction Header(props) {\n  const {\n    children,\n    pageTitleOverride,\n    style,\n    subtitle,\n    title,\n    tooltip,\n    type,\n    typeLink\n  } = props;\n  const classes = useStyles();\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | ${appTitle}`;\n  const defaultTitle = `${documentTitle} | ${appTitle}`;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Helmet, { titleTemplate, defaultTitle }),\n    /* @__PURE__ */ jsxs(\"header\", { style, className: classes.header, children: [\n      /* @__PURE__ */ jsxs(Box, { className: classes.leftItemsBox, children: [\n        /* @__PURE__ */ jsx(\n          TypeFragment,\n          {\n            classes,\n            type,\n            typeLink,\n            pageTitle\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          TitleFragment,\n          {\n            classes,\n            pageTitle,\n            tooltip\n          }\n        ),\n        /* @__PURE__ */ jsx(SubtitleFragment, { classes, subtitle })\n      ] }),\n      /* @__PURE__ */ jsx(Grid, { container: true, className: classes.rightItemsBox, spacing: 4, children })\n    ] })\n  ] });\n}\n\nexport { Header };\n//# sourceMappingURL=Header.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityNamePickerSchema } from './schema.esm.js';\n\nconst EntityNamePicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    required,\n    schema: {\n      title = t(\"fields.entityNamePicker.title\"),\n      description = t(\"fields.entityNamePicker.description\")\n    },\n    rawErrors,\n    formData,\n    uiSchema: { \"ui:autofocus\": autoFocus },\n    idSchema,\n    placeholder\n  } = props;\n  return /* @__PURE__ */ jsx(\n    TextField,\n    {\n      id: idSchema?.$id,\n      label: title,\n      placeholder,\n      helperText: description,\n      required,\n      value: formData ?? \"\",\n      onChange: ({ target: { value } }) => onChange(value),\n      margin: \"normal\",\n      error: rawErrors?.length > 0 && !formData,\n      inputProps: { autoFocus },\n      FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n    }\n  );\n};\n\nexport { EntityNamePicker };\n//# sourceMappingURL=EntityNamePicker.esm.js.map\n","function createPermission({\n  name,\n  attributes,\n  resourceType\n}) {\n  if (resourceType) {\n    return {\n      type: \"resource\",\n      name,\n      attributes,\n      resourceType\n    };\n  }\n  return {\n    type: \"basic\",\n    name,\n    attributes\n  };\n}\n\nexport { createPermission };\n//# sourceMappingURL=createPermission.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogReactTranslationRef = createTranslationRef({\n  id: \"catalog-react\",\n  messages: {\n    catalogFilter: {\n      title: \"Filters\",\n      buttonTitle: \"Filters\"\n    },\n    entityKindPicker: {\n      title: \"Kind\",\n      errorMessage: \"Failed to load entity kinds\"\n    },\n    entityLifecyclePicker: {\n      title: \"Lifecycle\"\n    },\n    entityNamespacePicker: {\n      title: \"Namespace\"\n    },\n    entityOwnerPicker: {\n      title: \"Owner\"\n    },\n    entityProcessingStatusPicker: {\n      title: \"Processing Status\"\n    },\n    entityTagPicker: {\n      title: \"Tags\"\n    },\n    entityPeekAheadPopover: {\n      title: \"Drill into the entity to see all of the tags.\",\n      emailCardAction: {\n        title: \"Email {{email}}\",\n        subTitle: \"mailto {{email}}\"\n      },\n      entityCardActionsTitle: \"Show details\"\n    },\n    entitySearchBar: {\n      placeholder: \"Search\"\n    },\n    entityTypePicker: {\n      title: \"Type\",\n      errorMessage: \"Failed to load entity types\",\n      optionAllTitle: \"all\"\n    },\n    favoriteEntity: {\n      addToFavorites: \"Add to favorites\",\n      removeFromFavorites: \"Remove from favorites\"\n    },\n    inspectEntityDialog: {\n      title: \"Entity Inspector\",\n      closeButtonTitle: \"Close\",\n      ancestryPage: {\n        title: \"Ancestry\"\n      },\n      colocatedPage: {\n        title: \"Colocated\",\n        description: \"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL).\",\n        alertNoLocation: \"Entity had no location information.\",\n        alertNoEntity: \"There were no other entities on this location.\"\n      },\n      jsonPage: {\n        title: \"Entity as JSON\",\n        description: \"This is the raw entity data as received from the catalog, on JSON form.\"\n      },\n      overviewPage: {\n        title: \"Overview\"\n      },\n      yamlPage: {\n        title: \"Entity as YAML\",\n        description: \"This is the raw entity data as received from the catalog, on YAML form.\"\n      }\n    },\n    unregisterEntityDialog: {\n      title: \"Are you sure you want to unregister this entity?\",\n      cancelButtonTitle: \"Cancel\",\n      deleteButtonTitle: \"Delete Entity\",\n      deleteEntitySuccessMessage: \"Removed entity {{entityName}}\",\n      bootstrapState: {\n        title: 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"{{location}}\"). If you believe this is in error, please contact the {{appTitle}} integrator.',\n        advancedDescription: \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\",\n        advancedOptions: \"Advanced Options\"\n      },\n      onlyDeleteStateTitle: \"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog.\",\n      unregisterState: {\n        title: \"This action will unregister the following entities:\",\n        subTitle: \"Located at the following location:\",\n        description: \"To undo, just re-register the entity in {{appTitle}}.\",\n        unregisterButtonTitle: \"Unregister Location\",\n        advancedOptions: \"Advanced Options\",\n        advancedDescription: \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"\n      },\n      errorStateTitle: \"Internal error: Unknown state\"\n    },\n    userListPicker: {\n      defaultOrgName: \"Company\",\n      personalFilter: {\n        title: \"Personal\",\n        ownedLabel: \"Owned\",\n        starredLabel: \"Starred\"\n      },\n      orgFilterAllLabel: \"All\"\n    }\n  }\n});\n\nexport { catalogReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useLayoutEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    text: {\n      fill: theme.palette.primary.contrastText\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultNode\" }\n);\nfunction DefaultNode({ node: { id } }) {\n  const classes = useStyles();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ jsxs(\"g\", { children: [\n    /* @__PURE__ */ jsx(\n      \"rect\",\n      {\n        className: classes.node,\n        width: paddedWidth,\n        height: paddedHeight,\n        rx: 10\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      \"text\",\n      {\n        ref: idRef,\n        className: classes.text,\n        y: paddedHeight / 2,\n        x: paddedWidth / 2,\n        textAnchor: \"middle\",\n        alignmentBaseline: \"middle\",\n        children: id\n      }\n    )\n  ] });\n}\n\nexport { DefaultNode };\n//# sourceMappingURL=DefaultNode.esm.js.map\n","const ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nexport { ARROW_MARKER_ID, EDGE_TEST_ID, LABEL_TEST_ID, NODE_TEST_ID };\n//# sourceMappingURL=constants.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useRef, useLayoutEffect } from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { DefaultNode } from './DefaultNode.esm.js';\nimport { NODE_TEST_ID } from './constants.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphNode\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ jsx(DefaultNode, { ...props });\nfunction Node({\n  render = renderDefault,\n  setNode,\n  node\n}) {\n  const { width, height, x = 0, y = 0 } = node;\n  const nodeProps = node;\n  const classes = useStyles();\n  const nodeRef = useRef(null);\n  useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ jsx(\n    \"g\",\n    {\n      ref: nodeRef,\n      \"data-testid\": NODE_TEST_ID,\n      className: classes.node,\n      transform: `translate(${x - width / 2},${y - height / 2})`,\n      children: render({ node: nodeProps })\n    }\n  );\n}\n\nexport { Node };\n//# sourceMappingURL=Node.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fill: theme.palette.textContrast\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultLabel\" }\n);\nfunction DefaultLabel({ edge: { label } }) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\"text\", { className: classes.text, textAnchor: \"middle\", children: label });\n}\n\nexport { DefaultLabel };\n//# sourceMappingURL=DefaultLabel.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useRef, useLayoutEffect, useMemo } from 'react';\nimport * as d3Shape from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { EDGE_TEST_ID, ARROW_MARKER_ID, LABEL_TEST_ID } from './constants.esm.js';\nimport { DefaultLabel } from './DefaultLabel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    path: {\n      strokeWidth: 1.3,\n      stroke: theme.palette.textSubtle,\n      fill: \"none\",\n      transition: `${theme.transitions.duration.shortest}ms`\n    },\n    label: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphEdge\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ jsx(DefaultLabel, { ...props });\nfunction Edge({\n  render = renderDefault,\n  setEdge,\n  id,\n  edge,\n  curve,\n  showArrowHeads\n}) {\n  const { x = 0, y = 0, width, height, points } = edge;\n  const labelProps = edge;\n  const classes = useStyles();\n  const labelRef = useRef(null);\n  useLayoutEffect(() => {\n    if (labelRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  const createPath = useMemo(\n    () => d3Shape.line().x((d) => d.x).y((d) => d.y).curve(d3Shape[curve]),\n    [curve]\n  );\n  if (points) {\n    const finitePoints = points.filter(\n      (point) => isFinite(point.x) && isFinite(point.y)\n    );\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    path && /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        \"data-testid\": EDGE_TEST_ID,\n        className: classes.path,\n        markerEnd: showArrowHeads ? `url(#${ARROW_MARKER_ID})` : void 0,\n        d: path\n      }\n    ),\n    labelProps.label ? /* @__PURE__ */ jsx(\n      \"g\",\n      {\n        ref: labelRef,\n        \"data-testid\": LABEL_TEST_ID,\n        className: classes.label,\n        transform: `translate(${x},${y})`,\n        children: render({ edge: labelProps })\n      }\n    ) : null\n  ] });\n}\n\nexport { Edge };\n//# sourceMappingURL=Edge.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useMemo, useCallback, useEffect } from 'react';\nimport * as d3Zoom from 'd3-zoom';\nimport * as d3Selection from 'd3-selection';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport dagre from '@dagrejs/dagre';\nimport debounce from 'lodash/debounce';\nimport { DependencyGraphTypes } from './types.esm.js';\nimport { Node } from './Node.esm.js';\nimport { Edge } from './Edge.esm.js';\nimport { ARROW_MARKER_ID } from './constants.esm.js';\n\nconst WORKSPACE_ID = \"workspace\";\nfunction DependencyGraph(props) {\n  const {\n    edges,\n    nodes,\n    renderNode,\n    direction = DependencyGraphTypes.Direction.TOP_BOTTOM,\n    align,\n    nodeMargin = 50,\n    edgeMargin = 10,\n    rankMargin = 50,\n    paddingX = 0,\n    paddingY = 0,\n    acyclicer,\n    ranker = DependencyGraphTypes.Ranker.NETWORK_SIMPLEX,\n    labelPosition = DependencyGraphTypes.LabelPosition.RIGHT,\n    labelOffset = 10,\n    edgeRanks = 1,\n    edgeWeight = 1,\n    renderLabel,\n    defs,\n    zoom = \"enabled\",\n    curve = \"curveMonotoneX\",\n    showArrowHeads = false,\n    fit = \"grow\",\n    ...svgProps\n  } = props;\n  const theme = useTheme();\n  const [containerWidth, setContainerWidth] = useState(100);\n  const [containerHeight, setContainerHeight] = useState(100);\n  const graph = useRef(\n    new dagre.graphlib.Graph()\n  );\n  const [graphWidth, setGraphWidth] = useState(\n    graph.current.graph()?.width || 0\n  );\n  const [graphHeight, setGraphHeight] = useState(\n    graph.current.graph()?.height || 0\n  );\n  const [graphNodes, setGraphNodes] = useState([]);\n  const [graphEdges, setGraphEdges] = useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const minHeight = Math.min(graphHeight, containerHeight);\n  const scalableHeight = fit === \"grow\" ? maxHeight : minHeight;\n  const containerRef = useMemo(\n    () => debounce((node) => {\n      if (!node) {\n        return;\n      }\n      const container = d3Selection.select(node);\n      const workspace = d3Selection.select(node.getElementById(WORKSPACE_ID));\n      function enableZoom() {\n        container.call(\n          d3Zoom.zoom().scaleExtent([1, Infinity]).on(\"zoom\", (event) => {\n            event.transform.x = Math.min(\n              0,\n              Math.max(\n                event.transform.x,\n                maxWidth - maxWidth * event.transform.k\n              )\n            );\n            event.transform.y = Math.min(\n              0,\n              Math.max(\n                event.transform.y,\n                maxHeight - maxHeight * event.transform.k\n              )\n            );\n            workspace.attr(\"transform\", event.transform);\n          })\n        );\n      }\n      if (zoom === \"enabled\") {\n        enableZoom();\n      } else if (zoom === \"enable-on-click\") {\n        container.on(\"click\", () => enableZoom());\n      }\n      const { width: newContainerWidth, height: newContainerHeight } = node.getBoundingClientRect();\n      if (containerWidth !== newContainerWidth) {\n        setContainerWidth(newContainerWidth);\n      }\n      if (containerHeight !== newContainerHeight) {\n        setContainerHeight(newContainerHeight);\n      }\n    }, 100),\n    [containerHeight, containerWidth, maxWidth, maxHeight, zoom]\n  );\n  const setNodesAndEdges = useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some(\n        (edge) => edge.from === e.v && edge.to === e.w\n      );\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode && graph.current.node(existingNode)) {\n        const { width, height, x, y } = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, { ...node, width, height, x, y });\n      } else {\n        graph.current.setNode(node.id, { ...node, width: 0, height: 0 });\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = useMemo(\n    () => debounce(\n      () => {\n        dagre.layout(graph.current);\n        const { height, width } = graph.current.graph();\n        const newHeight = Math.max(0, height || 0);\n        const newWidth = Math.max(0, width || 0);\n        setGraphWidth(newWidth);\n        setGraphHeight(newHeight);\n        setGraphNodes(graph.current.nodes());\n        setGraphEdges(graph.current.edges());\n      },\n      250,\n      { leading: true }\n    ),\n    []\n  );\n  useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  function setNode(id, node) {\n    graph.current.setNode(id, node);\n    updateGraph();\n    return graph.current;\n  }\n  function setEdge(id, edge) {\n    graph.current.setEdge(id, edge);\n    updateGraph();\n    return graph.current;\n  }\n  return /* @__PURE__ */ jsxs(\n    \"svg\",\n    {\n      ref: containerRef,\n      ...svgProps,\n      width: \"100%\",\n      height: scalableHeight,\n      viewBox: `0 0 ${maxWidth} ${maxHeight}`,\n      children: [\n        /* @__PURE__ */ jsxs(\"defs\", { children: [\n          /* @__PURE__ */ jsx(\n            \"marker\",\n            {\n              id: ARROW_MARKER_ID,\n              viewBox: \"0 0 24 24\",\n              markerWidth: \"14\",\n              markerHeight: \"14\",\n              refX: \"16\",\n              refY: \"12\",\n              orient: \"auto\",\n              markerUnits: \"strokeWidth\",\n              children: /* @__PURE__ */ jsx(\n                \"path\",\n                {\n                  fill: theme.palette.textSubtle,\n                  d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n                }\n              )\n            }\n          ),\n          defs\n        ] }),\n        /* @__PURE__ */ jsx(\"g\", { id: WORKSPACE_ID, children: /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            width: graphWidth,\n            height: graphHeight,\n            y: maxHeight / 2 - graphHeight / 2,\n            x: maxWidth / 2 - graphWidth / 2,\n            viewBox: `0 0 ${graphWidth} ${graphHeight}`,\n            children: [\n              graphEdges.map((e) => {\n                const edge = graph.current.edge(e);\n                if (!edge) return null;\n                return /* @__PURE__ */ jsx(\n                  Edge,\n                  {\n                    id: e,\n                    setEdge,\n                    render: renderLabel,\n                    edge,\n                    curve,\n                    showArrowHeads\n                  },\n                  `${e.v}-${e.w}`\n                );\n              }),\n              graphNodes.map((id) => {\n                const node = graph.current.node(id);\n                if (!node) return null;\n                return /* @__PURE__ */ jsx(\n                  Node,\n                  {\n                    setNode,\n                    render: renderNode,\n                    node\n                  },\n                  id\n                );\n              })\n            ]\n          }\n        ) })\n      ]\n    }\n  );\n}\n\nexport { DependencyGraph };\n//# sourceMappingURL=DependencyGraph.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageClosedDropdown\" }\n);\nconst ClosedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /* @__PURE__ */ jsx(\n        \"path\",\n        {\n          d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n};\n\nexport { ClosedDropdown as default };\n//# sourceMappingURL=ClosedDropdown.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageOpenedDropdown\" }\n);\nconst OpenedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /* @__PURE__ */ jsx(\n        \"path\",\n        {\n          d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n};\n\nexport { OpenedDropdown as default };\n//# sourceMappingURL=OpenedDropdown.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { useState, useEffect } from 'react';\nimport ClosedDropdown from './static/ClosedDropdown.esm.js';\nimport OpenedDropdown from './static/OpenedDropdown.esm.js';\n\nconst BootstrapInput = withStyles(\n  (theme) => createStyles({\n    root: {\n      \"label + &\": {\n        marginTop: theme.spacing(3)\n      },\n      \"&.Mui-focused > div[role=button]\": {\n        borderColor: theme.palette.primary.main\n      }\n    },\n    input: {\n      borderRadius: theme.shape.borderRadius,\n      position: \"relative\",\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid #ced4da\",\n      fontSize: theme.typography.body1.fontSize,\n      padding: theme.spacing(1.25, 3.25, 1.25, 1.5),\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n      \"&:focus\": {\n        background: theme.palette.background.paper,\n        borderRadius: theme.shape.borderRadius\n      }\n    }\n  }),\n  { name: \"BackstageSelectInputBase\" }\n)(InputBase);\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    formControl: {\n      margin: theme.spacing(1, 0)\n    },\n    label: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    formLabel: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    chips: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    chip: {\n      margin: 2\n    },\n    checkbox: {},\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    }\n  }),\n  { name: \"BackstageSelect\" }\n);\nfunction SelectComponent(props) {\n  const {\n    multiple,\n    items,\n    label,\n    placeholder,\n    selected,\n    onChange,\n    triggerReset,\n    native = false,\n    disabled = false,\n    margin,\n    \"data-testid\": dataTestId = \"select\"\n  } = props;\n  const classes = useStyles();\n  const [value, setValue] = useState(\n    selected || (multiple ? [] : \"\")\n  );\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    setValue(selected || (multiple ? [] : \"\"));\n  }, [selected, multiple]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleOpen = (event) => {\n    if (disabled) {\n      event.preventDefault();\n      return;\n    }\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ jsx(Box, { className: classes.root, children: /* @__PURE__ */ jsxs(FormControl, { className: classes.formControl, children: [\n    /* @__PURE__ */ jsx(InputLabel, { className: classes.formLabel, children: label }),\n    /* @__PURE__ */ jsxs(\n      Select,\n      {\n        \"aria-label\": label,\n        value,\n        native,\n        disabled,\n        \"data-testid\": dataTestId,\n        displayEmpty: true,\n        multiple,\n        margin,\n        onChange: handleChange,\n        open: isOpen,\n        onOpen: handleOpen,\n        onClose: handleClose,\n        input: /* @__PURE__ */ jsx(BootstrapInput, {}),\n        label,\n        renderValue: (s) => multiple && value.length !== 0 ? /* @__PURE__ */ jsx(Box, { className: classes.chips, children: s.map((selectedValue) => {\n          const item = items.find((el) => el.value === selectedValue);\n          return item ? /* @__PURE__ */ jsx(\n            Chip,\n            {\n              \"data-testid\": \"chip\",\n              label: item?.label,\n              clickable: true,\n              deleteIcon: /* @__PURE__ */ jsx(\n                CancelIcon,\n                {\n                  \"data-testid\": \"cancel-icon\",\n                  onMouseDown: (event) => event.stopPropagation()\n                }\n              ),\n              onDelete: handleDelete(selectedValue),\n              className: classes.chip\n            },\n            item?.value\n          ) : false;\n        }) }) : /* @__PURE__ */ jsx(Typography, { children: value.length === 0 ? placeholder || \"\" : items.find((el) => el.value === s)?.label }),\n        IconComponent: () => !isOpen ? /* @__PURE__ */ jsx(ClosedDropdown, {}) : /* @__PURE__ */ jsx(OpenedDropdown, {}),\n        MenuProps: {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"left\"\n          },\n          getContentAnchorEl: null\n        },\n        children: [\n          !!placeholder && !multiple && /* @__PURE__ */ jsx(MenuItem, { value: [], children: placeholder }),\n          native ? items && items.map((item) => /* @__PURE__ */ jsx(\"option\", { value: item.value, children: item.label }, item.value)) : items && items.map((item) => /* @__PURE__ */ jsxs(MenuItem, { value: item.value, children: [\n            multiple && /* @__PURE__ */ jsx(\n              Checkbox,\n              {\n                color: \"primary\",\n                checked: value.includes(item.value) || false,\n                className: classes.checkbox\n              }\n            ),\n            item.label\n          ] }, item.value))\n        ]\n      }\n    )\n  ] }) });\n}\n\nexport { SelectComponent };\n//# sourceMappingURL=Select.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"grid\",\n      gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n      gridTemplateRows: \"max-content auto 1fr\",\n      gridTemplateColumns: \"auto 1fr auto\",\n      overflowY: \"auto\",\n      height: \"100vh\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"100%\"\n      },\n      \"@media print\": {\n        display: \"block\",\n        height: \"auto\",\n        overflowY: \"inherit\"\n      }\n    }\n  }),\n  { name: \"BackstagePage\" }\n);\nfunction Page(props) {\n  const { themeId, className, children } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ThemeProvider,\n    {\n      theme: (baseTheme) => ({\n        ...baseTheme,\n        page: baseTheme.getPageTheme({ themeId })\n      }),\n      children: /* @__PURE__ */ jsx(\"main\", { className: classNames(classes.root, className), children })\n    }\n  );\n}\n\nexport { Page };\n//# sourceMappingURL=Page.esm.js.map\n","import { isEqual, isMatch } from 'lodash';\nimport qs from 'qs';\n\nfunction isLocationMatch(currentLocation, toLocation, exact = false) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n  const queryStringMatcher = exact ? isEqual : isMatch;\n  const matching = isEqual(toLocation.pathname, currentLocation.pathname) && queryStringMatcher(currentQueryParameters, toQueryParameters);\n  return matching;\n}\n\nexport { isLocationMatch };\n//# sourceMappingURL=utils.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst storageApiRef = createApiRef({\n  id: \"core.storage\"\n});\n\nexport { storageApiRef };\n//# sourceMappingURL=StorageApi.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState, useEffect, Fragment, cloneElement } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useSearch, searchApiRef } from '@backstage/plugin-search-react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport AllIcon from '@material-ui/icons/FontDownload';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: theme.palette.text.primary\n  },\n  list: {\n    width: \"100%\"\n  },\n  listItemIcon: {\n    width: \"24px\",\n    height: \"24px\"\n  },\n  accordion: {\n    backgroundColor: theme.palette.background.paper\n  },\n  accordionSummary: {\n    minHeight: \"auto\",\n    \"&.Mui-expanded\": {\n      minHeight: \"auto\"\n    }\n  },\n  accordionSummaryContent: {\n    margin: theme.spacing(2, 0),\n    \"&.Mui-expanded\": {\n      margin: theme.spacing(2, 0)\n    }\n  },\n  accordionDetails: {\n    padding: theme.spacing(0, 0, 1)\n  }\n}));\nconst SearchTypeAccordion = (props) => {\n  const classes = useStyles();\n  const { filters, setPageCursor, setTypes, term, types } = useSearch();\n  const searchApi = useApi(searchApiRef);\n  const [expanded, setExpanded] = useState(true);\n  const { defaultValue, name, showCounts, types: givenTypes } = props;\n  const toggleExpanded = () => setExpanded((prevState) => !prevState);\n  const handleClick = (type) => {\n    return () => {\n      setTypes(type !== \"\" ? [type] : []);\n      setPageCursor(void 0);\n    };\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: \"All\",\n      icon: /* @__PURE__ */ jsx(AllIcon, {})\n    },\n    ...givenTypes\n  ];\n  const selected = types[0] || \"\";\n  const { value: resultCounts } = useAsync(async () => {\n    if (!showCounts) {\n      return {};\n    }\n    const counts = await Promise.all(\n      definedTypes.map((t) => t.value).map(async (type) => {\n        const { numberOfResults } = await searchApi.query({\n          term,\n          types: type ? [type] : [],\n          filters: types.includes(type) || !types.length && !type ? filters : {},\n          pageLimit: 0\n        });\n        return [\n          type,\n          numberOfResults !== void 0 ? `${numberOfResults >= 1e4 ? `>10000` : numberOfResults} results` : \" -- \"\n        ];\n      })\n    );\n    return Object.fromEntries(counts);\n  }, [filters, showCounts, term, types]);\n  return /* @__PURE__ */ jsxs(Box, { children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"h2\", children: name }),\n    /* @__PURE__ */ jsxs(\n      Accordion,\n      {\n        className: classes.accordion,\n        expanded,\n        onChange: toggleExpanded,\n        children: [\n          /* @__PURE__ */ jsx(\n            AccordionSummary,\n            {\n              classes: {\n                root: classes.accordionSummary,\n                content: classes.accordionSummaryContent\n              },\n              expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, { className: classes.icon }),\n              IconButtonProps: { size: \"small\" },\n              children: expanded ? \"Collapse\" : definedTypes.filter((t) => t.value === selected)[0].name\n            }\n          ),\n          /* @__PURE__ */ jsx(AccordionDetails, { classes: { root: classes.accordionDetails }, children: /* @__PURE__ */ jsx(\n            List,\n            {\n              className: classes.list,\n              component: \"nav\",\n              \"aria-label\": \"filter by type\",\n              disablePadding: true,\n              dense: true,\n              children: definedTypes.map((type) => /* @__PURE__ */ jsxs(Fragment, { children: [\n                /* @__PURE__ */ jsx(Divider, {}),\n                /* @__PURE__ */ jsxs(\n                  ListItem,\n                  {\n                    selected: types[0] === type.value || types.length === 0 && type.value === \"\",\n                    onClick: handleClick(type.value),\n                    button: true,\n                    children: [\n                      /* @__PURE__ */ jsx(ListItemIcon, { children: cloneElement(type.icon, {\n                        className: classes.listItemIcon\n                      }) }),\n                      /* @__PURE__ */ jsx(\n                        ListItemText,\n                        {\n                          primary: type.name,\n                          secondary: resultCounts && resultCounts[type.value]\n                        }\n                      )\n                    ]\n                  }\n                )\n              ] }, type.value))\n            }\n          ) })\n        ]\n      }\n    )\n  ] });\n};\n\nexport { SearchTypeAccordion };\n//# sourceMappingURL=SearchType.Accordion.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useSearch } from '@backstage/plugin-search-react';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.textVerySubtle}`\n  },\n  tab: {\n    height: \"50px\",\n    fontWeight: theme.typography.fontWeightBold,\n    fontSize: theme.typography.pxToRem(13),\n    color: theme.palette.text.primary,\n    minWidth: \"130px\"\n  }\n}));\nconst SearchTypeTabs = (props) => {\n  const classes = useStyles();\n  const { setPageCursor, setTypes, types } = useSearch();\n  const { defaultValue, types: givenTypes } = props;\n  const changeTab = (_, newType) => {\n    setTypes(newType !== \"\" ? [newType] : []);\n    setPageCursor(void 0);\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: \"All\"\n    },\n    ...givenTypes\n  ];\n  return /* @__PURE__ */ jsx(\n    Tabs,\n    {\n      \"aria-label\": \"List of search types tabs\",\n      className: classes.tabs,\n      indicatorColor: \"primary\",\n      value: types.length === 0 ? \"\" : types[0],\n      onChange: changeTab,\n      children: definedTypes.map((type, idx) => /* @__PURE__ */ jsx(\n        Tab,\n        {\n          className: classes.tab,\n          label: type.name,\n          value: type.value\n        },\n        idx\n      ))\n    }\n  );\n};\n\nexport { SearchTypeTabs };\n//# sourceMappingURL=SearchType.Tabs.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { SearchTypeAccordion } from './SearchType.Accordion.esm.js';\nimport { SearchTypeTabs } from './SearchType.Tabs.esm.js';\nimport { useSearch } from '@backstage/plugin-search-react';\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    marginTop: theme.spacing(1)\n  },\n  chip: {\n    margin: 2\n  }\n}));\nconst SearchType = (props) => {\n  const { className, defaultValue, name, values = [] } = props;\n  const classes = useStyles();\n  const { types, setTypes } = useSearch();\n  useEffectOnce(() => {\n    if (!types.length) {\n      if (defaultValue && Array.isArray(defaultValue)) {\n        setTypes(defaultValue);\n      } else if (defaultValue) {\n        setTypes([defaultValue]);\n      }\n    }\n  });\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setTypes(value);\n  };\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-typefilter-next\",\n      children: [\n        /* @__PURE__ */ jsx(InputLabel, { className: classes.label, margin: \"dense\", children: name }),\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            multiple: true,\n            variant: \"outlined\",\n            value: types,\n            onChange: handleChange,\n            placeholder: \"All Results\",\n            renderValue: (selected) => /* @__PURE__ */ jsx(\"div\", { className: classes.chips, children: selected.map((value) => /* @__PURE__ */ jsx(\n              Chip,\n              {\n                label: value,\n                className: classes.chip,\n                size: \"small\"\n              },\n              value\n            )) }),\n            children: values.map((value) => /* @__PURE__ */ jsxs(MenuItem, { value, children: [\n              /* @__PURE__ */ jsx(Checkbox, { checked: types.indexOf(value) > -1 }),\n              /* @__PURE__ */ jsx(ListItemText, { primary: value })\n            ] }, value))\n          }\n        )\n      ]\n    }\n  );\n};\nSearchType.Accordion = (props) => {\n  return /* @__PURE__ */ jsx(SearchTypeAccordion, { ...props });\n};\nSearchType.Tabs = (props) => {\n  return /* @__PURE__ */ jsx(SearchTypeTabs, { ...props });\n};\n\nexport { SearchType };\n//# sourceMappingURL=SearchType.esm.js.map\n","function strCmp(a, b) {\n  return Boolean(\n    a && typeof a === \"string\" && a?.toLocaleLowerCase(\"en-US\") === b?.toLocaleLowerCase(\"en-US\")\n  );\n}\nfunction strCmpAll(value, cmpValues) {\n  return typeof cmpValues === \"string\" ? strCmp(value, cmpValues) : cmpValues.length === 0 || cmpValues.some((cmpVal) => strCmp(value, cmpVal));\n}\nfunction isKind(kinds) {\n  return isEntityWith({ kind: kinds });\n}\nfunction isComponentType(types) {\n  return isEntityWith({ kind: \"component\", type: types });\n}\nfunction isResourceType(types) {\n  return isEntityWith({ kind: \"resource\", type: types });\n}\nfunction isApiType(types) {\n  return isEntityWith({ kind: \"api\", type: types });\n}\nfunction isEntityWith(predicate) {\n  return (entity) => {\n    if (predicate.kind && !strCmpAll(entity.kind, predicate.kind)) {\n      return false;\n    }\n    if (predicate.type && !strCmpAll(entity.spec?.type, predicate.type)) {\n      return false;\n    }\n    return true;\n  };\n}\nfunction isNamespace(namespaces) {\n  return (entity) => strCmpAll(entity.metadata?.namespace, namespaces);\n}\n\nexport { isApiType, isComponentType, isEntityWith, isKind, isNamespace, isResourceType };\n//# sourceMappingURL=conditions.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalStore = getOrCreateGlobalSingleton(\n  \"component-data-store\",\n  () => /* @__PURE__ */ new WeakMap()\n);\nconst componentDataKey = \"__backstage_data\";\nfunction attachComponentData(component, type, data) {\n  const dataComponent = component;\n  let container = dataComponent[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    container = { map: /* @__PURE__ */ new Map() };\n    Object.defineProperty(dataComponent, componentDataKey, {\n      enumerable: false,\n      configurable: true,\n      writable: false,\n      value: container\n    });\n    globalStore.set(component, container);\n  }\n  if (container.map.has(type)) {\n    const name = component.displayName || component.name;\n    throw new Error(\n      `Attempted to attach duplicate data \"${type}\" to component \"${name}\"`\n    );\n  }\n  container.map.set(type, data);\n}\nfunction getComponentData(node, type) {\n  if (!node) {\n    return void 0;\n  }\n  const component = node.type;\n  if (!component) {\n    return void 0;\n  }\n  const container = component[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    return void 0;\n  }\n  return container.map.get(type);\n}\n\nexport { attachComponentData, getComponentData };\n//# sourceMappingURL=componentData.esm.js.map\n","import { useState, useEffect, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useTechDocsReaderPage } from './context.esm.js';\n\nconst useShadowRoot = () => {\n  const { shadowRoot } = useTechDocsReaderPage();\n  return shadowRoot;\n};\nconst useShadowRootElements = (selectors) => {\n  const shadowRoot = useShadowRoot();\n  const [root, setRootNode] = useState(shadowRoot?.firstChild);\n  useEffect(() => {\n    let observer;\n    if (shadowRoot) {\n      observer = new MutationObserver(() => {\n        setRootNode(shadowRoot?.firstChild);\n      });\n      observer.observe(shadowRoot, {\n        attributes: true,\n        characterData: true,\n        childList: true,\n        subtree: true\n      });\n    }\n    return () => observer?.disconnect();\n  }, [shadowRoot]);\n  if (!root || !(root instanceof HTMLElement)) return [];\n  return selectors.map((selector) => root.querySelectorAll(selector)).filter((nodeList) => nodeList.length).map((nodeList) => Array.from(nodeList)).flat();\n};\nconst isValidSelection = (newSelection) => {\n  return newSelection.toString() && newSelection.rangeCount && newSelection.getRangeAt(0).getBoundingClientRect().top;\n};\nconst useShadowRootSelection = (waitMillis = 0) => {\n  const shadowRoot = useShadowRoot();\n  const [selection, setSelection] = useState(null);\n  const handleSelectionChange = useMemo(\n    () => debounce(() => {\n      const shadowDocument = shadowRoot;\n      const newSelection = shadowDocument.getSelection ? shadowDocument.getSelection() : document.getSelection();\n      if (newSelection && isValidSelection(newSelection)) {\n        setSelection(newSelection);\n      } else {\n        setSelection(null);\n      }\n    }, waitMillis),\n    [shadowRoot, setSelection, waitMillis]\n  );\n  useEffect(() => {\n    window.document.addEventListener(\"selectionchange\", handleSelectionChange);\n    return () => {\n      handleSelectionChange.cancel();\n      window.document.removeEventListener(\n        \"selectionchange\",\n        handleSelectionChange\n      );\n    };\n  }, [handleSelectionChange]);\n  return selection;\n};\n\nexport { useShadowRoot, useShadowRootElements, useShadowRootSelection };\n//# sourceMappingURL=hooks.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nconst GITLAB_HOST = \"gitlab.com\";\nconst GITLAB_API_BASE_URL = \"https://gitlab.com/api/v4\";\nfunction readGitLabIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITLAB_HOST) {\n    apiBaseUrl = GITLAB_API_BASE_URL;\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${host}' is not a valid host`\n    );\n  } else if (!apiBaseUrl || !isValidUrl(apiBaseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${apiBaseUrl}' is not a valid apiBaseUrl`\n    );\n  } else if (!isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  return {\n    host,\n    token,\n    apiBaseUrl,\n    baseUrl,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readGitLabIntegrationConfigs(configs) {\n  const result = configs.map(readGitLabIntegrationConfig);\n  if (!result.some((c) => c.host === GITLAB_HOST)) {\n    result.push({\n      host: GITLAB_HOST,\n      apiBaseUrl: GITLAB_API_BASE_URL,\n      baseUrl: `https://${GITLAB_HOST}`\n    });\n  }\n  return result;\n}\nfunction getGitLabIntegrationRelativePath(config) {\n  let relativePath = \"\";\n  if (config.host !== GITLAB_HOST) {\n    relativePath = new URL(config.baseUrl).pathname;\n  }\n  return trimEnd(relativePath, \"/\");\n}\n\nexport { getGitLabIntegrationRelativePath, readGitLabIntegrationConfig, readGitLabIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGitLabIntegrationConfigs } from './config.esm.js';\n\nclass GitLabIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGitLabIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gitlab\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GitLabIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceGitLabUrlType(url, \"edit\");\n  }\n}\nfunction replaceGitLabUrlType(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nexport { GitLabIntegration, replaceGitLabUrlType };\n//# sourceMappingURL=GitLabIntegration.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nvar FeatureFlagState = /* @__PURE__ */ ((FeatureFlagState2) => {\n  FeatureFlagState2[FeatureFlagState2[\"None\"] = 0] = \"None\";\n  FeatureFlagState2[FeatureFlagState2[\"Active\"] = 1] = \"Active\";\n  return FeatureFlagState2;\n})(FeatureFlagState || {});\nconst featureFlagsApiRef = createApiRef({\n  id: \"core.featureflags\"\n});\n\nexport { FeatureFlagState, featureFlagsApiRef };\n//# sourceMappingURL=FeatureFlagsApi.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport qs from 'qs';\n\nclass SearchClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async query(query) {\n    const queryString = qs.stringify(query);\n    const url = `${await this.discoveryApi.getBaseUrl(\n      \"search\"\n    )}/query?${queryString}`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n}\n\nexport { SearchClient };\n//# sourceMappingURL=apis.esm.js.map\n","import { SearchClient } from './apis.esm.js';\nimport { searchApiRef } from '@backstage/plugin-search-react';\nimport { createRouteRef, createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"search\"\n});\nconst searchPlugin = createPlugin({\n  id: \"search\",\n  apis: [\n    createApiFactory({\n      api: searchApiRef,\n      deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },\n      factory: ({ discoveryApi, fetchApi }) => {\n        return new SearchClient({ discoveryApi, fetchApi });\n      }\n    })\n  ],\n  routes: {\n    root: rootRouteRef\n  }\n});\nconst SearchPage = searchPlugin.provide(\n  createRoutableExtension({\n    name: \"SearchPage\",\n    component: () => import('./components/SearchPage/index.esm.js').then((m) => m.SearchPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst SidebarSearchModal = searchPlugin.provide(\n  createComponentExtension({\n    name: \"SidebarSearchModal\",\n    component: {\n      lazy: () => import('./components/SidebarSearchModal/index.esm.js').then(\n        (m) => m.SidebarSearchModal\n      )\n    }\n  })\n);\nconst HomePageSearchBar = searchPlugin.provide(\n  createComponentExtension({\n    name: \"HomePageSearchBar\",\n    component: {\n      lazy: () => import('./components/HomePageComponent/index.esm.js').then((m) => m.HomePageSearchBar)\n    }\n  })\n);\n\nexport { HomePageSearchBar, SearchPage, SidebarSearchModal, rootRouteRef, searchPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Button$1 from '@material-ui/core/Button';\nimport { forwardRef } from 'react';\nimport { Link } from '../Link/Link.esm.js';\n\nconst LinkWrapper = forwardRef((props, ref) => /* @__PURE__ */ jsx(Link, { ref, ...props, color: \"initial\" }));\nconst LinkButton = forwardRef((props, ref) => /* @__PURE__ */ jsx(Button$1, { ref, component: LinkWrapper, ...props }));\nconst Button = LinkButton;\n\nexport { Button, LinkButton };\n//# sourceMappingURL=LinkButton.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUserProfile } from '../useUserProfileInfo.esm.js';\nimport { sidebarConfig } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    fontSize: ({ size }) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`\n  }\n}));\nconst UserSettingsSignInAvatar = (props) => {\n  const { size } = props;\n  const { iconSize } = sidebarConfig;\n  const classes = useStyles(size ? { size } : { size: iconSize });\n  const { profile } = useUserProfile();\n  return /* @__PURE__ */ jsx(\n    Avatar,\n    {\n      src: profile.picture,\n      className: classes.avatar,\n      alt: \"Profile picture\"\n    }\n  );\n};\n\nexport { UserSettingsSignInAvatar };\n//# sourceMappingURL=UserSettingsSignInAvatar.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst translationApiRef = createApiRef({\n  id: \"core.translation\"\n});\n\nexport { translationApiRef };\n//# sourceMappingURL=TranslationApi.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { isEqual } from 'lodash';\nimport { useContext, useState, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport usePrevious from 'react-use/esm/usePrevious';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../api.esm.js';\n\nconst SearchContext = createVersionedContext(\"search-context\");\nconst useSearch = () => {\n  const context = useContext(SearchContext);\n  if (!context) {\n    throw new Error(\"useSearch must be used within a SearchContextProvider\");\n  }\n  const value = context.atVersion(1);\n  if (!value) {\n    throw new Error(\"No SearchContext v1 found\");\n  }\n  return value;\n};\nconst useSearchContextCheck = () => {\n  const context = useContext(SearchContext);\n  return context !== void 0;\n};\nconst defaultInitialSearchState = {\n  term: \"\",\n  types: [],\n  filters: {},\n  pageLimit: void 0,\n  pageCursor: void 0\n};\nconst useSearchContextValue = (initialValue = defaultInitialSearchState) => {\n  const searchApi = useApi(searchApiRef);\n  const analytics = useAnalytics();\n  const [term, setTerm] = useState(initialValue.term);\n  const [types, setTypes] = useState(initialValue.types);\n  const [filters, setFilters] = useState(initialValue.filters);\n  const [pageLimit, setPageLimit] = useState(\n    initialValue.pageLimit\n  );\n  const [pageCursor, setPageCursor] = useState(\n    initialValue.pageCursor\n  );\n  const prevTerm = usePrevious(term);\n  const prevFilters = usePrevious(filters);\n  const result = useAsync(async () => {\n    const resultSet = await searchApi.query({\n      term,\n      types,\n      filters,\n      pageLimit,\n      pageCursor\n    });\n    if (term) {\n      analytics.captureEvent(\"search\", term, {\n        value: resultSet.numberOfResults\n      });\n    }\n    return resultSet;\n  }, [term, types, filters, pageLimit, pageCursor]);\n  const hasNextPage = !result.loading && !result.error && result.value?.nextPageCursor;\n  const hasPreviousPage = !result.loading && !result.error && result.value?.previousPageCursor;\n  const fetchNextPage = useCallback(() => {\n    setPageCursor(result.value?.nextPageCursor);\n  }, [result.value?.nextPageCursor]);\n  const fetchPreviousPage = useCallback(() => {\n    setPageCursor(result.value?.previousPageCursor);\n  }, [result.value?.previousPageCursor]);\n  useEffect(() => {\n    if (prevTerm !== void 0 && term !== prevTerm) {\n      setPageCursor(void 0);\n    }\n  }, [term, prevTerm, setPageCursor]);\n  useEffect(() => {\n    if (prevFilters !== void 0 && !isEqual(filters, prevFilters)) {\n      setPageCursor(void 0);\n    }\n  }, [filters, prevFilters, setPageCursor]);\n  const value = {\n    result,\n    term,\n    setTerm,\n    types,\n    setTypes,\n    filters,\n    setFilters,\n    pageLimit,\n    setPageLimit,\n    pageCursor,\n    setPageCursor,\n    fetchNextPage: hasNextPage ? fetchNextPage : void 0,\n    fetchPreviousPage: hasPreviousPage ? fetchPreviousPage : void 0\n  };\n  return value;\n};\nconst LocalSearchContext = (props) => {\n  const { initialState, children } = props;\n  const value = useSearchContextValue(initialState);\n  return /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: { searchTypes: value.types.sort().join(\",\") },\n      children: /* @__PURE__ */ jsx(SearchContext.Provider, { value: createVersionedValueMap({ 1: value }), children })\n    }\n  );\n};\nconst SearchContextProvider = (props) => {\n  const { initialState, inheritParentContextIfAvailable, children } = props;\n  const hasParentContext = useSearchContextCheck();\n  const configApi = useApi(configApiRef);\n  const propsInitialSearchState = initialState ?? {};\n  const configInitialSearchState = configApi.has(\"search.query.pageLimit\") ? { pageLimit: configApi.getNumber(\"search.query.pageLimit\") } : {};\n  const searchContextInitialState = {\n    ...defaultInitialSearchState,\n    ...propsInitialSearchState,\n    ...configInitialSearchState\n  };\n  return hasParentContext && inheritParentContextIfAvailable ? /* @__PURE__ */ jsx(Fragment, { children }) : /* @__PURE__ */ jsx(LocalSearchContext, { initialState: searchContextInitialState, children });\n};\n\nexport { SearchContextProvider, useSearch, useSearchContextCheck };\n//# sourceMappingURL=SearchContext.esm.js.map\n","import zodToJsonSchema from 'zod-to-json-schema';\nimport { z } from 'zod';\n\nfunction makeFieldSchema(options) {\n  const { output, uiOptions } = options;\n  return {\n    TProps: void 0,\n    TOutput: void 0,\n    schema: {\n      returnValue: zodToJsonSchema(output(z)),\n      uiOptions: uiOptions && zodToJsonSchema(uiOptions(z))\n    },\n    // These will be removed - just here for backwards compat whilst we're moving across\n    type: void 0,\n    uiOptionsType: void 0\n  };\n}\n\nexport { makeFieldSchema };\n//# sourceMappingURL=utils.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst RepoUrlPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    allowedHosts: z.array(z.string()).optional().describe(\"List of allowed SCM platform hosts\"),\n    allowedOrganizations: z.array(z.string()).optional().describe(\"List of allowed organizations in the given SCM platform\"),\n    allowedOwners: z.array(z.string()).optional().describe(\"List of allowed owners in the given SCM platform\"),\n    allowedProjects: z.array(z.string()).optional().describe(\"List of allowed projects in the given SCM platform\"),\n    allowedRepos: z.array(z.string()).optional().describe(\"List of allowed repos in the given SCM platform\"),\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n});\nconst RepoUrlPickerSchema = RepoUrlPickerFieldSchema.schema;\n\nexport { RepoUrlPickerFieldSchema, RepoUrlPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { createExternalRouteRef, createRouteRef } from '@backstage/core-plugin-api';\n\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true,\n  defaultTarget: \"scaffolder.createComponent\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst createFromTemplateRouteRef = createExternalRouteRef({\n  id: \"create-from-template\",\n  optional: true,\n  params: [\"namespace\", \"templateName\"],\n  defaultTarget: \"scaffolder.selectedTemplate\"\n});\nconst unregisterRedirectRouteRef = createExternalRouteRef({\n  id: \"catalog:unregister-redirect\",\n  optional: true\n});\nconst rootRouteRef = createRouteRef({\n  id: \"catalog\"\n});\n\nexport { createComponentRouteRef, createFromTemplateRouteRef, rootRouteRef, unregisterRedirectRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nconst PARAM_PATTERN = /^\\w+$/;\nclass SubRouteRefImpl {\n  constructor(id, path, parent, params) {\n    this.id = id;\n    this.path = path;\n    this.parent = parent;\n    this.params = params;\n  }\n  [routeRefType] = \"sub\";\n  toString() {\n    return `routeRef{type=sub,id=${this.id}}`;\n  }\n}\nfunction createSubRouteRef(config) {\n  const { id, path, parent } = config;\n  const pathParams = path.split(\"/\").filter((p) => p.startsWith(\":\")).map((p) => p.substring(1));\n  const params = [...parent.params, ...pathParams];\n  if (parent.params.some((p) => pathParams.includes(p))) {\n    throw new Error(\n      \"SubRouteRef may not have params that overlap with its parent\"\n    );\n  }\n  if (!path.startsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must start with '/', got '${path}'`);\n  }\n  if (path.endsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must not end with '/', got '${path}'`);\n  }\n  for (const param of pathParams) {\n    if (!PARAM_PATTERN.test(param)) {\n      throw new Error(`SubRouteRef path has invalid param, got '${param}'`);\n    }\n  }\n  const subRouteRef = new SubRouteRefImpl(\n    id,\n    path,\n    parent,\n    params\n  );\n  return subRouteRef;\n}\n\nexport { SubRouteRefImpl, createSubRouteRef };\n//# sourceMappingURL=SubRouteRef.esm.js.map\n","import { createContext } from 'react';\n\nconst MobileSidebarContext = createContext({\n  selectedMenuItemIndex: -1,\n  setSelectedMenuItemIndex: () => {\n  }\n});\n\nexport { MobileSidebarContext };\n//# sourceMappingURL=MobileSidebarContext.esm.js.map\n","import { stringifyError } from '../serialization/error.esm.js';\nimport { isError } from './assertion.esm.js';\n\nclass CustomErrorBase extends Error {\n  /**\n   * An inner error that caused this error to be thrown, if any.\n   */\n  cause;\n  constructor(message, cause) {\n    let fullMessage = message;\n    if (cause !== void 0) {\n      const causeStr = stringifyError(cause);\n      if (fullMessage) {\n        fullMessage += `; caused by ${causeStr}`;\n      } else {\n        fullMessage = `caused by ${causeStr}`;\n      }\n    }\n    super(fullMessage);\n    Error.captureStackTrace?.(this, this.constructor);\n    if (!this.name || this.name === \"Error\") {\n      const baseName = this.constructor.name;\n      if (baseName !== \"Error\") {\n        this.name = this.constructor.name;\n      }\n    }\n    this.cause = isError(cause) ? cause : void 0;\n  }\n}\n\nexport { CustomErrorBase };\n//# sourceMappingURL=CustomErrorBase.esm.js.map\n","import { isError } from './assertion.esm.js';\nimport { CustomErrorBase } from './CustomErrorBase.esm.js';\n\nclass InputError extends CustomErrorBase {\n  name = \"InputError\";\n}\nclass AuthenticationError extends CustomErrorBase {\n  name = \"AuthenticationError\";\n}\nclass NotAllowedError extends CustomErrorBase {\n  name = \"NotAllowedError\";\n}\nclass NotFoundError extends CustomErrorBase {\n  name = \"NotFoundError\";\n}\nclass ConflictError extends CustomErrorBase {\n  name = \"ConflictError\";\n}\nclass NotModifiedError extends CustomErrorBase {\n  name = \"NotModifiedError\";\n}\nclass NotImplementedError extends CustomErrorBase {\n  name = \"NotImplementedError\";\n}\nclass ServiceUnavailableError extends CustomErrorBase {\n}\nclass ForwardedError extends CustomErrorBase {\n  constructor(message, cause) {\n    super(message, cause);\n    this.name = isError(cause) ? cause.name : \"Error\";\n  }\n}\n\nexport { AuthenticationError, ConflictError, ForwardedError, InputError, NotAllowedError, NotFoundError, NotImplementedError, NotModifiedError, ServiceUnavailableError };\n//# sourceMappingURL=common.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst coreComponentsTranslationRef = createTranslationRef({\n  id: \"core-components\",\n  messages: {\n    signIn: {\n      title: \"Sign In\",\n      loginFailed: \"Login failed\",\n      customProvider: {\n        title: \"Custom User\",\n        subtitle: \"Enter your own User ID and credentials.\\n This selection will not be stored.\",\n        userId: \"User ID\",\n        tokenInvalid: \"Token is not a valid OpenID Connect JWT Token\",\n        continue: \"Continue\",\n        idToken: \"ID Token (optional)\"\n      },\n      guestProvider: {\n        title: \"Guest\",\n        subtitle: \"Enter as a Guest User.\\n You will not have a verified identity, meaning some features might be unavailable.\",\n        enter: \"Enter\"\n      }\n    },\n    skipToContent: \"Skip to content\",\n    copyTextButton: {\n      tooltipText: \"Text copied to clipboard\"\n    },\n    simpleStepper: {\n      reset: \"Reset\",\n      finish: \"Finish\",\n      next: \"Next\",\n      skip: \"Skip\",\n      back: \"Back\"\n    },\n    errorPage: {\n      subtitle: \"ERROR {{status}}: {{statusMessage}}\",\n      title: \"Looks like someone dropped the mic!\",\n      goBack: \"Go back\",\n      showMoreDetails: \"Show more details\",\n      showLessDetails: \"Show less details\"\n    },\n    emptyState: {\n      missingAnnotation: {\n        title: \"Missing Annotation\",\n        actionTitle: \"Add the annotation to your component YAML as shown in the highlighted example below:\",\n        readMore: \"Read more\"\n      }\n    },\n    supportConfig: {\n      default: {\n        title: \"Support Not Configured\",\n        linkTitle: \"Add `app.support` config key\"\n      }\n    },\n    errorBoundary: {\n      title: \"Please contact {{slackChannel}} for help.\"\n    },\n    oauthRequestDialog: {\n      title: \"Login Required\",\n      authRedirectTitle: \"This will trigger a http redirect to OAuth Login.\",\n      login: \"Log in\",\n      rejectAll: \"Reject All\"\n    },\n    supportButton: {\n      title: \"Support\",\n      close: \"Close\"\n    },\n    table: {\n      filter: {\n        title: \"Filters\",\n        clearAll: \"Clear all\",\n        placeholder: \"All results\"\n      },\n      body: {\n        emptyDataSourceMessage: \"No records to display\"\n      },\n      pagination: {\n        firstTooltip: \"First Page\",\n        labelDisplayedRows: \"{from}-{to} of {count}\",\n        labelRowsSelect: \"rows\",\n        lastTooltip: \"Last Page\",\n        nextTooltip: \"Next Page\",\n        previousTooltip: \"Previous Page\"\n      },\n      toolbar: {\n        search: \"Filter\"\n      }\n    },\n    alertDisplay: {\n      message_one: \"({{ count }} newer message)\",\n      message_other: \"({{ count }} newer messages)\"\n    },\n    autoLogout: {\n      stillTherePrompt: {\n        title: \"Logging out due to inactivity\",\n        buttonText: \"Yes! Don't log me out\"\n      }\n    },\n    proxiedSignInPage: {\n      title: \"You do not appear to be signed in. Please try reloading the browser page.\"\n    }\n  }\n});\n\nexport { coreComponentsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","class GuestUserIdentity {\n  getUserId() {\n    return \"guest\";\n  }\n  async getIdToken() {\n    return void 0;\n  }\n  getProfile() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getProfileInfo() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getBackstageIdentity() {\n    const userEntityRef = `user:default/guest`;\n    return {\n      type: \"user\",\n      userEntityRef,\n      ownershipEntityRefs: [userEntityRef]\n    };\n  }\n  async getCredentials() {\n    return {};\n  }\n  async signOut() {\n  }\n}\n\nexport { GuestUserIdentity };\n//# sourceMappingURL=GuestUserIdentity.esm.js.map\n","function parseJwtPayload(token) {\n  const [_header, payload, _signature] = token.split(\".\");\n  return JSON.parse(window.atob(payload));\n}\nclass LegacyUserIdentity {\n  constructor(result) {\n    this.result = result;\n  }\n  getUserId() {\n    return this.result.userId;\n  }\n  static fromResult(result) {\n    return new LegacyUserIdentity(result);\n  }\n  async getIdToken() {\n    return this.result.getIdToken?.();\n  }\n  getProfile() {\n    return this.result.profile;\n  }\n  async getProfileInfo() {\n    return this.result.profile;\n  }\n  async getBackstageIdentity() {\n    const token = await this.getIdToken();\n    if (!token) {\n      const userEntityRef = `user:default/${this.getUserId()}`;\n      return {\n        type: \"user\",\n        userEntityRef,\n        ownershipEntityRefs: [userEntityRef]\n      };\n    }\n    const { sub, ent } = parseJwtPayload(token);\n    return {\n      type: \"user\",\n      userEntityRef: sub,\n      ownershipEntityRefs: ent ?? []\n    };\n  }\n  async getCredentials() {\n    const token = await this.result.getIdToken?.();\n    return { token };\n  }\n  async signOut() {\n    return this.result.signOut?.();\n  }\n}\n\nexport { LegacyUserIdentity };\n//# sourceMappingURL=LegacyUserIdentity.esm.js.map\n","import { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport { LegacyUserIdentity } from './LegacyUserIdentity.esm.js';\n\nclass UserIdentity {\n  constructor(identity, authApi, profile) {\n    this.identity = identity;\n    this.authApi = authApi;\n    this.profile = profile;\n  }\n  profilePromise;\n  /**\n   * Creates a new IdentityApi that acts as a Guest User.\n   *\n   * @public\n   */\n  static createGuest() {\n    return new GuestUserIdentity();\n  }\n  /**\n   * Creates a new IdentityApi using a legacy SignInResult object.\n   *\n   * @public\n   */\n  static fromLegacy(result) {\n    return LegacyUserIdentity.fromResult(result);\n  }\n  /**\n   * Creates a new IdentityApi implementation using a user identity\n   * and an auth API that will be used to request backstage tokens.\n   *\n   * @public\n   */\n  static create(options) {\n    return new UserIdentity(options.identity, options.authApi, options.profile);\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const ref = this.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return identity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    if (!this.profile) {\n      throw new Error(\n        \"The identity API does not implement synchronous profile fetching, use getProfileInfo() instead\"\n      );\n    }\n    return this.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    if (this.profilePromise) {\n      return await this.profilePromise;\n    }\n    try {\n      this.profilePromise = this.authApi.getProfile();\n      return await this.profilePromise;\n    } catch (ex) {\n      this.profilePromise = void 0;\n      throw ex;\n    }\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    return this.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return { token: identity.token };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    return this.authApi.signOut();\n  }\n}\n\nexport { UserIdentity };\n//# sourceMappingURL=UserIdentity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(\n  {\n    container: {\n      padding: 0,\n      listStyle: \"none\"\n    },\n    item: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: \"400px\",\n      margin: 0,\n      padding: 0\n    }\n  },\n  { name: \"BackstageSignInPage\" }\n);\nconst GridItem = ({ children }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Grid, { component: \"li\", item: true, classes, children });\n};\n\nexport { GridItem, useStyles };\n//# sourceMappingURL=styles.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport { GridItem } from './styles.esm.js';\nimport { ForwardedError } from '@backstage/errors';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst Component = ({\n  config,\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const { apiRef, title, message } = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handleLogin = async () => {\n    try {\n      onSignInStarted();\n      const identityResponse = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      if (!identityResponse) {\n        onSignInFailure();\n        throw new Error(\n          `The ${title} provider is not configured to support sign-in`\n        );\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          profile,\n          authApi\n        })\n      );\n    } catch (error) {\n      onSignInFailure();\n      errorApi.post(new ForwardedError(t(\"signIn.loginFailed\"), error));\n    }\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsx(\n    InfoCard,\n    {\n      variant: \"fullHeight\",\n      title,\n      actions: /* @__PURE__ */ jsx(Button, { color: \"primary\", variant: \"outlined\", onClick: handleLogin, children: t(\"signIn.title\") }),\n      children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: message })\n    }\n  ) });\n};\nconst loader = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identityResponse = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identityResponse) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return UserIdentity.create({\n    identity: identityResponse.identity,\n    profile,\n    authApi\n  });\n};\nconst commonProvider = { Component, loader };\n\nexport { commonProvider };\n//# sourceMappingURL=commonProvider.esm.js.map\n","import { z } from 'zod';\n\nconst proxiedSessionSchema = z.object({\n  providerInfo: z.object({}).catchall(z.unknown()).optional(),\n  profile: z.object({\n    email: z.string().optional(),\n    displayName: z.string().optional(),\n    picture: z.string().optional()\n  }),\n  backstageIdentity: z.object({\n    token: z.string(),\n    identity: z.object({\n      type: z.literal(\"user\"),\n      userEntityRef: z.string(),\n      ownershipEntityRefs: z.array(z.string())\n    })\n  })\n});\n\nexport { proxiedSessionSchema };\n//# sourceMappingURL=types.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport { proxiedSessionSchema } from './types.esm.js';\n\nconst DEFAULTS = {\n  // The amount of time between token refreshes, if we fail to get an actual\n  // value out of the exp claim\n  defaultTokenExpiryMillis: 5 * 60 * 1e3,\n  // The amount of time before the actual expiry of the Backstage token, that we\n  // shall start trying to get a new one\n  tokenExpiryMarginMillis: 5 * 60 * 1e3\n};\nfunction tokenToExpiry(jwtToken) {\n  const fallback = new Date(Date.now() + DEFAULTS.defaultTokenExpiryMillis);\n  if (!jwtToken) {\n    return fallback;\n  }\n  const [_header, rawPayload, _signature] = jwtToken.split(\".\");\n  const payload = JSON.parse(window.atob(rawPayload));\n  if (typeof payload.exp !== \"number\") {\n    return fallback;\n  }\n  return new Date(payload.exp * 1e3 - DEFAULTS.tokenExpiryMarginMillis);\n}\nclass ProxiedSignInIdentity {\n  options;\n  abortController;\n  state;\n  constructor(options) {\n    this.options = options;\n    this.abortController = new AbortController();\n    this.state = { type: \"empty\" };\n  }\n  async start() {\n    await this.getSessionAsync();\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const { backstageIdentity } = this.getSessionSync();\n    const ref = backstageIdentity.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    const session = this.getSessionSync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    const session = await this.getSessionAsync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const session = await this.getSessionAsync();\n    return {\n      token: session.backstageIdentity.token\n    };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    this.abortController.abort();\n  }\n  getSessionSync() {\n    if (this.state.type === \"active\") {\n      return this.state.session;\n    } else if (this.state.type === \"fetching\" && this.state.previous) {\n      return this.state.previous;\n    }\n    throw new Error(\"No session available. Try reloading your browser page.\");\n  }\n  async getSessionAsync() {\n    if (this.state.type === \"fetching\") {\n      return this.state.promise;\n    } else if (this.state.type === \"active\" && /* @__PURE__ */ new Date() < this.state.expiresAt) {\n      return this.state.session;\n    }\n    const previous = this.state.type === \"active\" ? this.state.session : void 0;\n    const promise = this.fetchSession().then(\n      (session) => {\n        this.state = {\n          type: \"active\",\n          session,\n          expiresAt: tokenToExpiry(session.backstageIdentity.token)\n        };\n        return session;\n      },\n      (error) => {\n        this.state = {\n          type: \"failed\",\n          error\n        };\n        throw error;\n      }\n    );\n    this.state = {\n      type: \"fetching\",\n      promise,\n      previous\n    };\n    return promise;\n  }\n  async fetchSession() {\n    const baseUrl = await this.options.discoveryApi.getBaseUrl(\"auth\");\n    const headers = typeof this.options.headers === \"function\" ? await this.options.headers() : this.options.headers;\n    const mergedHeaders = new Headers(headers);\n    mergedHeaders.set(\"X-Requested-With\", \"XMLHttpRequest\");\n    const response = await fetch(\n      `${baseUrl}/${this.options.provider}/refresh`,\n      {\n        signal: this.abortController.signal,\n        headers: mergedHeaders,\n        credentials: \"include\"\n      }\n    );\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return proxiedSessionSchema.parse(await response.json());\n  }\n}\n\nexport { DEFAULTS, ProxiedSignInIdentity, tokenToExpiry };\n//# sourceMappingURL=ProxiedSignInIdentity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { ProxiedSignInIdentity } from '../ProxiedSignInPage/ProxiedSignInIdentity.esm.js';\nimport { useApi, discoveryApiRef } from '@backstage/core-plugin-api';\nimport { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport useLocalStorage from 'react-use/esm/useLocalStorage';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst getIdentity = async (identity) => {\n  try {\n    const identityResponse = await identity.getBackstageIdentity();\n    return identityResponse;\n  } catch (error) {\n    if (error.name === \"ResponseError\" && error.cause.name === \"NotFoundError\") {\n      return void 0;\n    }\n    throw error;\n  }\n};\nconst Component = ({\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const discoveryApi = useApi(discoveryApiRef);\n  const [_, setUseLegacyGuestToken] = useLocalStorage(\"enableLegacyGuestToken\");\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handle = async () => {\n    onSignInStarted();\n    const identity = new ProxiedSignInIdentity({\n      provider: \"guest\",\n      discoveryApi\n    });\n    const identityResponse = await getIdentity(identity).catch((error) => {\n      console.warn(`Failed to sign in as a guest, ${error}`);\n      return void 0;\n    });\n    if (!identityResponse) {\n      const useLegacyGuestTokenResponse = confirm(\n        \"Failed to sign in as a guest using the auth backend. Do you want to fallback to the legacy guest token?\"\n      );\n      if (useLegacyGuestTokenResponse) {\n        setUseLegacyGuestToken(true);\n        onSignInSuccess(new GuestUserIdentity());\n        return;\n      }\n      onSignInFailure();\n      throw new Error(\n        `You cannot sign in as a guest, you must either enable the legacy guest token or configure the auth backend to support guest sign in.`\n      );\n    }\n    onSignInSuccess(identity);\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsx(\n    InfoCard,\n    {\n      title: \"Guest\",\n      variant: \"fullHeight\",\n      actions: /* @__PURE__ */ jsx(Button, { color: \"primary\", variant: \"outlined\", onClick: handle, children: t(\"signIn.guestProvider.enter\") }),\n      children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", style: { whiteSpace: \"pre-line\" }, children: t(\"signIn.guestProvider.subtitle\") })\n    }\n  ) });\n};\nconst loader = async (apis) => {\n  const useLegacyGuestToken = localStorage.getItem(\"enableLegacyGuestToken\") === \"true\";\n  const identity = new ProxiedSignInIdentity({\n    provider: \"guest\",\n    discoveryApi: apis.get(discoveryApiRef)\n  });\n  const identityResponse = await getIdentity(identity).catch((error) => {\n    console.warn(`Failed to sign in as a guest, ${error}`);\n    return void 0;\n  });\n  if (!identityResponse && !useLegacyGuestToken) {\n    return void 0;\n  } else if (identityResponse && useLegacyGuestToken) {\n    const switchToNewGuestToken = confirm(\n      \"You are currently using the legacy guest token, but you have the new guest backend module installed. Do you want to use the new module?\"\n    );\n    if (switchToNewGuestToken) {\n      localStorage.removeItem(\"enableLegacyGuestToken\");\n    } else {\n      return new GuestUserIdentity();\n    }\n  } else if (useLegacyGuestToken) {\n    return new GuestUserIdentity();\n  }\n  return identity;\n};\nconst guestProvider = { Component, loader };\n\nexport { guestProvider };\n//# sourceMappingURL=guestProvider.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useForm } from 'react-hook-form';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport isEmpty from 'lodash/isEmpty';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles(\n  (theme) => ({\n    form: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\"\n    },\n    button: {\n      alignSelf: \"center\",\n      marginTop: theme.spacing(2)\n    },\n    subTitle: {\n      whiteSpace: \"pre-line\"\n    }\n  }),\n  { name: \"BackstageCustomProvider\" }\n);\nconst asInputRef = (renderResult) => {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n};\nconst Component = ({ onSignInStarted, onSignInSuccess }) => {\n  const classes = useFormStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const { register, handleSubmit, formState } = useForm({\n    mode: \"onChange\"\n  });\n  const { errors } = formState;\n  const handleResult = ({ userId, idToken }) => {\n    onSignInStarted();\n    onSignInSuccess(\n      UserIdentity.fromLegacy({\n        userId,\n        getIdToken: idToken !== void 0 ? async () => idToken : void 0,\n        profile: {\n          email: `${userId}@example.com`\n        }\n      })\n    );\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsxs(InfoCard, { title: t(\"signIn.customProvider.title\"), variant: \"fullHeight\", children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"body1\", className: classes.subTitle, children: t(\"signIn.customProvider.subtitle\") }),\n    /* @__PURE__ */ jsxs(\"form\", { className: classes.form, onSubmit: handleSubmit(handleResult), children: [\n      /* @__PURE__ */ jsxs(FormControl, { children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            ...asInputRef(register(\"userId\", { required: true })),\n            label: t(\"signIn.customProvider.userId\"),\n            margin: \"normal\",\n            error: Boolean(errors.userId)\n          }\n        ),\n        errors.userId && /* @__PURE__ */ jsx(FormHelperText, { error: true, children: errors.userId.message })\n      ] }),\n      /* @__PURE__ */ jsxs(FormControl, { children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            ...asInputRef(\n              register(\"idToken\", {\n                required: false,\n                validate: (token) => !token || ID_TOKEN_REGEX.test(token) || t(\"signIn.customProvider.tokenInvalid\")\n              })\n            ),\n            label: t(\"signIn.customProvider.idToken\"),\n            margin: \"normal\",\n            autoComplete: \"off\",\n            error: Boolean(errors.idToken)\n          }\n        ),\n        errors.idToken && /* @__PURE__ */ jsx(FormHelperText, { error: true, children: errors.idToken.message })\n      ] }),\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          type: \"submit\",\n          color: \"primary\",\n          variant: \"outlined\",\n          className: classes.button,\n          disabled: !formState?.isDirty || !isEmpty(errors),\n          children: t(\"signIn.customProvider.continue\")\n        }\n      )\n    ] })\n  ] }) });\n};\nconst loader = async () => void 0;\nconst customProvider = { Component, loader };\n\nexport { customProvider };\n//# sourceMappingURL=customProvider.esm.js.map\n","class IdentityApiSignOutProxy {\n  constructor(config) {\n    this.config = config;\n  }\n  static from(config) {\n    return new IdentityApiSignOutProxy(config);\n  }\n  getUserId() {\n    if (!this.config.identityApi.getUserId) {\n      throw new Error(`SignOutProxy IdentityApi.getUserId is not implemented`);\n    }\n    return this.config.identityApi.getUserId();\n  }\n  getIdToken() {\n    if (!this.config.identityApi.getIdToken) {\n      throw new Error(`SignOutProxy IdentityApi.getIdToken is not implemented`);\n    }\n    return this.config.identityApi.getIdToken();\n  }\n  getProfile() {\n    if (!this.config.identityApi.getProfile) {\n      throw new Error(`SignOutProxy IdentityApi.getProfile is not implemented`);\n    }\n    return this.config.identityApi.getProfile();\n  }\n  getProfileInfo() {\n    return this.config.identityApi.getProfileInfo();\n  }\n  getBackstageIdentity() {\n    return this.config.identityApi.getBackstageIdentity();\n  }\n  getCredentials() {\n    return this.config.identityApi.getCredentials();\n  }\n  signOut() {\n    return this.config.signOut();\n  }\n}\n\nexport { IdentityApiSignOutProxy };\n//# sourceMappingURL=IdentityApiSignOutProxy.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState, useCallback, useLayoutEffect, useMemo } from 'react';\nimport { useApi, errorApiRef, useApiHolder } from '@backstage/core-plugin-api';\nimport { commonProvider } from './commonProvider.esm.js';\nimport { guestProvider } from './guestProvider.esm.js';\nimport { customProvider } from './customProvider.esm.js';\nimport { IdentityApiSignOutProxy } from './IdentityApiSignOutProxy.esm.js';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMountEffect } from '@react-hookz/web';\nimport { ForwardedError } from '@backstage/errors';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(\n      `\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`\n    );\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce(\n    (acc, config) => {\n      if (typeof config === \"string\") {\n        validateIDs(config, acc);\n        acc[config] = { components: signInProviders[config], id: config };\n        return acc;\n      }\n      const { id } = config;\n      validateIDs(id, acc);\n      acc[id] = { components: signInProviders.common, id, config };\n      return acc;\n    },\n    {}\n  );\n  return providers;\n}\nconst useSignInProviders = (providers, onSignInSuccess) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  useMountEffect(() => {\n    const errorParam = searchParams.get(\"error\");\n    if (errorParam) {\n      errorApi.post(\n        new ForwardedError(t(\"signIn.loginFailed\"), new Error(errorParam))\n      );\n    }\n  });\n  const handleWrappedResult = useCallback(\n    (identityApi) => {\n      onSignInSuccess(\n        IdentityApiSignOutProxy.from({\n          identityApi,\n          signOut: async () => {\n            localStorage.removeItem(PROVIDER_STORAGE_KEY);\n            await identityApi.signOut?.();\n          }\n        })\n      );\n    },\n    [onSignInSuccess]\n  );\n  useLayoutEffect(() => {\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(\n      PROVIDER_STORAGE_KEY\n    );\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, provider.config?.apiRef).then((result) => {\n      if (didCancel) {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [\n    loading,\n    errorApi,\n    onSignInSuccess,\n    apiHolder,\n    providers,\n    handleWrappedResult\n  ]);\n  const elements = useMemo(\n    () => Object.keys(providers).map((key) => {\n      const provider = providers[key];\n      const { Component } = provider.components;\n      const handleSignInSuccess = (result) => {\n        handleWrappedResult(result);\n      };\n      const handleSignInStarted = () => {\n        localStorage.setItem(\n          PROVIDER_STORAGE_KEY,\n          provider?.config?.id || provider.id\n        );\n      };\n      const handleSignInFailure = () => {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      };\n      return /* @__PURE__ */ jsx(\n        Component,\n        {\n          config: provider.config,\n          onSignInStarted: handleSignInStarted,\n          onSignInSuccess: handleSignInSuccess,\n          onSignInFailure: handleSignInFailure\n        },\n        provider.id\n      );\n    }),\n    [providers, handleWrappedResult]\n  );\n  return [loading, elements];\n};\n\nexport { getSignInProviders, useSignInProviders };\n//# sourceMappingURL=providers.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { useState } from 'react';\nimport { useMountEffect } from '@react-hookz/web';\nimport { Progress } from '../../components/Progress/Progress.esm.js';\nimport { Content } from '../Content/Content.esm.js';\nimport { ContentHeader } from '../ContentHeader/ContentHeader.esm.js';\nimport { Header } from '../Header/Header.esm.js';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { Page } from '../Page/Page.esm.js';\nimport { getSignInProviders, useSignInProviders } from './providers.esm.js';\nimport { useStyles, GridItem } from './styles.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MultiSignInPage = ({\n  onSignInSuccess,\n  providers = [],\n  title,\n  titleComponent,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(\n    signInProviders,\n    onSignInSuccess\n  );\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  return /* @__PURE__ */ jsxs(Page, { themeId: \"home\", children: [\n    /* @__PURE__ */ jsx(Header, { title: configApi.getString(\"app.title\") }),\n    /* @__PURE__ */ jsxs(Content, { children: [\n      (title || titleComponent) && /* @__PURE__ */ jsx(\n        ContentHeader,\n        {\n          title,\n          titleComponent,\n          textAlign: align\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        Grid,\n        {\n          container: true,\n          justifyContent: align === \"center\" ? align : \"flex-start\",\n          spacing: 2,\n          component: \"ul\",\n          classes,\n          children: providerElements\n        }\n      )\n    ] })\n  ] });\n};\nconst SingleSignInPage = ({\n  provider,\n  auto,\n  onSignInSuccess,\n  ErrorComponent\n}) => {\n  const classes = useStyles();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [error, setError] = useState();\n  const [showLoginPage, setShowLoginPage] = useState(false);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  const errorParam = searchParams.get(\"error\");\n  const login = async ({ checkExisting, showPopup }) => {\n    try {\n      let identityResponse;\n      if (checkExisting) {\n        identityResponse = await authApi.getBackstageIdentity({\n          optional: true\n        });\n      }\n      if (!identityResponse && (showPopup || auto) && !errorParam) {\n        setShowLoginPage(true);\n        identityResponse = await authApi.getBackstageIdentity({\n          instantPopup: true\n        });\n        if (!identityResponse) {\n          throw new Error(\n            `The ${provider.title} provider is not configured to support sign-in`\n          );\n        }\n      }\n      if (!identityResponse) {\n        setShowLoginPage(true);\n        return;\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          authApi,\n          profile\n        })\n      );\n    } catch (err) {\n      setError(err);\n      setShowLoginPage(true);\n    }\n  };\n  useMountEffect(() => {\n    if (errorParam) {\n      setError(new Error(errorParam));\n    }\n    login({ checkExisting: true });\n  });\n  return showLoginPage ? /* @__PURE__ */ jsxs(Page, { themeId: \"home\", children: [\n    /* @__PURE__ */ jsx(Header, { title: configApi.getString(\"app.title\") }),\n    /* @__PURE__ */ jsx(Content, { children: /* @__PURE__ */ jsx(\n      Grid,\n      {\n        container: true,\n        justifyContent: \"center\",\n        spacing: 2,\n        component: \"ul\",\n        classes,\n        children: /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsxs(\n          InfoCard,\n          {\n            variant: \"fullHeight\",\n            title: provider.title,\n            actions: /* @__PURE__ */ jsx(\n              Button,\n              {\n                color: \"primary\",\n                variant: \"outlined\",\n                onClick: () => {\n                  login({ showPopup: true });\n                },\n                children: t(\"signIn.title\")\n              }\n            ),\n            children: [\n              /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: provider.message }),\n              error && error.name !== \"PopupRejectedError\" && (ErrorComponent ? /* @__PURE__ */ jsx(ErrorComponent, { error }) : /* @__PURE__ */ jsx(Typography, { variant: \"body1\", color: \"error\", children: error.message }))\n            ]\n          }\n        ) })\n      }\n    ) })\n  ] }) : /* @__PURE__ */ jsx(Progress, {});\n};\nfunction SignInPage(props) {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ jsx(SingleSignInPage, { ...props });\n  }\n  return /* @__PURE__ */ jsx(MultiSignInPage, { ...props });\n}\n\nexport { MultiSignInPage, SignInPage, SingleSignInPage };\n//# sourceMappingURL=SignInPage.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst apiDocsConfigRef = createApiRef({\n  id: \"plugin.api-docs.config\"\n});\n\nexport { apiDocsConfigRef };\n//# sourceMappingURL=config.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst appLanguageApiRef = createApiRef({\n  id: \"core.applanguage\"\n});\n\nexport { appLanguageApiRef };\n//# sourceMappingURL=AppLanguageApi.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { permissionApiRef } from '../apis/PermissionApi.esm.js';\nimport { isResourcePermission, AuthorizeResult } from '@backstage/plugin-permission-common';\nimport useSWR from 'swr';\n\nfunction usePermission(input) {\n  const permissionApi = useApi(permissionApiRef);\n  const { data, error } = useSWR(input, async (args) => {\n    if (isResourcePermission(args.permission) && !args.resourceRef) {\n      return AuthorizeResult.DENY;\n    }\n    const { result } = await permissionApi.authorize(args);\n    return result;\n  });\n  if (error) {\n    return { error, loading: false, allowed: false };\n  }\n  if (data === void 0) {\n    return { loading: true, allowed: false };\n  }\n  return { loading: false, allowed: data === AuthorizeResult.ALLOW };\n}\n\nexport { usePermission };\n//# sourceMappingURL=usePermission.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst entityPresentationApiRef = createApiRef({\n  id: \"plugin.catalog.entity-presentation\"\n});\n\nexport { entityPresentationApiRef };\n//# sourceMappingURL=EntityPresentationApi.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useApp } from '@backstage/core-plugin-api';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\n\nfunction AppIcon(props) {\n  const { id: key, Fallback = MuiBrokenImageIcon, ...rest } = props;\n  const app = useApp();\n  const Icon = app.getSystemIcon(key) ?? Fallback;\n  return /* @__PURE__ */ jsx(Icon, { ...rest });\n}\nfunction BrokenImageIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"brokenImage\", ...props });\n}\nfunction CatalogIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"catalog\", ...props });\n}\nfunction ChatIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"chat\", ...props });\n}\nfunction DashboardIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"dashboard\", ...props });\n}\nfunction DocsIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"docs\", ...props });\n}\nfunction EmailIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"email\", ...props });\n}\nfunction GitHubIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"github\", ...props });\n}\nfunction GroupIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"group\", ...props });\n}\nfunction HelpIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"help\", ...props });\n}\nfunction UserIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"user\", ...props });\n}\nfunction WarningIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"warning\", ...props });\n}\nfunction StarIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"star\", ...props });\n}\nfunction UnstarredIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"unstarred\", ...props });\n}\n\nexport { AppIcon, BrokenImageIcon, CatalogIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, GitHubIcon, GroupIcon, HelpIcon, StarIcon, UnstarredIcon, UserIcon, WarningIcon };\n//# sourceMappingURL=icons.esm.js.map\n","import { createPlugin, createComponentExtension } from '@backstage/core-plugin-api';\nimport { catalogIndexRouteRef } from './routes.esm.js';\n\nconst orgPlugin = createPlugin({\n  id: \"org\",\n  externalRoutes: {\n    catalogIndex: catalogIndexRouteRef\n  }\n});\nconst EntityGroupProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGroupProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.GroupProfileCard)\n    }\n  })\n);\nconst EntityMembersListCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityMembersListCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.MembersListCard)\n    }\n  })\n);\nconst EntityOwnershipCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityOwnershipCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.OwnershipCard)\n    }\n  })\n);\nconst EntityUserProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityUserProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.UserProfileCard)\n    }\n  })\n);\n\nexport { EntityGroupProfileCard, EntityMembersListCard, EntityOwnershipCard, EntityUserProfileCard, orgPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst identityApiRef = createApiRef({\n  id: \"core.identity\"\n});\n\nexport { identityApiRef };\n//# sourceMappingURL=IdentityApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst fetchApiRef = createApiRef({\n  id: \"core.fetch\"\n});\n\nexport { fetchApiRef };\n//# sourceMappingURL=FetchApi.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst entityQueryFilterExpressionSchema = z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst EntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from\"\n    ),\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst EntityPickerSchema = EntityPickerFieldSchema.schema;\n\nexport { EntityPickerFieldSchema, EntityPickerSchema, entityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { useVersionedContext } from '@backstage/version-bridge';\n\nconst useApp = () => {\n  const versionedContext = useVersionedContext(\n    \"app-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"App context is not available\");\n  }\n  const appContext = versionedContext.atVersion(1);\n  if (!appContext) {\n    throw new Error(\"AppContext v1 not available\");\n  }\n  return appContext;\n};\n\nexport { useApp };\n//# sourceMappingURL=useApp.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createContext, forwardRef, useContext, Children, cloneElement } from 'react';\nimport { FixedSizeList } from 'react-window';\n\nconst renderRow = (props) => {\n  const { data, index, style } = props;\n  return cloneElement(data[index], { style });\n};\nconst OuterElementContext = createContext({});\nconst OuterElementType = forwardRef(\n  (props, ref) => {\n    const outerProps = useContext(OuterElementContext);\n    return /* @__PURE__ */ jsx(\"div\", { ref, ...props, ...outerProps });\n  }\n);\nconst VirtualizedListbox = forwardRef(\n  (props, ref) => {\n    const { children, ...other } = props;\n    const itemData = Children.toArray(children);\n    const itemCount = itemData.length;\n    const itemSize = 36;\n    const itemsToShow = Math.min(10, itemCount) + 0.5;\n    const height = itemsToShow * itemSize;\n    return /* @__PURE__ */ jsx(\"div\", { ref, children: /* @__PURE__ */ jsx(OuterElementContext.Provider, { value: other, children: /* @__PURE__ */ jsx(\n      FixedSizeList,\n      {\n        height,\n        itemData,\n        itemCount,\n        itemSize,\n        outerElementType: OuterElementType,\n        width: \"100%\",\n        children: renderRow\n      }\n    ) }) });\n  }\n);\n\nexport { VirtualizedListbox };\n//# sourceMappingURL=VirtualizedListbox.esm.js.map\n","import { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction defaultEntityPresentation(entityOrRef, context) {\n  const { kind, namespace, name, title, description, displayName, type } = getParts(entityOrRef);\n  const entityRef = stringifyEntityRef({\n    kind: kind || \"unknown\",\n    namespace: namespace || DEFAULT_NAMESPACE,\n    name: name || \"unknown\"\n  });\n  const shortRef = getShortRef({ kind, namespace, name, context });\n  const primary = [displayName, title, shortRef].find(\n    (candidate) => candidate && typeof candidate === \"string\"\n  );\n  const secondary = [\n    primary !== entityRef ? entityRef : void 0,\n    type,\n    description\n  ].filter((candidate) => candidate && typeof candidate === \"string\").join(\" | \");\n  return {\n    entityRef,\n    primaryTitle: primary,\n    secondaryTitle: secondary || void 0,\n    Icon: void 0\n    // leave it up to the presentation API to handle\n  };\n}\nconst isString = (value) => Boolean(value) && typeof value === \"string\";\nfunction getParts(entityOrRef) {\n  if (typeof entityOrRef === \"string\") {\n    let colonI = entityOrRef.indexOf(\":\");\n    const slashI = entityOrRef.indexOf(\"/\");\n    if (slashI !== -1 && slashI < colonI) {\n      colonI = -1;\n    }\n    const kind = colonI === -1 ? void 0 : entityOrRef.slice(0, colonI);\n    const namespace = slashI === -1 ? void 0 : entityOrRef.slice(colonI + 1, slashI);\n    const name = entityOrRef.slice(Math.max(colonI + 1, slashI + 1));\n    return { kind, namespace, name };\n  }\n  if (typeof entityOrRef === \"object\" && entityOrRef !== null) {\n    const kind = [get(entityOrRef, \"kind\")].find(isString);\n    const namespace = [\n      get(entityOrRef, \"metadata.namespace\"),\n      get(entityOrRef, \"namespace\")\n    ].find(isString);\n    const name = [\n      get(entityOrRef, \"metadata.name\"),\n      get(entityOrRef, \"name\")\n    ].find(isString);\n    const title = [get(entityOrRef, \"metadata.title\")].find(isString);\n    const description = [get(entityOrRef, \"metadata.description\")].find(\n      isString\n    );\n    const displayName = [get(entityOrRef, \"spec.profile.displayName\")].find(\n      isString\n    );\n    const type = [get(entityOrRef, \"spec.type\")].find(isString);\n    return { kind, namespace, name, title, description, displayName, type };\n  }\n  return {};\n}\nfunction getShortRef(options) {\n  const kind = options.kind?.toLocaleLowerCase(\"en-US\") || \"unknown\";\n  const namespace = options.namespace || DEFAULT_NAMESPACE;\n  const name = options.name || \"unknown\";\n  const defaultKindLower = options.context?.defaultKind?.toLocaleLowerCase(\"en-US\");\n  const defaultNamespaceLower = options.context?.defaultNamespace?.toLocaleLowerCase(\"en-US\");\n  let result = name;\n  if (defaultNamespaceLower && namespace.toLocaleLowerCase(\"en-US\") !== defaultNamespaceLower || namespace !== DEFAULT_NAMESPACE) {\n    result = `${namespace}/${result}`;\n  }\n  if (defaultKindLower && kind.toLocaleLowerCase(\"en-US\") !== defaultKindLower) {\n    result = `${kind}:${result}`;\n  }\n  return result;\n}\n\nexport { defaultEntityPresentation };\n//# sourceMappingURL=defaultEntityPresentation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ jsx(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ jsx(Box, { display: \"none\", \"data-testid\": \"progress\" });\n}\n\nexport { Progress };\n//# sourceMappingURL=Progress.esm.js.map\n","const RELATION_OWNED_BY = \"ownedBy\";\nconst RELATION_OWNER_OF = \"ownerOf\";\nconst RELATION_CONSUMES_API = \"consumesApi\";\nconst RELATION_API_CONSUMED_BY = \"apiConsumedBy\";\nconst RELATION_PROVIDES_API = \"providesApi\";\nconst RELATION_API_PROVIDED_BY = \"apiProvidedBy\";\nconst RELATION_DEPENDS_ON = \"dependsOn\";\nconst RELATION_DEPENDENCY_OF = \"dependencyOf\";\nconst RELATION_PARENT_OF = \"parentOf\";\nconst RELATION_CHILD_OF = \"childOf\";\nconst RELATION_MEMBER_OF = \"memberOf\";\nconst RELATION_HAS_MEMBER = \"hasMember\";\nconst RELATION_PART_OF = \"partOf\";\nconst RELATION_HAS_PART = \"hasPart\";\n\nexport { RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_CHILD_OF, RELATION_CONSUMES_API, RELATION_DEPENDENCY_OF, RELATION_DEPENDS_ON, RELATION_HAS_MEMBER, RELATION_HAS_PART, RELATION_MEMBER_OF, RELATION_OWNED_BY, RELATION_OWNER_OF, RELATION_PARENT_OF, RELATION_PART_OF, RELATION_PROVIDES_API };\n//# sourceMappingURL=relations.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useState, useContext, useCallback } from 'react';\n\nconst SecretsContext = createVersionedContext(\"secrets-context\");\nconst SecretsContextProvider = (props) => {\n  const { initialSecrets = {} } = props;\n  const [secrets, setSecrets] = useState({\n    ...initialSecrets\n  });\n  return /* @__PURE__ */ jsx(\n    SecretsContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: { secrets, setSecrets } }),\n      children: props.children\n    }\n  );\n};\nconst useTemplateSecrets = () => {\n  const value = useContext(SecretsContext)?.atVersion(1);\n  if (!value) {\n    throw new Error(\n      \"useTemplateSecrets must be used within a SecretsContextProvider\"\n    );\n  }\n  const { setSecrets: updateSecrets, secrets = {} } = value;\n  const setSecrets = useCallback(\n    (input) => {\n      updateSecrets((currentSecrets) => ({ ...currentSecrets, ...input }));\n    },\n    [updateSecrets]\n  );\n  return { setSecrets, secrets };\n};\n\nexport { SecretsContextProvider, useTemplateSecrets };\n//# sourceMappingURL=SecretsContext.esm.js.map\n","function createTranslationResource(options) {\n  return {\n    $$type: \"@backstage/TranslationResource\",\n    version: \"v1\",\n    id: options.ref.id,\n    resources: Object.entries(options.translations).map(\n      ([language, loader]) => ({\n        language,\n        loader: () => loader().then((m) => {\n          const value = m.default;\n          return {\n            messages: value?.$$type === \"@backstage/TranslationMessages\" ? value.messages : value\n          };\n        })\n      })\n    )\n  };\n}\n\nexport { createTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","import { createTranslationResource } from './TranslationResource.esm.js';\n\nfunction flattenMessages(nested) {\n  const entries = new Array();\n  function visit(obj, prefix) {\n    for (const [key, value] of Object.entries(obj)) {\n      if (typeof value === \"string\") {\n        entries.push([prefix + key, value]);\n      } else {\n        visit(value, `${prefix}${key}.`);\n      }\n    }\n  }\n  visit(nested, \"\");\n  return Object.fromEntries(entries);\n}\nclass TranslationRefImpl {\n  #id;\n  #messages;\n  #resources;\n  constructor(options) {\n    this.#id = options.id;\n    this.#messages = flattenMessages(\n      options.messages\n    );\n  }\n  $$type = \"@backstage/TranslationRef\";\n  version = \"v1\";\n  get id() {\n    return this.#id;\n  }\n  get T() {\n    throw new Error(\"Not implemented\");\n  }\n  getDefaultMessages() {\n    return this.#messages;\n  }\n  setDefaultResource(resources) {\n    this.#resources = resources;\n  }\n  getDefaultResource() {\n    return this.#resources;\n  }\n  toString() {\n    return `TranslationRef{id=${this.id}}`;\n  }\n}\nfunction createTranslationRef(config) {\n  const ref = new TranslationRefImpl(config);\n  if (config.translations) {\n    ref.setDefaultResource(\n      createTranslationResource({\n        ref,\n        translations: config.translations\n      })\n    );\n  }\n  return ref;\n}\n\nexport { createTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","const ANNOTATION_LOCATION = \"backstage.io/managed-by-location\";\nconst ANNOTATION_ORIGIN_LOCATION = \"backstage.io/managed-by-origin-location\";\nconst ANNOTATION_SOURCE_LOCATION = \"backstage.io/source-location\";\n\nexport { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, ANNOTATION_SOURCE_LOCATION };\n//# sourceMappingURL=annotation.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles, darken, lighten } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { MarkdownContent } from '../MarkdownContent/MarkdownContent.esm.js';\n\nconst getWarningTextColor = (severity, theme) => {\n  const getColor = theme.palette.type === \"light\" ? darken : lighten;\n  return getColor(theme.palette[severity].light, 0.6);\n};\nconst getWarningBackgroundColor = (severity, theme) => {\n  const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken;\n  return getBackgroundColor(theme.palette[severity].light, 0.9);\n};\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: ({ severity }) => getWarningTextColor(\n      severity,\n      theme\n    )\n  }\n}));\nconst ErrorOutlineStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ jsx(ErrorOutline, { classes });\n};\nconst ExpandMoreIconStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ jsx(ExpandMoreIcon, { classes });\n};\nconst useStyles = makeStyles(\n  (theme) => ({\n    panel: {\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      ),\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      verticalAlign: \"middle\"\n    },\n    summary: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    summaryText: {\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      fontWeight: theme.typography.fontWeightBold\n    },\n    markdownContent: {\n      \"& p\": {\n        display: \"inline\"\n      }\n    },\n    message: {\n      width: \"100%\",\n      display: \"block\",\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      )\n    },\n    details: {\n      width: \"100%\",\n      display: \"block\",\n      color: theme.palette.textContrast,\n      backgroundColor: theme.palette.background.default,\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(2),\n      fontFamily: \"sans-serif\"\n    }\n  }),\n  { name: \"BackstageWarningPanel\" }\n);\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nfunction WarningPanel(props) {\n  const {\n    severity = \"warning\",\n    title,\n    titleFormat,\n    message,\n    children,\n    defaultExpanded\n  } = props;\n  const classes = useStyles({ severity });\n  const subTitle = capitalize(severity) + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded: defaultExpanded ?? false,\n      className: classes.panel,\n      role: \"alert\",\n      children: [\n        /* @__PURE__ */ jsxs(\n          AccordionSummary,\n          {\n            expandIcon: /* @__PURE__ */ jsx(ExpandMoreIconStyled, { severity }),\n            className: classes.summary,\n            children: [\n              /* @__PURE__ */ jsx(ErrorOutlineStyled, { severity }),\n              /* @__PURE__ */ jsx(Typography, { className: classes.summaryText, variant: \"subtitle1\", children: titleFormat === \"markdown\" ? /* @__PURE__ */ jsx(\n                MarkdownContent,\n                {\n                  content: subTitle,\n                  className: classes.markdownContent\n                }\n              ) : subTitle })\n            ]\n          }\n        ),\n        (message || children) && /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n          message && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { className: classes.message, variant: \"body1\", children: message }) }),\n          children && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, className: classes.details, children })\n        ] }) })\n      ]\n    }\n  );\n}\n\nexport { WarningPanel };\n//# sourceMappingURL=WarningPanel.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { ErrorPanel } from '../ErrorPanel/ErrorPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageResponseErrorPanel\" }\n);\nfunction ResponseErrorPanel(props) {\n  const { title, error, defaultExpanded } = props;\n  const classes = useStyles();\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ jsx(\n      ErrorPanel,\n      {\n        title: title ?? error.message,\n        defaultExpanded,\n        error\n      }\n    );\n  }\n  const { body, cause } = error;\n  const { request, response } = body;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = cause.stack?.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(body, void 0, 2);\n  return /* @__PURE__ */ jsxs(\n    ErrorPanel,\n    {\n      title: title ?? error.message,\n      defaultExpanded,\n      error: { name: errorString, message: messageString, stack: stackString },\n      children: [\n        requestString && /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n          /* @__PURE__ */ jsx(\n            ListItemText,\n            {\n              classes: { secondary: classes.text },\n              primary: \"Request\",\n              secondary: request ? `${requestString}` : void 0\n            }\n          ),\n          /* @__PURE__ */ jsx(CopyTextButton, { text: requestString })\n        ] }),\n        /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(Divider, { component: \"li\", className: classes.divider }),\n          /* @__PURE__ */ jsx(ListItem, { alignItems: \"flex-start\", children: /* @__PURE__ */ jsx(\n            ListItemText,\n            {\n              classes: { secondary: classes.text },\n              primary: \"Full Error as JSON\"\n            }\n          ) }),\n          /* @__PURE__ */ jsx(CodeSnippet, { language: \"json\", text: jsonString, showCopyCodeButton: true })\n        ] })\n      ]\n    }\n  );\n}\n\nexport { ResponseErrorPanel };\n//# sourceMappingURL=ResponseErrorPanel.esm.js.map\n"],"names":["getEntityRelations","entity","relationType","filter","entityNames","r","e","DeleteEntityDialog","props","open","onClose","onConfirm","busy","setBusy","catalogApi","alertApi","t","onDelete","uid","err","Dialog","DialogTitle","DialogActions","Button","isOrphan","EntityOrphanWarning","navigate","catalogLink","confirmationDialogOpen","setConfirmationDialogOpen","cleanUpAfterRemoval","Alert","getGlobalObject","globalObject","makeKey","id","getOrCreateGlobalSingleton","supplier","key","value","createScaffolderFieldExtension","options","FieldExtensionDataHolder","ScaffolderFieldExtensions","ScaffolderClient","baseUrl","userEntityRef","query","response","item","c","templateRef","namespace","kind","name","templatePath","s","url","values","secrets","status","body","taskId","isTaskRecoverable","after","subscriber","params","processEvent","event","ex","ctrl","error","inputAfter","resolve","logs","token","resource","provider","context","results","createExtensionDataRef","createRef","refId","optional","createExtensionDataContainer","declaredRefs","container","verifyRefs","ref","output","remainingRefs","expectArray","expectItem","resolveInputOverrides","declaredInputs","inputs","inputOverrides","newInputs","declaredInput","providedData","originalInput","providedContainer","withNodesCount","d","data","i","createSchemaFromZod","schemaCreator","schema","input","result","formatIssue","issue","message","OpaqueType","#type","#versions","type","versions","#isThisInternalType","#stringifyUnknown","#stringifyVersion","expected","version","OpaqueExtensionDefinition","ctxParamsSymbol","createExtension","schemaDeclaration","configSchema","innerZ","k","v","parts","a","overrideOptions","node","apis","config","parentResult","innerContext","deduplicatedResult","createExtensionBlueprint","args","ctx","innerParams","factoryDataRef","ApiBlueprint","createExtensionInput","extensionData","formDecoratorExtensionDataRef","FormDecoratorBlueprint","DefaultScaffolderFormDecoratorsApi","formDecoratorsApi","originalFactory","formDecorators","scaffolderPlugin","discoveryApi","scmIntegrationsApi","fetchApi","identityApi","EntityPickerFieldExtension","EntityNamePickerFieldExtension","MultiEntityPickerFieldExtension","RepoUrlPickerFieldExtension","OwnerPickerFieldExtension","MyGroupsPickerFieldExtension","ScaffolderPage","m","OwnedEntityPickerFieldExtension","EntityTagsPickerFieldExtension","RepoBranchPickerFieldExtension","ExternalRouteRefImpl","defaultTarget","createExternalRouteRef","AuthorizeResult","AuthorizeResult2","asInputRef","renderResult","rest","getCatalogFilename","getBranchName","createVersionedValueMap","versionedValue","catalogImportApiRef","submitGitHubPrToRepo","scmAuthApi","configApi","owner","repo","title","fileContent","repositoryUrl","githubIntegrationConfig","octo","branchName","fileName","repoData","formatHttpErrorMessage","parentRef","apiVersions","RepoApiClient","_options","path","queryParams","endpoint","it","payload","repositoryName","sourceBranch","repoName","push","sourceName","targetName","createAzurePullRequest","client","repository","description","actualClient","defaultBranch","branchOptions","refUpdate","prOptions","parseAzureUrl","repoUrl","org","project","host","parseRepoUrl","submitAzurePrToRepo","tenantUrl","catalogLocation","sourceUrl","part","CatalogImportClient","location","supportedIntegrations","foundIntegration","catalogFilename","analyzation","locations","state","curr","x","appTitle","appBaseUrl","parseData","document","validationResponse","rootRouteRef","catalogImportPlugin","CatalogImportPage","serializeError","deserializeError","stringifyError","str","OwnerPicker","uiSchema","restProps","defaultNamespace","allowedKinds","catalogFilter","ownerUiSchema","registerComponentRouteRef","viewTechDocRouteRef","selectedTemplateRouteRef","scaffolderTaskRouteRef","scaffolderListTaskRouteRef","actionsRouteRef","editRouteRef","editorRouteRef","customFieldsRouteRef","templateFormRouteRef","makeSidebarStyles","sidebarConfig","theme","useMemoStyles","useLocationMatch","submenu","elements","active","to","dropdownItems","_to","isButtonItem","sidebarSubmenuType","WorkaroundNavLink","end","style","className","activeStyle","caseSensitive","activeClassName","ariaCurrentProp","locationPathname","toPathname","isActive","ariaCurrent","SidebarItemBase","Icon","text","hasNotifications","hasSubmenu","disableHighlight","onClick","noTrack","children","navLinkProps","classes","isOpen","divStyle","displayItemIcon","itemIcon","openContent","content","childProps","analyticsApi","handleClick","action","subject","SidebarItemWithSubmenu","isHoveredOn","setIsHoveredOn","isSmallScreen","handleMouseEnter","handleMouseLeave","arrowIcon","SidebarItem","child","SidebarSearchField","setInput","search","handleEnter","ev","handleInput","handleInputClick","handleItemClick","SidebarSpace","SidebarSpacer","SidebarDivider","styledScrollbar","SidebarScrollWrapper","scrollbarStyles","SidebarExpandButton","setOpen","LocalStorage","useStyles","makeStyles","PageContext","SidebarPage","isPinned","setIsPinned","contentRef","pageContext","isMobile","useMediaQuery","toggleSidebarPinState","Box","useContent","defaultValidators","makeValidator","overrides","EntityTagsPicker","formData","onChange","tagOptions","setTagOptions","inputValue","setInputValue","inputError","setInputError","tagValidator","kinds","showCounts","helperText","isDisabled","loading","existingTags","useAsync","facet","tagsRequest","facets","tagFacets","count","b","setTags","_","hasError","addDuplicate","currentTags","newTag","useEffectOnce","FormControl","Autocomplete","option","TextField","EntityTagsPickerSchema","encodePageCursor","pageCursor","Buffer","decodePageCursor","SearchPaginationBase","hasNextPage","onPageCursorChange","rowsPerPage","labelRowsPerPage","labelDisplayedRows","from","rowsPerPageOptions","onPageLimitChange","page","handlePageChange","newValue","handleRowsPerPageChange","SearchPagination","pageLimit","setPageLimit","setPageCursor","fetchNextPage","handlePageLimitChange","newPageLimit","OwnedEntityPicker","required","identityRefs","entityPickerUISchema","buildEntityPickerUISchema","uiOptions","extraOptions","asArray","starredEntitiesApiRef","loggedRefs","useTranslationRef","translationRef","errorApi","translationApi","snapshot","setSnapshot","observable","onError","errMsg","subscription","next","initialRenderRef","TECHDOCS_ADDONS_KEY","TECHDOCS_ADDONS_WRAPPER_KEY","TechDocsAddons","getDataKeyByName","createTechDocsAddonExtension","TechDocsAddon","getTechDocsAddonByName","collection","getAllTechDocsAddons","getAllTechDocsAddonsData","useTechDocsAddons","findAddonByData","nameKey","renderComponentByName","renderComponentsByLocation","ErrorList","stack","ErrorPanel","defaultExpanded","titleFormat","routeRefType","scmAuthApiRef","ClickableText","StyledBox","BreadcrumbsCurrentPage","Breadcrumbs","anchorEl","setAnchorEl","childrenArray","firstPage","secondPage","expandablePages","currentPage","hasHiddenBreadcrumbs","handleClose","pageLink","index","EntityRefLinks","entityRefs","hideIcons","linkProps","entityRefString","GITHUB_HOST","GITHUB_API_BASE_URL","GITHUB_RAW_BASE_URL","readGithubIntegrationConfig","apiBaseUrl","rawBaseUrl","apps","readGithubIntegrationConfigs","configs","LazyAsyncApiDefinition","AsyncApiDefinitionWidget","LazyGraphQlDefinition","GraphQlDefinitionWidget","LazyOpenApiDefinition","OpenApiDefinitionWidget","validSubmitMethods","method","GrpcApiDefinitionWidget","useTheme","TrpcApiDefinitionWidget","definition","defaultDefinitionWidgets","catalogIndexRouteRef","TechDocsAddonLocations","catalogGraphRouteRef","catalogEntityRouteRef","NewEntityContext","AsyncEntityProvider","refresh","EntityProvider","useEntity","versionedHolder","useAsyncEntity","Content","stretch","noPadding","ContentHeaderTitle","ContentHeaderDescription","ContentHeader","TitleComponent","DescriptionComponent","textAlign","renderedTitle","renderedDescription","styles","ItemCardGrid","otherProps","rootDocsRouteRef","rootCatalogDocsRouteRef","EntityPicker","rawErrors","idSchema","errors","buildCatalogFilter","defaultKind","entityPresentationApi","entities","fields","items","entityRefToPresentation","presentation","allowArbitraryValues","getLabel","freeSoloValue","parsedRef","onSelect","reason","entityRef","selectedEntity","convertOpsValues","convertSchemaFiltersToQuery","schemaFilters","PluginErrorBoundary","app","plugin","ErrorBoundaryFallback","createRoutableExtension","component","mountPoint","createReactExtension","InnerComponent","RoutableExtensionWrapper","analytics","componentName","createComponentExtension","Component","lazyLoader","ofExtension","Result","Progress","useApiHolder","apiHolder","useApi","apiRef","api","withApis","WrappedComponent","Hoc","impls","displayName","DEFAULT_ICON","SvgIcon","getKind","useIcon","actualKind","EntityKindIcon","useAncestry","root","catalogClient","nodes","edges","current","currentRef","isRootNode","CustomNode","entityRoute","width","setWidth","height","setHeight","idRef","renderedHeight","renderedWidth","hasKindIcon","padding","iconSize","paddedIconWidth","paddedWidth","paddedHeight","displayTitle","AncestryPage","DialogContentText","ListItemText","Container","Card","CardContent","Typography","HelpIcon","findLink","KeyValueListItem","link","ListItem","ListItemIcon","HelpOutline","useColocated","currentEntityRef","origin","colocated","EntityList","List","Contents","originLocation","colocatedEntities","atLocation","atOrigin","ColocatedPage","sortKeys","JsonPage","OverviewPage","apiVersion","metadata","spec","relations","groupedRelations","ListItemSecondaryAction","entry","tag","groupRelations","group","YamlPage","TabPanel","other","a11yProps","tabNames","tabs","InspectEntityDialog","activeTab","setActiveTab","getTabIndex","DialogContent","Tabs","tabIndex","tab","Tab","allTabs","initialTab","useUnregisterEntityDialogState","locationRef","isBootstrap","prerequisites","locationPromise","colocatedEntitiesPromise","locationAnnotationFilter","location2","colocatedEntities2","unregisterLocation","deleteEntity","showDelete","setShowDelete","onUnregister","entityName","DialogActionsPanel","Divider","UnregisterEntityDialog","UnregisterEntity","unregisterEntityOptions","isUnregisterAllowed","onUnregisterEntity","isBoolean","unregisterButton","MenuItem","Cancel","EntityContextMenuContext","EntityContextMenuProvider","onMenuClose","EntityContextMenu","UNSTABLE_extraContextMenuItems","UNSTABLE_contextMenuOptions","contextMenuItems","onInspectEntity","isAllowed","onOpen","copyState","copyToClipboard","useCopyToClipboard","extraItems","Tooltip","IconButton","MoreVert","Popover","MenuList","BugReport","FileCopyTwoTone","dataKey","Route","EntityLayoutTitle","headerProps","paramKind","paramNamespace","paramName","EntityLabels","ownedByRelations","findParentRelation","entityRelations","relationTypes","foundRelation","relation","EntityLayout","NotFoundComponent","parentEntityRelations","routes","elementProps","headerTitle","headerType","searchParams","setSearchParams","catalogRoute","unregisterRedirectRoute","parentEntity","ancestorEntity","selectedInspectTab","showInspectTab","newTab","makeFieldSchemaFromZod","returnSchema","uiOptionsSchema","AnalyticsReactContext","useAnalyticsContext","theContext","theValue","AnalyticsContext","attributes","combinedValue","versionedCombinedValue","formFieldsApiRef","OwnedEntityPickerSchema","searchApiRef","MockSearchApi","mockedResults","entityRouteRef","entityRouteParams","entityOrRef","parsed","encodeParams","CardActionsTopRight","VARIANT_STYLES","InfoCard","subheader","divider","deepLink","slackChannel","errorBoundaryProps","variant","alignContent","headerStyle","icon","actionsClassName","actions","cardClassName","actionsTopRight","titleTypographyProps","subheaderTypographyProps","calculatedStyle","calculatedCardStyle","cardSubTitle","errProps","isValidHost","check","isValidUrl","basicIntegrations","integrations","getHost","defaultScmResolveUrl","base","lineNumber","updated","href","filepath","repoRootPath","MultiEntityPicker","noOfItemsSelected","setNoOfItemsSelected","maxItems","refs","validateMultiEntityPickerValidation","validation","entityQueryFilterExpressionSchema","MultiEntityPickerSchema","FavoriteToggleIcon","isFavorite","FavoriteToggle","iconButtonProps","CATALOG_FILTER_EXISTS","errorApiRef","catalogGraphPlugin","EntityCatalogGraphCard","CatalogGraphPage","BottomLink","BitbucketRepoBranchPicker","accessToken","workspace","branch","availableBranches","setAvailableBranches","scaffolderApi","updateAvailableBranches","useDebounce","FormHelperText","DefaultRepoBranchPicker","GitHubRepoBranchPicker","RepoBranchPicker","formContext","setState","integrationApi","setSecrets","requestUserCredentials","prevState","updateLocalState","newState","hostType","renderRepoBranchPicker","getEntityRef","useStarredEntity","starredEntitiesApi","isStarredEntity","setIsStarredEntity","starredEntities","FavoriteEntity","toggleStarredEntity","flatten","headingRenderer","level","slug","components","inline","match","MarkdownContent","dialect","linkTarget","transformLinkUri","transformImageUri","ApiRefImpl","createApiRef","useFilterStyles","Filters","onChangeFilters","selectedFilters","setSelectedFilters","reset","triggerReset","el","TableLoadingBody","CircularProgress","tableIcons","AddBox","Check","Clear","DeleteOutline","ChevronRight","Edit","SaveAlt","FilterList","FirstPage","LastPage","ChevronLeft","Search","ArrowUpward","Remove","ViewColumn","extractValueByField","field","f","StyledMTableHeader","withStyles","StyledMTableToolbar","useTableStyles","convertColumns","columns","column","cellStyle","cellStyleFn","rowData","rowColumn","removeDefaultValues","defaultState","defaultInitialState","TableToolbar","toolbarProps","toolbarRef","setSearch","hasFilters","selectedFiltersLength","toggleFilters","filtersClasses","onSearchChanged","searchText","Table","emptyContent","subtitle","localization","filters","initialState","onStateChange","tableClasses","calculatedInitialState","filtersOpen","setFiltersOpen","getFieldByTitle","titleValue","tableData","selectedFiltersArray","filterValue","fieldValue","Toolbar","hasNoRows","columnCount","Body","makeBody","constructFilters","bodyProps","filterConfig","dataValue","extractDistinctValues","distinctValues","addValue","constructSelect","CommonValidatorFunctions","separator","isValidPrefix","isValidSuffix","KubernetesValidatorFunctions","n","catalogApiRef","scaffolderTranslationRef","drawerWidthClosed","iconPadding","userBadgePadding","makeSidebarConfig","customSidebarConfig","submenuConfig","makeSidebarSubmenuConfig","customSubmenuConfig","SIDEBAR_INTRO_LOCAL_STORAGE","SidebarConfigContext","SidebarItemWithSubmenuContext","formDecoratorsApiRef","CopyTextButton","tooltipDelay","tooltipText","ariaLabel","handleCopyClick","generateYamlExample","annotations","yamlText","ann","line","lineNumbers","generateDescription","entityKind","isSingular","prev","MissingAnnotationEmptyState","annotation","readMoreUrl","SessionState","SessionState2","googleAuthApiRef","githubAuthApiRef","oktaAuthApiRef","gitlabAuthApiRef","microsoftAuthApiRef","oneloginAuthApiRef","bitbucketAuthApiRef","bitbucketServerAuthApiRef","atlassianAuthApiRef","vmwareCloudAuthApiRef","KubernetesBackendClient","requestBody","clusterName","cluster","clusters","authProvider","oidcTokenProvider","request","kubernetesCredentials","headers","k8sToken","kubernetesAuthHeader","header","KubernetesProxyClient","involvedObjectName","eventList","podName","containerName","previous","GoogleKubernetesAuthProvider","googleAuthToken","ServerSideKubernetesAuthProvider","OidcKubernetesAuthProvider","providerName","authToken","auth","AksKubernetesAuthProvider","microsoftAuthApi","KubernetesAuthProviders","kubernetesAuthProvider","basePath","requiredParams","AksClusterLinksFormatter","param","selector","EksClusterLinksFormatter","kindMappings","GkeClusterLinksFormatter","googleAuthApi","region","validKind","landingPage","profile","StandardClusterLinksFormatter","OpenshiftClusterLinksFormatter","RancherClusterLinksFormatter","DEFAULT_FORMATTER_NAME","getDefaultFormatters","deps","KubernetesClusterLinkFormatter","formatter","rootCatalogKubernetesRouteRef","EntityKubernetesContent","kubernetesAuthProvidersApi","kubernetesApi","gitlabAuthApi","oktaAuthApi","oneloginAuthApi","oidcProviders","formatters","SearchBarBase","onKeyDown","onClear","onSubmit","debounceTime","clearButton","fullWidth","defaultValue","label","placeholder","inputProps","InputProps","endAdornment","setValue","forwardedValueRef","prevValue","handleChange","handleKeyDown","handleClear","inputPlaceholder","SearchIcon","startAdornment","clearButtonEndAdornment","SearchBar","initialValue","term","setTerm","alertApiRef","MyGroupsPicker","groups","updateChange","oauthRequestApiRef","kubernetesAuthProvidersApiRef","useUserProfile","identityProfile","backStageIdentity","catalogProfile","AzureRepoPicker","allowedOrganizations","allowedProject","organizationItems","projectItems","organization","BitbucketRepoPicker","allowedOwners","allowedProjects","ownerItems","availableWorkspaces","setAvailableWorkspaces","availableProjects","setAvailableProjects","updateAvailableWorkspaces","updateAvailableProjects","updateAvailableRepositories","GerritRepoPicker","GiteaRepoPicker","selected","GithubRepoPicker","availableRepositoriesWithOwner","setAvailableRepositoriesWithOwner","updateAvailableRepositoriesWithOwner","rOwner","rName","availableOwners","availableRepos","GitlabRepoPicker","availableGroups","setAvailableGroups","updateAvailableGroups","selectedGroup","RepoUrlPickerHost","hosts","hostsOptions","RepoUrlPickerRepoName","allowedRepos","repoItems","selectedRepo","serializeRepoPickerUrl","parseRepoPickerUrl","RepoUrlPicker","credentialsHost","setCredentialsHost","allowedHosts","EntityRefLink","hideIcon","disableTooltip","useEntityRoute","routeParams","sortSidebarGroupsForPriority","priority","sidebarGroupType","OverlayMenu","Drawer","Close","MobileSidebar","selectedMenuItemIndex","setSelectedMenuItemIndex","sidebarGroups","Menu","shouldShowGroupChildren","BottomNavigation","DesktopSidebar","openDelayMs","closeDelayMs","disableExpandOnHover","hoverTimerRef","handleOpen","A11ySkipSidebar","Sidebar","focusContent","DefaultResultListItemComponent","highlight","secondaryAction","lineClamp","HigherOrderDefaultResultListItem","SEARCH_RESULT_LIST_ITEM_EXTENSION","findSearchResultListItemExtensionElement","element","SearchResultListItemExtension","rank","alignItems","handleClickCapture","createSearchResultListItemExtension","predicate","useSearchResultListItemExtensions","SearchResultListItemExtensions","render","permissionApiRef","ENTITY_SWITCH_KEY","EntitySwitchCaseComponent","_props","EntitySwitch","condition","elementsChildren","AsyncEntitySwitch","getDefaultChildren","renderMultipleMatches","promises","MicDrop","StackDetails","detailsOpen","setDetailsOpen","ErrorPage","statusMessage","additionalInfo","supportUrl","support","Grid","analyticsApiRef","isQueryEntitiesInitialRequest","splitRefsIntoChunks","maxCountPerChunk","maxStringLengthPerChunk","extraStringLengthPerRef","chunks","currentChunkStart","currentChunkStringLength","currentChunkSize","refLength","pluginId","DefaultApiClient","uri","CatalogClient","order","offset","limit","encodedOrder","directive","getOneChunk","orderFields","fullTextFilter","normalizedFullTextFilterTerm","cursor","compoundName","target","dryRun","exists","l","filterItem","filterParts","durationToMilliseconds","duration","years","months","weeks","days","hours","minutes","seconds","milliseconds","DEFAULT_CACHE_TTL","DEFAULT_BATCH_DELAY","DEFAULT_ICONS","Extension","Memory","Category","Storage","Apartment","LocationOn","Person","People","FeaturedPlayList","createDefaultRenderer","ExpiryMap","#ttlMs","#timestamps","ttlMs","timestamp","DefaultEntityPresentationApi","#cache","#cacheTtlMs","#loader","#kindIcons","#renderer","cacheTtl","batchDelay","renderer","kindIcons","#createLoader","needsLoad","#getEntityForInitialRender","#maybeFallbackIcon","initialSnapshot","maybeUpdatedSnapshot","newEntity","aborted","updatedSnapshot","promise","cached","cachedEntity","cacheTtlMs","batchDelayMs","now","cb","renderedIcon","performMigrationToTheNewBucket","storageApi","source","oldStarredEntities","targetEntities","old","split","DefaultStarredEntitiesApi","opts","catalogPlugin","CatalogIndexPage","CatalogEntityPage","EntityAboutCard","EntityLinksCard","EntityLabelsCard","EntityHasSystemsCard","EntityHasComponentsCard","EntityHasSubcomponentsCard","EntityHasSubdomainsCard","EntityHasResourcesCard","EntityDependsOnComponentsCard","EntityDependencyOfComponentsCard","EntityDependsOnResourcesCard","RelatedEntitiesCard","CatalogSearchResultListItem","HeaderTabs","selectedIndex","selectedTab","setSelectedTab","isPermission","permission","comparedPermission","isResourcePermission","resourceType","isCreatePermission","isReadPermission","isUpdatePermission","isDeletePermission","toPermissionEvaluator","permissionAuthorizer","requests","parsedRequests","InternalAppContext","EntityDisplayName","primaryTitle","secondaryTitle","createApiFactory","factory","instance","useUpdatingObservable","updatedValue","useEntityPresentation","fallback","generateAuth","authProviders","authProviderStr","useKubernetesObjects","intervalMs","getObjects","retry","useAsyncRetry","useInterval","DetectedErrorsContext","useMatchingErrors","matcher","targetRef","clustersWithErrorsToErrorMessage","clustersWithErrors","j","errorMessage","row","sortBySeverity","ErrorReporting","detectedErrors","resourceErrors","groupResponses","fetchResponse","PodNamesWithErrorsContext","GroupedResponsesContext","useIsPodExecTerminalEnabled","currentToDeclaredResourceToPerc","numerator","denominator","bytesToMiB","formatMillicores","createStyles","KubernetesDialog","buttonAriaLabel","buttonIcon","buttonText","disabled","openDialog","closeDialog","useIsPodExecTerminalSupported","authProviderName","PodExecTerminalAttachAddon","#textEncoder","socket","thisAddon","buffer","hasSocketProtocol","PodExecTerminal","podNamespace","setBaseUrl","terminalRef","urlParams","socketUrl","terminal","fitAddon","attachAddon","PodExecTerminalDialog","isPodExecTerminalSupported","OpenInBrowser","defaultGaugeProps","getProgressColor","palette","inverse","max","actualMax","actualValue","Gauge","hoverRef","setHoverRef","getColor","size","fractional","unit","relativeToMax","decimalDigits","asPercentage","asActual","asDisplay","isHovering","setIsHovering","handleMouseOver","handleMouseOut","LinearGauge","percent","lineWidth","strokeColor","ResourceUtilization","compressed","usage","total","totalFormatted","utilization","DismissableBanner","fixed","notificationsStore","observedItems","useObservable","dismissedBanners","loadingSettings","Snackbar","SnackbarContent","usePodLogs","containerScope","kubernetesProxyApi","PodLogs","Paper","Skeleton","PodLogsDialog","Subject","getContainerHealthChecks","containerSpec","containerStatus","healthCheck","getCurrentState","getStartedAtTime","ContainerDatetime","prefix","dateTime","ContainerCard","podScope","containerMetrics","isPodExecTerminalEnabled","containerStartedTime","containerFinishedTime","CardHeader","CardActions","ManifestYaml","object","managedFields","setManagedFields","FormControlLabel","Switch","useDrawerContentStyles","_theme","KubernetesDrawerContent","kubernetesObject","close","isYaml","setIsYaml","useDrawerStyles","DrawerButton","KubernetesDrawer","drawerContentsHeader","setIsOpen","toggleDrawer","kubernetesReactTranslationRef","usePodDelete","PodDeleteButton","isLoading","setIsLoading","setHasError","deletePod","handleDeleteClick","PodCondition","PendingPodContent","pod","startupConditions","useEvents","getAvatarByType","ListItemAvatar","Avatar","Warning","Info","EventsContent","events","warningEventsOnly","timeAgo","Events","FixDialog","pf","dialogContent","fix","Help","OpenInNew","podAndErrors","pae","onlyPodWithErrors","PodMetricsContext","usePodMetrics","useIsPodDeleteEnabled","getContainerSpecByName","PodDrawer","podMetrics","isPodDeleteEnabled","ClusterContext","containersReady","containerStatuses2","cs","totalRestarts","containerStatuses","accum","waiting","terminated","renderCell","renderCondition","podStatusToCpuUtil","podStatus","cpuUtil","currentUsage","podStatusToMemoryUtil","memUtil","READY_COLUMNS","RESOURCE_COLUMNS","READY","PodDrawerTrigger","Cpu","metrics","PodsTable","pods","extraColumns","resourceColumns","tableStyle","PodDrawerButton","LinkErrorPanel","replaceNullsWithUndefined","someObj","KubernetesStructuredMetadataTableDrawerContent","renderObject","clusterLink","KubernetesStructuredMetadataTableDrawer","buttonVariant","expanded","DeploymentDrawer","deployment","deploymentObj","conditions","Chip","HorizontalPodAutoscalerDrawer","hpa","specCpuUtil","metric","hpaObject","getOwnedResources","potentialOwner","possiblyOwned","p","o","getOwnedPodsThroughReplicaSets","replicaSets","rs","getMatchingHpa","hpas","DeploymentSummary","numberOfCurrentPods","numberOfPodsWithErrors","DeploymentAccordion","ownedPods","matchingHpa","podNamesWithErrors","podsWithErrors","Accordion","AccordionSummary","ExpandMore","AccordionDetails","DeploymentsAccordions","groupedResponses","StatefulSetDrawer","statefulset","statefulsetObj","StatefulSetSummary","StatefulSetAccordion","StatefulSetsAccordions","IngressDrawer","ingress","ingressObject","IngressSummary","IngressCard","IngressAccordion","IngressesAccordions","ServiceDrawer","service","serviceObject","ServiceSummary","ServiceCard","ServiceAccordion","ServicesAccordions","JobDrawer","job","jobObj","JobSummary","JobAccordion","JobsAccordions","jobs","CronJobDrawer","cronJob","cronJobObj","k8sCronAliases","humanizeCron","schedule","deAliasedSchedule","CronJobSummary","CronJobAccordion","ownedJobs","CronJobsAccordions","RolloutDrawer","rollout","isSetWeightStep","step","isPauseStep","isAnalysisStep","createLabelForStep","StepsProgress","currentStepIndex","steps","activeStepIndex","Stepper","Step","StepLabel","AbortedTitle","ErrorOutline","findAbortedMessage","RolloutSummary","pauseTime","abortedMessage","Pause","RolloutAccordion","RolloutAccordions","rollouts","capitalize","DefaultCustomResourceDrawer","customResource","customResourceName","capitalizedName","cr","DefaultCustomResourceSummary","DefaultCustomResourceAccordion","DefaultCustomResourceAccordions","customResources","kindToResource","CustomResources","kindToResourceMap","resources","DaemonSetDrawer","daemonset","daemonsetObj","DaemonSetSummary","DaemonSetAccordion","DaemonSetsAccordions","ClusterSummary","totalNumberOfPods","Cluster","clusterObjects","podMetricsMap","detectErrorsInObjects","objects","errorMappers","em","isPodReadinessProbeUnready","podToContainerSpecsAndStatuses","specs","readinessProbeProposedFixes","restartingPodProposedFixes","lastTerminatedCs","lastTerminated","waitingProposedFix","waitingCs","w","podErrorMappers","detectErrorsInPods","deploymentErrorMappers","detectErrorsInDeployments","deployments","hpaErrorMappers","detectErrorsInHpa","detectErrors","clusterResponse","clusterErrors","kubernetesProxyPermission","kubernetesResourcesReadPermission","kubernetesClustersReadPermission","kubernetesPermissions","kubernetesTranslationRef","RequireKubernetesPermissions","kubernetesClustersPermissionResult","kubernetesResourcesPermissionResult","KubernetesContent","refreshIntervalMs","kubernetesObjects","de","KUBERNETES_ANNOTATION","KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION","ANNOTATION_KUBERNETES_API_SERVER","ANNOTATION_KUBERNETES_API_SERVER_CA","ANNOTATION_KUBERNETES_AUTH_PROVIDER","ANNOTATION_KUBERNETES_OIDC_TOKEN_PROVIDER","ANNOTATION_KUBERNETES_SKIP_METRICS_LOOKUP","ANNOTATION_KUBERNETES_SKIP_TLS_VERIFY","ANNOTATION_KUBERNETES_DASHBOARD_URL","ANNOTATION_KUBERNETES_DASHBOARD_APP","ANNOTATION_KUBERNETES_DASHBOARD_PARAMETERS","ANNOTATION_KUBERNETES_AWS_ASSUME_ROLE","ANNOTATION_KUBERNETES_AWS_CLUSTER_ID","ANNOTATION_KUBERNETES_AWS_EXTERNAL_ID","isKubernetesAvailable","Router","kubernetesAnnotationValue","kubernetesLabelSelectorQueryAnnotationValue","DependencyGraphTypes","DependencyGraphTypes2","Direction2","Alignment2","Ranker2","LabelPosition2","PendingIcon","dataTestId","RunningIcon","AbortedIcon","StatusOK","CheckCircleOutline","StatusWarning","StatusError","StatusPending","StatusRunning","StatusAborted","rootRoute","globalEvents","routableExtensionRenderedEvent","Tracker","_routeNodeType","apiDocsPlugin","definitionWidgets","apiEntity","ApiExplorerPage","EntityApiDefinitionCard","EntityConsumedApisCard","EntityConsumingComponentsCard","EntityProvidedApisCard","EntityProvidingComponentsCard","EntityHasApisCard","techdocsApiRef","techdocsStorageApiRef","useSubvalueCellStyles","SubvalueCell","subvalue","PluginImpl","extension","createPlugin","HighlightedSearchResultText","preTag","postTag","terms","idx","isReactRouterBeta","obj","useAnalyticsApi","useAnalytics","trackerRef","getTracker","tracker","humanizeEntityRef","humanizeEntity","defaultName","configApiRef","createVersionedContext","useVersionedContext","createVersionedContextForTesting","getExtensionContext","pathname","routeMatch","routeObject","routeRef","acc","TrackNavigation","hash","RouteTracker","routeObjects","getBasePath","readBasePath","SignInPageWrapper","appIdentityProxy","setIdentityApi","AppRouter","RouterComponent","SignInPageComponent","mountPath","internalAppContext","DEFAULT_NAMESPACE","ANNOTATION_VIEW_URL","ANNOTATION_EDIT_URL","AMAZON_AWS_HOST","readAwsS3IntegrationConfig","s3ForcePathStyle","accessKeyId","secretAccessKey","roleArn","externalId","readAwsS3IntegrationConfigs","AwsS3Integration","integrationConfig","AMAZON_AWS_CODECOMMIT_HOST","readAwsCodeCommitIntegrationConfig","readAwsCodeCommitIntegrationConfigs","AwsCodeCommitIntegration","pathMatch","replaceCodeCommitUrlType","VERSION_PREFIX_GIT_BRANCH","AzureUrl","#origin","#owner","#project","#repo","#path","#ref","#baseUrl","AZURE_HOST","AzureDevOpsCredentialFields","AzureDevopsCredentialFieldMap","asAzureDevOpsCredential","credential","requiredFields","forbiddenFields","readAzureIntegrationConfig","credentialConfigs","mapped","credentials","credentialConfig","indexes","readAzureIntegrationConfigs","AzureIntegration","azureUrl","newUrl","mockBaseUrl","updatedPath","BITBUCKET_CLOUD_HOST","BITBUCKET_CLOUD_API_BASE_URL","readBitbucketCloudIntegrationConfig","username","appPassword","readBitbucketCloudIntegrationConfigs","BitbucketCloudIntegration","resolved","urlData","editUrl","BITBUCKET_HOST","BITBUCKET_API_BASE_URL","readBitbucketIntegrationConfig","readBitbucketIntegrationConfigs","BitbucketIntegration","readBitbucketServerIntegrationConfig","password","readBitbucketServerIntegrationConfigs","BitbucketServerIntegration","readGerritIntegrationConfig","cloneUrl","gitilesBaseUrl","readGerritIntegrationConfigs","GERRIT_BODY_PREFIX","parseGerritGitilesUrl","baseUrlParse","urlParse","projectEndIndex","branchIndex","filePath","parseGitilesUrlRef","projectParts","remainingPath","matchString","refType","refsReference","buildGerritGitilesArchiveUrl","archiveName","getGitilesAuthenticationUrl","buildGerritGitilesArchiveUrlFromLocation","getAuthenticationPrefix","getGerritBranchApiUrl","getGerritCloneRepoUrl","getGerritFileContentsApiUrl","getGerritProjectsApiUrl","getGerritRequestOptions","parseGerritJsonResponse","responseBody","GerritIntegration","readGiteaConfig","getGiteaEditContentsUrl","giteaUrl","parseGiteaUrl","getGiteaFileContentsUrl","getGiteaArchiveUrl","getGiteaLatestCommitUrl","getGiteaRequestOptions","_blank","_src","_branch","pathWithoutSlash","GiteaIntegration","giteaConfigs","gitea","readHarnessConfig","apiKey","getHarnessEditContentsUrl","parsedUrl","parseHarnessUrl","getHarnessFileContentsUrl","constructedUrl","getHarnessArchiveUrl","getHarnessLatestCommitUrl","getHarnessRequestOptions","pathUrl","pathSegments","segment","urlParts","accountIdIndex","accountId","orgNameIndex","orgName","projectNameIndex","projectName","repoNameIndex","refAndPath","refIndex","refString","HarnessIntegration","harnessConfigs","harness","readAzureBlobStorageIntegrationConfig","accountName","accountKey","sasToken","connectionString","endpointSuffix","aadCredential","readAzureBlobStorageIntegrationConfigs","AzureBlobStorageIntergation","ScmIntegrations","integrationsByType","candidates","filteredCandidates","integration","ScmIntegrationsApi","scmIntegrationsApiRef","useEntityPermission","loadingEntity","entityError","allowed","loadingPermission","permissionError","Settings","routePath","catalogTranslationRef","GithubIntegration","replaceGithubUrlType","MobileSidebarGroup","value2","SidebarGroup","RepoBranchPickerSchema","useItemStyles","LoginRequestListItem","setError","handleContinue","IconComponent","OAuthRequestDialog","oauthRequestApi","authRedirect","handleRejectAll","Direction","warned","FlatRoutes","NotFoundErrorPage","isBeta","withNotFound","discoveryApiRef","CodeSnippet","language","showLineNumbers","highlightedNumbers","customStyle","showCopyCodeButton","mode","highlightColor","entityNamePickerValidation","useSelectedSubRoute","subRoutes","sortedRoutes","currentRoute","matchedRoute","foundIndex","RoutedTabs","route","headerTabs","tabProps","SearchResultContext","SearchResultApi","searchApi","types","SearchResultState","SearchResultComponent","noResultsComponent","SearchResult","scaffolderApiRef","MyGroupsPickerSchema","OwnerPickerSchema","NESTED_LIST_TOGGLE","EXPANDABLE_NAVIGATION_LOCAL_STORAGE","StyledButton","CollapsedIcon","ExpandedIcon","ExpandableNavigationAddon","setExpanded","useLocalStorageValue","hasNavSubLevels","setHasNavSubLevels","checkboxToggles","shouldToggle","isExpanded","shouldExpand","handleState","ADDON_FEEDBACK_CONTAINER_ID","ADDON_FEEDBACK_CONTAINER_SELECTOR","ADDON_ISSUE_REPO_TYPES_SUPPORTED","PAGE_EDIT_LINK_SELECTOR","PAGE_FEEDBACK_LINK_SELECTOR","PAGE_MAIN_CONTENT_SELECTOR","resolveBlobUrl","getTitle","selection","ellipsis","getBody","markdownUrl","subheading","commentHeading","commentPlaceholder","highlightedTextAsQuote","facts","useGitTemplate","initialTemplate","editLink","useGitRepository","getIcon","getName","getUrl","template","encodedTitle","encodedBody","protocol","encodedUrl","IssueLink","ReportIssueAddonContent","templateBuilder","setStyle","defaultTemplate","mainContent","feedbackLink","feedbackContainer","mainContentPosition","selectionPosition","distanceFromTop","minDistanceFromTop","top","absMainContentTop","Portal","ReportIssueAddon","boxShadow","StyledSlider","Slider","settings","marks","TextSizeAddon","mark","min","getValueText","handleChangeCommitted","_event","handleDecreaseClick","handleIncreaseClick","htmlFontSize","Add","LightBoxAddon","images","dataSourceImages","lightbox","zoomLevelObject","imageWidth","imageHeight","viewportWidth","viewportHeight","widthScale","heightScale","image","dataSourceImage","techdocsModuleAddonsContribPlugin","ExpandableNavigation","ReportIssue","TextSize","LightBox","TechDocsClient","requestUrl","entityId","TechDocsStorageClient","logHandler","reject","fetch","oldBaseUrl","newBaseUrl","techdocsPlugin","TechdocsPage","EntityTechdocsContent","TechDocsCustomHome","TechDocsIndexPage","TechDocsReaderPage","TechDocsSearchResultListItem","HeaderLabelContent","typographyRootComponent","HeaderLabel","contentTypograpyRootComponent","defaultSidebarPinStateContext","LegacySidebarPinStateContext","VersionedSidebarPinStateContext","SidebarPinStateProvider","useSidebarPinState","versionedPinStateContext","legacyPinStateContext","pinStateContext","EmptyStateImage","missing","EmptyState","SlackLink","ErrorBoundary","errorInfo","toLowercaseEntityRefMaybe","areEntityRefsEqual","prevEntityRef","nextEntityRef","defaultTechDocsReaderPageValue","TechDocsReaderPageContext","TechDocsReaderPageProvider","techdocsApi","entityMetadata","setTitle","setSubtitle","shadowRoot","setShadowRoot","prevProps","nextProps","useTechDocsReaderPage","versionedContext","RealLogViewer","LogViewer","isError","maybe","assertError","tableTitleCellStyles","tableContentCellStyles","listStyles","listItemStyles","TitleCell","TableCell","ContentCell","MetadataTable","dense","TableBody","MetadataTableItem","TableRow","MetadataList","MetadataListItem","listStyle","nestedListStyle","StyledList","StyledNestedList","renderList","list","nested","toValue","renderMap","map","ItemValue","TableItem","mapToItems","info","StructuredMetadataTable","metadataItems","appThemeApiRef","useDefaultSupportConfig","useSupportConfig","supportConfig","defaultSupportConfig","itemConf","linkConf","ENTITY_STATUS_CATALOG_PROCESSING_TYPE","errorFilter","getOwnAndAncestorsErrors","hasCatalogProcessingErrors","EntityProcessingErrorsPanel","ancestorError","kubernetesApiRef","kubernetesProxyApiRef","kubernetesClusterLinkFormatterApiRef","EntityNamePickerSchema","ScaffolderField","displayLabel","help","rawDescription","parseErrorResponseBody","ResponseError","statusCode","statusText","cause","RESOURCE_TYPE_CATALOG_ENTITY","catalogEntityReadPermission","catalogEntityCreatePermission","catalogEntityDeletePermission","catalogEntityRefreshPermission","catalogEntityValidatePermission","catalogLocationReadPermission","catalogLocationCreatePermission","catalogLocationAnalyzePermission","catalogLocationDeletePermission","catalogPermissions","useRouteRef","resolver","routeFunc","isOptional","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","arr","stringify","uuid","v4","buf","rnds","useAsyncFilterValues","fn","defaultValues","debounce","valuesMemo","definiteFn","callback","useAsyncFn","possibleValue","useDefaultFilterValue","setFilters","prevFilters","AutocompleteFilter","givenValues","valuesDebounceMs","filterSelectedOptions","limitTags","multiple","asyncValues","others","renderInput","renderTags","tagValue","getTagProps","CheckboxFilter","checked","FormLabel","Checkbox","SelectFilter","allOptionValue","allOption","SearchFilter","Element","settingsRouteRef","UserSettingsPage","ERROR_PREFIX","UrlPatternDiscovery","pattern","urlStr","FrontendHostDiscovery","endpoints","defaultEndpoint","discovery","PublishSubject","onNext","onComplete","observer","BehaviorSubject","AlertApiForwarder","alert","NoOpAnalyticsApi","ErrorAlerter","ErrorApiForwarder","UnhandledErrorForwarder","errorContext","buckets","WebStorage","bucketPath","webStorage","presence","_key","val","messageKey","eventKey","trimmedKey","createFetchApi","middleware","IdentityAuthInjectorFetchMiddleware","allowUrl","headerName","headerValue","buildMatcher","init","buildPrefixMatcher","prefixes","trimmedPrefixes","join","left","right","PluginProtocolResolverFetchMiddleware","hostname","authority","isUrl","FetchMiddlewares","hasScopes","searched","searchFor","scope","joinScopes","scopes","moreScopess","moreScopes","OAuthPendingRequests","currentScopes","OAuthRequestManager","handler","scopeRequest","newRequests","showLoginPopup","popup","targetOrigin","messageListener","authResult","done","intervalId","errMessage","defaultJoinScopes","DefaultAuthConnector","environment","sessionTransform","popupOptions","res","authInfo","popupUrl","queryString","SessionScopeHelper","session","sessionScopes","newScope","SessionStateTracker","isSignedIn","RefreshingAuthSessionManager","connector","defaultScopes","sessionShouldRefresh","refreshedSession","refreshedScopes","newSession","DEFAULT_PROVIDER","OAuth2","scopeTransform","backstageIdentity","sessionManager","normalizedScopes","scopeList","SCOPE_PREFIX","GoogleAuth","MicrosoftAuth","audiences","aud","audience","resourceURI","GithubAuth","OKTA_OIDC_SCOPES","OKTA_SCOPE_PREFIX","OktaAuth","GitlabAuth","OIDC_SCOPES","OneLoginAuth","BitbucketAuth","BitbucketServerAuth","AtlassianAuth","VMwareCloudAuth","permissionCriteriaSchema","authorizePermissionResponseSchema","queryPermissionResponseSchema","responseSchema","itemSchema","ids","PermissionClient","queries","permissionApi","responsesById","IdentityPermissionApi","permissionClient","identity","OptionallyWrapInRouter","DefaultNotFoundPage","DefaultBootErrorPage","DefaultErrorBoundaryFallback","resetError","icons","Star","StarBorder","generateV4ClassName","createGenerateClassName","UnifiedThemeProvider","noCssBaseline","v4Theme","v5Theme","cssBaseline","CssBaseline","StylesProvider","ThemeProvider","StyledEngineProvider","palettes","shapes","colorVariants","genPageTheme","colors","shape","gradient","backgroundImage","fontColor","pageTheme","DEFAULT_HTML_FONT_SIZE","DEFAULT_FONT_FAMILY","DEFAULT_PAGE_THEME","defaultTypography","createBaseThemeOptions","fontFamily","defaultPageTheme","pageTheme$1","typography","themeId","defaultComponentThemes","__v5Spacing","defaultSpacing","argsInput","transform","argument","themeSpacing","adaptV5CssBaselineOverride","adaptV5Override","stateStyleKeyPattern","extractV5StateOverrides","_styleKey","styleKey","stateStyles","restStyles","transformV5ComponentThemesToV4","UnifiedThemeHolder","#themes","v5","createUnifiedTheme","themeOptions","v4Overrides","createUnifiedThemeFromV4","themes","ApiAggregator","holders","holder","ApiContext","ApiProvider","parentHolder","ApiResolver","factories","heap","allDeps","dep","impl","dependent","ScopePriority","ScopePriority2","ApiFactoryRegistry","existing","tuple","STORAGE_KEY","AppThemeSelector","initialThemeId","CONFIG_KEY_PART_PATTERN","isObject","cloneDeep","merge","into","fromObj","out","typeOf","typeName","ConfigReader","previousReader","filteredKeys","deprecatedKeys","reader","localKeys","fallbackKeys","fallbackValue","fallbackConfig","number","valueString","validate","keyName","badKey","validateFlagName","LocalStorageFeatureFlags","flag","enabled","jsonStr","json","entries","traverseElementTree","collectors","queue","parent","contexts","nextContexts","collector","discoverer","createCollector","accumulatorFactory","visit","childDiscoverer","routeElementDiscoverer","pluginCollector","FeatureFlagged","featureFlagApi","isEnabled","MATCH_ALL_ROUTE","stringifyNode","anyNode","pluginSet","set","collectSubTree","routingV2Collector","pathProp","parentChildren","elementProp","newObj","mountPointPlugin","routingV1Collector","currentObj","currentParentRouteRef","sticky","currentCtxPath","featureFlagCollector","isRouteRef","isSubRouteRef","isExternalRouteRef","joinPaths","paths","normalized","resolveTargetRef","anyRouteRef","routePaths","routeBindings","subRoutePath","resolvedRoute","resolvedPath","targetPath","resolveBasePath","sourceLocation","routeParents","refDiffList","matchIndex","targetSearchRef","parentPath","diffPaths","RouteResolver","appBasePath","relativeSourceLocation","encodedParams","RoutingContext","RoutingProvider","validateRouteParameters","notLeafRoutes","currentRouteRef","fullPath","validateRouteBindings","plugins","externalRouteRef","AppContext","AppContextProvider","appContext","PLUGIN_ID","CHANNEL_ID","MIN_BASE_DELAY_MS","ERROR_BACKOFF_START","ERROR_BACKOFF_FACTOR","ERROR_BACKOFF_MAX","startCookieAuthRefresh","stopped","timeout","firstError","errorBackoff","channel","getDelay","expiresAt","margin","scheduleRefresh","onMessage","delayMs","mkError","thing","logDeprecation","AppIdentityProxy","#cookieAuthSignOut","targetOptions","stopRefresh","resolveTheme","shouldPreferDark","selectedTheme","darkTheme","lightTheme","useShouldPreferDarkTheme","mediaQuery","setPrefersDark","listener","AppThemeProvider","appThemeApi","appTheme","defaultConfigLoader","defaultConfigLoaderSync","runtimeConfigJson","staticConfig","configScripts","windowAppConfig","ApiRegistryBuilder","ApiRegistry","collectRouteIds","routesById","externalRoutesById","resolveRouteBindings","bindRoutes","disabledExternalRefs","externalRoutes","targetRoutes","externalRoute","bindings","externalRefId","targetRefId","isValidTargetRefId","externalRef","defaultRefId","defaultRef","DEFAULT_LANGUAGE","AppLanguageSelector","languages","initialLanguage","storedLanguage","#languages","#language","#subject","lng","toInternalTranslationResource","toInternalTranslationRef","removeNulls","messages","ResourceLoader","onLoad","#loaded","#loading","#loaders","internalResource","#getLoaderKey","loader","load","I18nextTranslationApi","i18n","loaded","#changeLanguage","#i18n","#registeredRefs","#languageChangeListeners","internalRef","#registerDefaults","#createSnapshot","loadTicket","loadResource","ticket","defaultMessages","defaultResource","createLocalBaseUrl","fullUrl","overrideBaseUrlConfigs","inputConfigs","urlConfigReader","backendBaseUrl","newBackendBaseUrl","newAppBaseUrl","appOrigin","backendOrigin","maybeNewBackendBaseUrl","maybeNewAppBaseUrl","isProtectedApp","useConfigLoader","configLoader","hasConfig","noConfigNode","BootErrorPage","AppContextImpl","AppManager","AppProvider","#getProviderCalled","routeValidationError","needsFeatureFlagRegistrationRef","routing","featureFlags","usesReactRouterBeta","loadedConfig","hasConfigApi","featureFlagsApi","registeredFlags","flagNames","languageApi","pluginIds","createSpecializedApp","createApp","RequirePermission","resourceRef","permissionResult","SidebarSubmenuItem","exact","closeSubmenu","toLocation","currentLocation","showDropDown","setShowDropDown","handleClickDropdown","ArrowDropUp","ArrowDropDown","MyGroupsSidebarItem","singularTitle","pluralTitle","catalogEntityRoute","entityDisplayName","ExternalLinkIcon","isExternalUri","scriptProtocolPattern","originalWindowOpen","newOpen","useBaseUrl","useBasePath","useResolvedPath","external","startsWithBasePath","getNodeText","Link","externalLinkIcon","linkText","newWindow","FIELD_EXTENSION_WRAPPER_KEY","FIELD_EXTENSION_KEY","SidebarSubmenu","isSubmenuOpen","setIsSubmenuOpen","ScmAuthMux","#providers","providers","ScmAuth","github","gitlab","azure","bitbucket","authApi","githubAuthApi","bitbucketAuthApi","repoWriteScopes","#api","#host","#scopeMapping","#providerName","scopeMapping","additionalScopes","additionalScope","restOptions","uniqueScopes","useRouteRefParams","_routeRef","selectChildren","rootNode","strictError","Collection","useElementFilter","filterFn","dependencies","defaultSidebarOpenStateContext","LegacySidebarContext","VersionedSidebarContext","SidebarOpenStateProvider","useSidebarOpenState","versionedOpenStateContext","legacyOpenStateContext","openStateContext","AlertDisplay","setMessages","anchorOrigin","transientTimeoutMs","timeoutMs","msgs","firstMessage","newMsgs","msg","RouteRefImpl","createRouteRef","repoPickerValidation","getRelationWarnings","entityRefRelations","relatedEntities","hasRelationWarnings","EntityRelationWarning","parseRefString","colonI","slashI","getCompoundEntityRef","parseEntityRef","textual","stringifyEntityRef","parseLocationRef","splitIndex","stringifyLocationRef","getEntitySourceLocation","TypeFragment","typeLink","pageTitle","TitleFragment","tooltip","FinalTitle","SubtitleFragment","Header","pageTitleOverride","documentTitle","titleTemplate","defaultTitle","EntityNamePicker","autoFocus","createPermission","catalogReactTranslationRef","DefaultNode","ARROW_MARKER_ID","NODE_TEST_ID","EDGE_TEST_ID","LABEL_TEST_ID","renderDefault","Node","setNode","y","nodeProps","nodeRef","DefaultLabel","Edge","setEdge","edge","curve","showArrowHeads","points","labelProps","labelRef","createPath","finitePoints","point","WORKSPACE_ID","DependencyGraph","renderNode","direction","align","nodeMargin","edgeMargin","rankMargin","paddingX","paddingY","acyclicer","ranker","labelPosition","labelOffset","edgeRanks","edgeWeight","renderLabel","defs","zoom","fit","svgProps","containerWidth","setContainerWidth","containerHeight","setContainerHeight","graph","graphWidth","setGraphWidth","graphHeight","setGraphHeight","graphNodes","setGraphNodes","graphEdges","setGraphEdges","maxWidth","maxHeight","minHeight","scalableHeight","containerRef","enableZoom","newContainerWidth","newContainerHeight","setNodesAndEdges","currentGraphNodes","currentGraphEdges","nodeId","existingNode","updateGraph","newHeight","newWidth","ClosedDropdown","OpenedDropdown","BootstrapInput","InputBase","SelectComponent","native","handleDelete","selectedValue","chip","InputLabel","Select","Page","baseTheme","isLocationMatch","toDecodedSearch","toQueryParameters","currentDecodedSearch","currentQueryParameters","queryStringMatcher","storageApiRef","SearchTypeAccordion","setTypes","givenTypes","toggleExpanded","definedTypes","resultCounts","counts","numberOfResults","SearchTypeTabs","changeTab","newType","SearchType","strCmp","strCmpAll","cmpValues","cmpVal","isKind","isEntityWith","isComponentType","isResourceType","isApiType","isNamespace","namespaces","globalStore","componentDataKey","attachComponentData","dataComponent","getComponentData","useShadowRoot","useShadowRootElements","selectors","setRootNode","nodeList","isValidSelection","newSelection","useShadowRootSelection","waitMillis","setSelection","handleSelectionChange","shadowDocument","GITLAB_HOST","GITLAB_API_BASE_URL","readGitLabIntegrationConfig","readGitLabIntegrationConfigs","getGitLabIntegrationRelativePath","relativePath","GitLabIntegration","replaceGitLabUrlType","FeatureFlagState","FeatureFlagState2","featureFlagsApiRef","SearchClient","searchPlugin","SearchPage","SidebarSearchModal","HomePageSearchBar","LinkWrapper","LinkButton","UserSettingsSignInAvatar","translationApiRef","SearchContext","useSearch","useSearchContextCheck","defaultInitialSearchState","useSearchContextValue","prevTerm","resultSet","hasPreviousPage","fetchPreviousPage","LocalSearchContext","SearchContextProvider","inheritParentContextIfAvailable","hasParentContext","propsInitialSearchState","configInitialSearchState","searchContextInitialState","makeFieldSchema","RepoUrlPickerSchema","z","createComponentRouteRef","createFromTemplateRouteRef","unregisterRedirectRouteRef","PARAM_PATTERN","SubRouteRefImpl","createSubRouteRef","pathParams","MobileSidebarContext","fullMessage","causeStr","InputError","AuthenticationError","NotAllowedError","NotFoundError","ConflictError","NotModifiedError","NotImplementedError","ServiceUnavailableError","ForwardedError","coreComponentsTranslationRef","GuestUserIdentity","parseJwtPayload","_header","_signature","LegacyUserIdentity","sub","ent","UserIdentity","GridItem","commonProvider","onSignInStarted","onSignInSuccess","onSignInFailure","handleLogin","identityResponse","proxiedSessionSchema","DEFAULTS","tokenToExpiry","jwtToken","rawPayload","ProxiedSignInIdentity","mergedHeaders","getIdentity","guestProvider","setUseLegacyGuestToken","useLocalStorage","handle","useLegacyGuestToken","ID_TOKEN_REGEX","useFormStyles","customProvider","register","handleSubmit","formState","handleResult","userId","idToken","IdentityApiSignOutProxy","PROVIDER_STORAGE_KEY","signInProviders","validateIDs","getSignInProviders","identityProviders","useSignInProviders","setLoading","_setSearchParams","useMountEffect","errorParam","handleWrappedResult","selectedProviderId","didCancel","handleSignInSuccess","handleSignInStarted","handleSignInFailure","MultiSignInPage","titleComponent","providerElements","SingleSignInPage","auto","ErrorComponent","showLoginPage","setShowLoginPage","login","checkExisting","showPopup","SignInPage","apiDocsConfigRef","appLanguageApiRef","usePermission","entityPresentationApiRef","AppIcon","Fallback","BrokenImageIcon","CatalogIcon","ChatIcon","DashboardIcon","DocsIcon","EmailIcon","GitHubIcon","GroupIcon","UserIcon","WarningIcon","StarIcon","UnstarredIcon","orgPlugin","EntityGroupProfileCard","EntityMembersListCard","EntityOwnershipCard","EntityUserProfileCard","identityApiRef","fetchApiRef","EntityPickerSchema","useApp","renderRow","OuterElementContext","OuterElementType","outerProps","VirtualizedListbox","itemData","itemCount","itemSize","defaultEntityPresentation","getParts","shortRef","getShortRef","primary","candidate","secondary","isString","defaultKindLower","defaultNamespaceLower","isVisible","setIsVisible","RELATION_OWNED_BY","RELATION_OWNER_OF","RELATION_CONSUMES_API","RELATION_API_CONSUMED_BY","RELATION_PROVIDES_API","RELATION_API_PROVIDED_BY","RELATION_DEPENDS_ON","RELATION_DEPENDENCY_OF","RELATION_PARENT_OF","RELATION_CHILD_OF","RELATION_MEMBER_OF","RELATION_HAS_MEMBER","RELATION_PART_OF","RELATION_HAS_PART","SecretsContext","SecretsContextProvider","initialSecrets","useTemplateSecrets","updateSecrets","currentSecrets","createTranslationResource","flattenMessages","TranslationRefImpl","#id","#messages","#resources","createTranslationRef","ANNOTATION_LOCATION","ANNOTATION_ORIGIN_LOCATION","ANNOTATION_SOURCE_LOCATION","getWarningTextColor","severity","getWarningBackgroundColor","useErrorOutlineStyles","ErrorOutlineStyled","ExpandMoreIconStyled","WarningPanel","subTitle","ResponseErrorPanel","errorString","requestString","messageString","stackString","jsonString"],"sourceRoot":""}